{"version":3,"file":"services-node.min.js","mappings":";gBAIIA,kBCHJ,MAAMC,EAAS,iBAGfC,EAAOC,QAAU,CACb,WAAY,aACZ,cAAe,SACf,uBAAwB,iBAExB,wBAAyB,oBACzB,2BAA4B,aAG5B,mCAA6BF,EAA7B,qBACA,gCAA0BA,EAA1B,2CAGA,8BAAwBA,EAAxB,2CACA,wCAAkCA,EAAlC,6CACA,6BAAuBA,EAAvB,0CACA,mCAA6BA,EAA7B,yCACA,mCAAoC,yBACpC,kCAA4BA,EAA5B,iCACA,sCAAgCA,EAAhC,sCACA,6BAA8B,gCAC9B,wCAAyC,mCACzC,0BAAoBA,EAApB,0CACA,0BAA2B,gCAC3B,qCAA+BA,EAA/B,6CACA,qCAAsC,mCACtC,mCAA6BA,EAA7B,gDACA,oCAA8BA,EAA9B,yCACA,2CAAqCA,EAArC,gDACA,2CAA4C,sCAC5C,gCAA0BA,EAA1B,iCAGA,wCAAkCA,EAAlC,uCACA,uCAAiCA,EAAjC,oFACA,sCAAgCA,EAAhC,oEACA,sCAAgCA,EAAhC,qDAGA,0DAAoDA,EAApD,6EACA,0DAAoDA,EAApD,iDACA,sDAAgDA,EAAhD,oDACA,sDAAgDA,EAAhD,oDACA,oCAA8BA,EAA9B,mEACA,mCAA6BA,EAA7B,sJACA,0CAAoCA,EAApC,+CAGA,8BAAwBA,EAAxB,uDACA,8CAAwCA,EAAxC,6DACA,mCAA6BA,EAA7B,kCACA,uCAAiCA,EAAjC,uCACA,8BAA+B,4CAC/B,qCAAsC,kDACtC,oCAA8BA,EAA9B,mCACA,wCAAkCA,EAAlC,wCACA,4CAAsCA,EAAtC,qEAGA,0CAAoCA,EAApC,sBAEA,gBAAiB,WAAaA,EAAS,qDACvC,iBAAkB,WAAaA,EAAS,qCAGxC,qCAA+BA,EAA/B,oHAEA,OAAUA,EACV,oBAtEwB,6BCF5B,IAAIG,EAAa,EAAQ,GACrBC,EAAW,EAAQ,GAmCvBH,EAAOC,QAVP,SAAoBG,GAClB,IAAKD,EAASC,GACZ,OAAO,EAIT,IAAIC,EAAMH,EAAWE,GACrB,MA5BY,qBA4BLC,GA3BI,8BA2BcA,GA7BZ,0BA6B6BA,GA1B7B,kBA0BgDA,oBCjC/D,IAAIC,EAAS,EAAQ,GACjBC,EAAY,EAAQ,GACpBC,EAAiB,EAAQ,GAOzBC,EAAiBH,EAASA,EAAOI,iBAAcC,EAkBnDX,EAAOC,QATP,SAAoBG,GAClB,OAAa,MAATA,OACeO,IAAVP,EAdQ,qBADL,gBAiBJK,GAAkBA,KAAkBG,OAAOR,GAC/CG,EAAUH,GACVI,EAAeJ,qBCxBrB,IAGIE,EAHO,EAAQ,GAGDA,OAElBN,EAAOC,QAAUK,mBCLjB,IAAIO,EAAa,EAAQ,GAGrBC,EAA0B,iBAARC,MAAoBA,MAAQA,KAAKH,SAAWA,QAAUG,KAGxEC,EAAOH,GAAcC,GAAYG,SAAS,cAATA,GAErCjB,EAAOC,QAAUe,eCPjB,IAAIH,EAA8B,iBAAVK,QAAsBA,QAAUA,OAAON,SAAWA,QAAUM,OAEpFlB,EAAOC,QAAUY,mBCHjB,IAAIP,EAAS,EAAQ,GAGjBa,EAAcP,OAAOQ,UAGrBC,EAAiBF,EAAYE,eAO7BC,EAAuBH,EAAYI,SAGnCd,EAAiBH,EAASA,EAAOI,iBAAcC,EA6BnDX,EAAOC,QApBP,SAAmBG,GACjB,IAAIoB,EAAQH,EAAeI,KAAKrB,EAAOK,GACnCJ,EAAMD,EAAMK,GAEhB,IACEL,EAAMK,QAAkBE,EACxB,IAAIe,GAAW,EACf,MAAOC,IAET,IAAIC,EAASN,EAAqBG,KAAKrB,GAQvC,OAPIsB,IACEF,EACFpB,EAAMK,GAAkBJ,SAEjBD,EAAMK,IAGVmB,gBCzCT,IAOIN,EAPcV,OAAOQ,UAOcG,SAavCvB,EAAOC,QAJP,SAAwBG,GACtB,OAAOkB,EAAqBG,KAAKrB,iBCYnCJ,EAAOC,QALP,SAAkBG,GAChB,IAAIyB,SAAczB,EAClB,OAAgB,MAATA,IAA0B,UAARyB,GAA4B,YAARA,qBC3B/C,IAAI3B,EAAa,EAAQ,GACrB4B,EAAU,EAAQ,IAClBC,EAAe,EAAQ,IA2B3B/B,EAAOC,QALP,SAAkBG,GAChB,MAAuB,iBAATA,IACV0B,EAAQ1B,IAAU2B,EAAa3B,IArBrB,mBAqB+BF,EAAWE,iBCH1D,IAAI0B,EAAUE,MAAMF,QAEpB9B,EAAOC,QAAU6B,eCGjB9B,EAAOC,QAJP,SAAsBG,GACpB,OAAgB,MAATA,GAAiC,iBAATA,gBCDjCJ,EAAOC,QAJP,SAAeG,GACb,OAAgB,MAATA,oBCrBT,IAAI6B,EAAY,EAAQ,IAgCxBjC,EAAOC,QAJP,SAAmBG,GACjB,MAAuB,iBAATA,GAAqBA,GAAS6B,EAAU7B,qBC7BxD,IAAI8B,EAAW,EAAQ,IAmCvBlC,EAAOC,QAPP,SAAmBG,GACjB,IAAIwB,EAASM,EAAS9B,GAClB+B,EAAYP,EAAS,EAEzB,OAAOA,GAAWA,EAAUO,EAAYP,EAASO,EAAYP,EAAU,oBChCzE,IAAIQ,EAAW,EAAQ,IAGnBC,EAAW,IAsCfrC,EAAOC,QAZP,SAAkBG,GAChB,OAAKA,GAGLA,EAAQgC,EAAShC,MACHiC,GAAYjC,KAAU,IA9BpB,uBA+BFA,EAAQ,GAAK,EAAI,GAGxBA,GAAUA,EAAQA,EAAQ,EAPd,IAAVA,EAAcA,EAAQ,oBC/BjC,IAAID,EAAW,EAAQ,GACnBmC,EAAW,EAAQ,IAMnBC,EAAS,aAGTC,EAAa,qBAGbC,EAAa,aAGbC,EAAY,cAGZC,EAAeC,SA8CnB5C,EAAOC,QArBP,SAAkBG,GAChB,GAAoB,iBAATA,EACT,OAAOA,EAET,GAAIkC,EAASlC,GACX,OA7CM,IA+CR,GAAID,EAASC,GAAQ,CACnB,IAAIyC,EAAgC,mBAAjBzC,EAAM0C,QAAwB1C,EAAM0C,UAAY1C,EACnEA,EAAQD,EAAS0C,GAAUA,EAAQ,GAAMA,EAE3C,GAAoB,iBAATzC,EACT,OAAiB,IAAVA,EAAcA,GAASA,EAEhCA,EAAQA,EAAM2C,QAAQR,EAAQ,IAC9B,IAAIS,EAAWP,EAAWQ,KAAK7C,GAC/B,OAAQ4C,GAAYN,EAAUO,KAAK7C,GAC/BuC,EAAavC,EAAM8C,MAAM,GAAIF,EAAW,EAAI,GAC3CR,EAAWS,KAAK7C,GA1Db,KA0D6BA,oBC9DvC,IAAIF,EAAa,EAAQ,GACrB6B,EAAe,EAAQ,IA2B3B/B,EAAOC,QALP,SAAkBG,GAChB,MAAuB,iBAATA,GACX2B,EAAa3B,IArBF,mBAqBYF,EAAWE,qBCzBvC,IAAI+C,EAAU,EAAQ,IAClBC,EAAU,EAAQ,IAiCtBpD,EAAOC,QAJP,SAAaoD,EAAQC,GACnB,OAAiB,MAAVD,GAAkBD,EAAQC,EAAQC,EAAMH,iBC9BjD,IAGI9B,EAHcT,OAAOQ,UAGQC,eAcjCrB,EAAOC,QAJP,SAAiBoD,EAAQE,GACvB,OAAiB,MAAVF,GAAkBhC,EAAeI,KAAK4B,EAAQE,qBCfvD,IAAIC,EAAW,EAAQ,IACnBC,EAAc,EAAQ,IACtB3B,EAAU,EAAQ,IAClB4B,EAAU,EAAQ,IAClBC,EAAW,EAAQ,IACnBC,EAAQ,EAAQ,IAiCpB5D,EAAOC,QAtBP,SAAiBoD,EAAQC,EAAMO,GAO7B,IAJA,IAAIC,GAAS,EACTC,GAHJT,EAAOE,EAASF,EAAMD,IAGJU,OACdnC,GAAS,IAEJkC,EAAQC,GAAQ,CACvB,IAAIR,EAAMK,EAAMN,EAAKQ,IACrB,KAAMlC,EAAmB,MAAVyB,GAAkBQ,EAAQR,EAAQE,IAC/C,MAEFF,EAASA,EAAOE,GAElB,OAAI3B,KAAYkC,GAASC,EAChBnC,KAETmC,EAAmB,MAAVV,EAAiB,EAAIA,EAAOU,SAClBJ,EAASI,IAAWL,EAAQH,EAAKQ,KACjDjC,EAAQuB,IAAWI,EAAYJ,sBCnCpC,IAAIvB,EAAU,EAAQ,IAClBkC,EAAQ,EAAQ,IAChBC,EAAe,EAAQ,IACvB1C,EAAW,EAAQ,IAiBvBvB,EAAOC,QAPP,SAAkBG,EAAOiD,GACvB,OAAIvB,EAAQ1B,GACHA,EAEF4D,EAAM5D,EAAOiD,GAAU,CAACjD,GAAS6D,EAAa1C,EAASnB,sBCjBhE,IAAI0B,EAAU,EAAQ,IAClBQ,EAAW,EAAQ,IAGnB4B,EAAe,mDACfC,EAAgB,QAuBpBnE,EAAOC,QAbP,SAAeG,EAAOiD,GACpB,GAAIvB,EAAQ1B,GACV,OAAO,EAET,IAAIyB,SAAczB,EAClB,QAAY,UAARyB,GAA4B,UAARA,GAA4B,WAARA,GAC/B,MAATzB,IAAiBkC,EAASlC,MAGvB+D,EAAclB,KAAK7C,KAAW8D,EAAajB,KAAK7C,IAC1C,MAAViD,GAAkBjD,KAASQ,OAAOyC,sBCzBvC,IAAIe,EAAgB,EAAQ,IAGxBC,EAAa,mGAGbC,EAAe,WASfL,EAAeG,GAAc,SAASG,GACxC,IAAI3C,EAAS,GAOb,OAN6B,KAAzB2C,EAAOC,WAAW,IACpB5C,EAAO6C,KAAK,IAEdF,EAAOxB,QAAQsB,GAAY,SAASK,EAAOC,EAAQC,EAAOC,GACxDjD,EAAO6C,KAAKG,EAAQC,EAAU9B,QAAQuB,EAAc,MAASK,GAAUD,MAElE9C,KAGT5B,EAAOC,QAAUgE,mBC1BjB,IAAIa,EAAU,EAAQ,IAyBtB9E,EAAOC,QAZP,SAAuB8E,GACrB,IAAInD,EAASkD,EAAQC,GAAM,SAASxB,GAIlC,OAfmB,MAYfyB,EAAMC,MACRD,EAAME,QAED3B,KAGLyB,EAAQpD,EAAOoD,MACnB,OAAOpD,oBCtBT,IAAIuD,EAAW,EAAQ,IAiDvB,SAASL,EAAQC,EAAMK,GACrB,GAAmB,mBAARL,GAAmC,MAAZK,GAAuC,mBAAZA,EAC3D,MAAM,IAAIC,UAhDQ,uBAkDpB,IAAIC,EAAW,WACb,IAAIC,EAAOC,UACPjC,EAAM6B,EAAWA,EAASK,MAAMC,KAAMH,GAAQA,EAAK,GACnDP,EAAQM,EAASN,MAErB,GAAIA,EAAMW,IAAIpC,GACZ,OAAOyB,EAAMY,IAAIrC,GAEnB,IAAI3B,EAASmD,EAAKU,MAAMC,KAAMH,GAE9B,OADAD,EAASN,MAAQA,EAAMa,IAAItC,EAAK3B,IAAWoD,EACpCpD,GAGT,OADA0D,EAASN,MAAQ,IAAKF,EAAQgB,OAASX,GAChCG,EAITR,EAAQgB,MAAQX,EAEhBnF,EAAOC,QAAU6E,mBCxEjB,IAAIiB,EAAgB,EAAQ,IACxBC,EAAiB,EAAQ,IACzBC,EAAc,EAAQ,IACtBC,EAAc,EAAQ,IACtBC,EAAc,EAAQ,IAS1B,SAAShB,EAASiB,GAChB,IAAItC,GAAS,EACTC,EAAoB,MAAXqC,EAAkB,EAAIA,EAAQrC,OAG3C,IADA2B,KAAKR,UACIpB,EAAQC,GAAQ,CACvB,IAAIsC,EAAQD,EAAQtC,GACpB4B,KAAKG,IAAIQ,EAAM,GAAIA,EAAM,KAK7BlB,EAAS/D,UAAU8D,MAAQa,EAC3BZ,EAAS/D,UAAkB,OAAI4E,EAC/Bb,EAAS/D,UAAUwE,IAAMK,EACzBd,EAAS/D,UAAUuE,IAAMO,EACzBf,EAAS/D,UAAUyE,IAAMM,EAEzBnG,EAAOC,QAAUkF,mBC/BjB,IAAImB,EAAO,EAAQ,IACfC,EAAY,EAAQ,IACpBC,EAAM,EAAQ,IAkBlBxG,EAAOC,QATP,WACEyF,KAAKT,KAAO,EACZS,KAAKe,SAAW,CACd,KAAQ,IAAIH,EACZ,IAAO,IAAKE,GAAOD,GACnB,OAAU,IAAID,qBChBlB,IAAII,EAAY,EAAQ,IACpBC,EAAa,EAAQ,IACrBC,EAAU,EAAQ,IAClBC,EAAU,EAAQ,IAClBC,EAAU,EAAQ,IAStB,SAASR,EAAKF,GACZ,IAAItC,GAAS,EACTC,EAAoB,MAAXqC,EAAkB,EAAIA,EAAQrC,OAG3C,IADA2B,KAAKR,UACIpB,EAAQC,GAAQ,CACvB,IAAIsC,EAAQD,EAAQtC,GACpB4B,KAAKG,IAAIQ,EAAM,GAAIA,EAAM,KAK7BC,EAAKlF,UAAU8D,MAAQwB,EACvBJ,EAAKlF,UAAkB,OAAIuF,EAC3BL,EAAKlF,UAAUwE,IAAMgB,EACrBN,EAAKlF,UAAUuE,IAAMkB,EACrBP,EAAKlF,UAAUyE,IAAMiB,EAErB9G,EAAOC,QAAUqG,mBC/BjB,IAAIS,EAAe,EAAQ,IAc3B/G,EAAOC,QALP,WACEyF,KAAKe,SAAWM,EAAeA,EAAa,MAAQ,GACpDrB,KAAKT,KAAO,oBCXd,IAGI8B,EAHY,EAAQ,GAGLC,CAAUpG,OAAQ,UAErCZ,EAAOC,QAAU8G,mBCLjB,IAAIE,EAAe,EAAQ,IACvBC,EAAW,EAAQ,IAevBlH,EAAOC,QALP,SAAmBoD,EAAQE,GACzB,IAAInD,EAAQ8G,EAAS7D,EAAQE,GAC7B,OAAO0D,EAAa7G,GAASA,OAAQO,oBCbvC,IAAIwG,EAAa,EAAQ,GACrBC,EAAW,EAAQ,IACnBjH,EAAW,EAAQ,GACnBkH,EAAW,EAAQ,IASnBC,EAAe,8BAGfC,EAAYtG,SAASG,UACrBD,EAAcP,OAAOQ,UAGrBoG,EAAeD,EAAUhG,SAGzBF,EAAiBF,EAAYE,eAG7BoG,EAAaC,OAAO,IACtBF,EAAa/F,KAAKJ,GAAgB0B,QAjBjB,sBAiBuC,QACvDA,QAAQ,yDAA0D,SAAW,KAmBhF/C,EAAOC,QARP,SAAsBG,GACpB,SAAKD,EAASC,IAAUgH,EAAShH,MAGnB+G,EAAW/G,GAASqH,EAAaH,GAChCrE,KAAKoE,EAASjH,sBC3C/B,IAIMuH,EAJFC,EAAa,EAAQ,IAGrBC,GACEF,EAAM,SAASG,KAAKF,GAAcA,EAAWG,MAAQH,EAAWG,KAAKC,UAAY,KACvE,iBAAmBL,EAAO,GAc1C3H,EAAOC,QAJP,SAAkB8E,GAChB,QAAS8C,GAAeA,KAAc9C,oBChBxC,IAGI6C,EAHO,EAAQ,GAGG,sBAEtB5H,EAAOC,QAAU2H,eCJjB,IAGIJ,EAHYvG,SAASG,UAGIG,SAqB7BvB,EAAOC,QAZP,SAAkB8E,GAChB,GAAY,MAARA,EAAc,CAChB,IACE,OAAOyC,EAAa/F,KAAKsD,GACzB,MAAOpD,IACT,IACE,OAAQoD,EAAO,GACf,MAAOpD,KAEX,MAAO,iBCVT3B,EAAOC,QAJP,SAAkBoD,EAAQE,GACxB,OAAiB,MAAVF,OAAiB1C,EAAY0C,EAAOE,iBCO7CvD,EAAOC,QANP,SAAoBsD,GAClB,IAAI3B,EAAS8D,KAAKC,IAAIpC,WAAemC,KAAKe,SAASlD,GAEnD,OADAmC,KAAKT,MAAQrD,EAAS,EAAI,EACnBA,oBCbT,IAAImF,EAAe,EAAQ,IASvB1F,EAHcT,OAAOQ,UAGQC,eAoBjCrB,EAAOC,QATP,SAAiBsD,GACf,IAAI0E,EAAOvC,KAAKe,SAChB,GAAIM,EAAc,CAChB,IAAInF,EAASqG,EAAK1E,GAClB,MArBiB,8BAqBV3B,OAA4BjB,EAAYiB,EAEjD,OAAOP,EAAeI,KAAKwG,EAAM1E,GAAO0E,EAAK1E,QAAO5C,oBC1BtD,IAAIoG,EAAe,EAAQ,IAMvB1F,EAHcT,OAAOQ,UAGQC,eAgBjCrB,EAAOC,QALP,SAAiBsD,GACf,IAAI0E,EAAOvC,KAAKe,SAChB,OAAOM,OAA8BpG,IAAdsH,EAAK1E,GAAsBlC,EAAeI,KAAKwG,EAAM1E,qBCnB9E,IAAIwD,EAAe,EAAQ,IAsB3B/G,EAAOC,QAPP,SAAiBsD,EAAKnD,GACpB,IAAI6H,EAAOvC,KAAKe,SAGhB,OAFAf,KAAKT,MAAQS,KAAKC,IAAIpC,GAAO,EAAI,EACjC0E,EAAK1E,GAAQwD,QAA0BpG,IAAVP,EAfV,4BAekDA,EAC9DsF,uBCnBT,IAAIwC,EAAiB,EAAQ,IACzBC,EAAkB,EAAQ,IAC1BC,EAAe,EAAQ,IACvBC,EAAe,EAAQ,IACvBC,EAAe,EAAQ,IAS3B,SAAS/B,EAAUH,GACjB,IAAItC,GAAS,EACTC,EAAoB,MAAXqC,EAAkB,EAAIA,EAAQrC,OAG3C,IADA2B,KAAKR,UACIpB,EAAQC,GAAQ,CACvB,IAAIsC,EAAQD,EAAQtC,GACpB4B,KAAKG,IAAIQ,EAAM,GAAIA,EAAM,KAK7BE,EAAUnF,UAAU8D,MAAQgD,EAC5B3B,EAAUnF,UAAkB,OAAI+G,EAChC5B,EAAUnF,UAAUwE,IAAMwC,EAC1B7B,EAAUnF,UAAUuE,IAAM0C,EAC1B9B,EAAUnF,UAAUyE,IAAMyC,EAE1BtI,EAAOC,QAAUsG,eCnBjBvG,EAAOC,QALP,WACEyF,KAAKe,SAAW,GAChBf,KAAKT,KAAO,oBCTd,IAAIsD,EAAe,EAAQ,IAMvBC,EAHaxG,MAAMZ,UAGCoH,OA4BxBxI,EAAOC,QAjBP,SAAyBsD,GACvB,IAAI0E,EAAOvC,KAAKe,SACZ3C,EAAQyE,EAAaN,EAAM1E,GAE/B,QAAIO,EAAQ,KAIRA,GADYmE,EAAKlE,OAAS,EAE5BkE,EAAKQ,MAELD,EAAO/G,KAAKwG,EAAMnE,EAAO,KAEzB4B,KAAKT,MACA,qBC/BT,IAAIyD,EAAK,EAAQ,IAoBjB1I,EAAOC,QAVP,SAAsB0I,EAAOpF,GAE3B,IADA,IAAIQ,EAAS4E,EAAM5E,OACZA,KACL,GAAI2E,EAAGC,EAAM5E,GAAQ,GAAIR,GACvB,OAAOQ,EAGX,OAAQ,gBCmBV/D,EAAOC,QAJP,SAAYG,EAAOyC,GACjB,OAAOzC,IAAUyC,GAAUzC,GAAUA,GAASyC,GAAUA,oBCjC1D,IAAI0F,EAAe,EAAQ,IAkB3BvI,EAAOC,QAPP,SAAsBsD,GACpB,IAAI0E,EAAOvC,KAAKe,SACZ3C,EAAQyE,EAAaN,EAAM1E,GAE/B,OAAOO,EAAQ,OAAInD,EAAYsH,EAAKnE,GAAO,qBCf7C,IAAIyE,EAAe,EAAQ,IAe3BvI,EAAOC,QAJP,SAAsBsD,GACpB,OAAOgF,EAAa7C,KAAKe,SAAUlD,IAAQ,oBCZ7C,IAAIgF,EAAe,EAAQ,IAyB3BvI,EAAOC,QAbP,SAAsBsD,EAAKnD,GACzB,IAAI6H,EAAOvC,KAAKe,SACZ3C,EAAQyE,EAAaN,EAAM1E,GAQ/B,OANIO,EAAQ,KACR4B,KAAKT,KACPgD,EAAKxD,KAAK,CAAClB,EAAKnD,KAEhB6H,EAAKnE,GAAO,GAAK1D,EAEZsF,uBCtBT,IAIIc,EAJY,EAAQ,GAIdQ,CAHC,EAAQ,GAGO,OAE1BhH,EAAOC,QAAUuG,mBCNjB,IAAIoC,EAAa,EAAQ,IAiBzB5I,EAAOC,QANP,SAAwBsD,GACtB,IAAI3B,EAASgH,EAAWlD,KAAMnC,GAAa,OAAEA,GAE7C,OADAmC,KAAKT,MAAQrD,EAAS,EAAI,EACnBA,oBCdT,IAAIiH,EAAY,EAAQ,IAiBxB7I,EAAOC,QAPP,SAAoB6I,EAAKvF,GACvB,IAAI0E,EAAOa,EAAIrC,SACf,OAAOoC,EAAUtF,GACb0E,EAAmB,iBAAP1E,EAAkB,SAAW,QACzC0E,EAAKa,kBCAX9I,EAAOC,QAPP,SAAmBG,GACjB,IAAIyB,SAAczB,EAClB,MAAgB,UAARyB,GAA4B,UAARA,GAA4B,UAARA,GAA4B,WAARA,EACrD,cAAVzB,EACU,OAAVA,oBCXP,IAAIwI,EAAa,EAAQ,IAezB5I,EAAOC,QAJP,SAAqBsD,GACnB,OAAOqF,EAAWlD,KAAMnC,GAAKqC,IAAIrC,qBCZnC,IAAIqF,EAAa,EAAQ,IAezB5I,EAAOC,QAJP,SAAqBsD,GACnB,OAAOqF,EAAWlD,KAAMnC,GAAKoC,IAAIpC,qBCZnC,IAAIqF,EAAa,EAAQ,IAqBzB5I,EAAOC,QATP,SAAqBsD,EAAKnD,GACxB,IAAI6H,EAAOW,EAAWlD,KAAMnC,GACxB0B,EAAOgD,EAAKhD,KAIhB,OAFAgD,EAAKpC,IAAItC,EAAKnD,GACdsF,KAAKT,MAAQgD,EAAKhD,MAAQA,EAAO,EAAI,EAC9BS,uBClBT,IAAIqD,EAAe,EAAQ,IA2B3B/I,EAAOC,QAJP,SAAkBG,GAChB,OAAgB,MAATA,EAAgB,GAAK2I,EAAa3I,qBCxB3C,IAAIE,EAAS,EAAQ,GACjB0I,EAAW,EAAQ,IACnBlH,EAAU,EAAQ,IAClBQ,EAAW,EAAQ,IAMnB2G,EAAc3I,EAASA,EAAOc,eAAYT,EAC1CuI,EAAiBD,EAAcA,EAAY1H,cAAWZ,EA0B1DX,EAAOC,QAhBP,SAAS8I,EAAa3I,GAEpB,GAAoB,iBAATA,EACT,OAAOA,EAET,GAAI0B,EAAQ1B,GAEV,OAAO4I,EAAS5I,EAAO2I,GAAgB,GAEzC,GAAIzG,EAASlC,GACX,OAAO8I,EAAiBA,EAAezH,KAAKrB,GAAS,GAEvD,IAAIwB,EAAUxB,EAAQ,GACtB,MAAkB,KAAVwB,GAAkB,EAAIxB,IA3BjB,SA2BwC,KAAOwB,gBCb9D5B,EAAOC,QAXP,SAAkB0I,EAAOQ,GAKvB,IAJA,IAAIrF,GAAS,EACTC,EAAkB,MAAT4E,EAAgB,EAAIA,EAAM5E,OACnCnC,EAASI,MAAM+B,KAEVD,EAAQC,GACfnC,EAAOkC,GAASqF,EAASR,EAAM7E,GAAQA,EAAO6E,GAEhD,OAAO/G,oBCjBT,IAAIwH,EAAkB,EAAQ,IAC1BrH,EAAe,EAAQ,IAGvBZ,EAAcP,OAAOQ,UAGrBC,EAAiBF,EAAYE,eAG7BgI,EAAuBlI,EAAYkI,qBAoBnC5F,EAAc2F,EAAgB,WAAa,OAAO5D,UAApB,IAAsC4D,EAAkB,SAAShJ,GACjG,OAAO2B,EAAa3B,IAAUiB,EAAeI,KAAKrB,EAAO,YACtDiJ,EAAqB5H,KAAKrB,EAAO,WAGtCJ,EAAOC,QAAUwD,mBCnCjB,IAAIvD,EAAa,EAAQ,GACrB6B,EAAe,EAAQ,IAgB3B/B,EAAOC,QAJP,SAAyBG,GACvB,OAAO2B,EAAa3B,IAVR,sBAUkBF,EAAWE,iBCb3C,IAGIkJ,EAAW,mBAoBftJ,EAAOC,QAVP,SAAiBG,EAAO2D,GACtB,IAAIlC,SAAczB,EAGlB,SAFA2D,EAAmB,MAAVA,EAfY,iBAewBA,KAGlC,UAARlC,GACU,UAARA,GAAoByH,EAASrG,KAAK7C,KAChCA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,EAAQ2D,gBCajD/D,EAAOC,QALP,SAAkBG,GAChB,MAAuB,iBAATA,GACZA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,GA9Bb,mCCDvB,IAAIkC,EAAW,EAAQ,IAoBvBtC,EAAOC,QARP,SAAeG,GACb,GAAoB,iBAATA,GAAqBkC,EAASlC,GACvC,OAAOA,EAET,IAAIwB,EAAUxB,EAAQ,GACtB,MAAkB,KAAVwB,GAAkB,EAAIxB,IAdjB,SAcwC,KAAOwB,iCCf9DhB,OAAO2I,eAAetJ,EAAS,aAAc,CAC3CG,OAAO,IAETQ,OAAO2I,eAAetJ,EAAS,KAAM,CACnCuJ,YAAY,EACZ5D,IAAK,WACH,OAAO6D,EAAGC,WAGd9I,OAAO2I,eAAetJ,EAAS,KAAM,CACnCuJ,YAAY,EACZ5D,IAAK,WACH,OAAO+D,EAAID,WAGf9I,OAAO2I,eAAetJ,EAAS,KAAM,CACnCuJ,YAAY,EACZ5D,IAAK,WACH,OAAOgE,EAAIF,WAGf9I,OAAO2I,eAAetJ,EAAS,KAAM,CACnCuJ,YAAY,EACZ5D,IAAK,WACH,OAAOiE,EAAIH,WAGf9I,OAAO2I,eAAetJ,EAAS,MAAO,CACpCuJ,YAAY,EACZ5D,IAAK,WACH,OAAOkE,EAAKJ,WAGhB9I,OAAO2I,eAAetJ,EAAS,UAAW,CACxCuJ,YAAY,EACZ5D,IAAK,WACH,OAAOmE,EAASL,WAGpB9I,OAAO2I,eAAetJ,EAAS,WAAY,CACzCuJ,YAAY,EACZ5D,IAAK,WACH,OAAOoE,EAAUN,WAGrB9I,OAAO2I,eAAetJ,EAAS,YAAa,CAC1CuJ,YAAY,EACZ5D,IAAK,WACH,OAAOqE,EAAWP,WAGtB9I,OAAO2I,eAAetJ,EAAS,QAAS,CACtCuJ,YAAY,EACZ5D,IAAK,WACH,OAAOsE,EAAOR,WAIlB,IAAID,EAAKU,EAAuB,EAAQ,KAEpCR,EAAMQ,EAAuB,EAAQ,KAErCP,EAAMO,EAAuB,EAAQ,KAErCN,EAAMM,EAAuB,EAAQ,KAErCL,EAAOK,EAAuB,EAAQ,KAEtCJ,EAAWI,EAAuB,EAAQ,KAE1CH,EAAYG,EAAuB,EAAQ,KAE3CF,EAAaE,EAAuB,EAAQ,KAE5CD,EAASC,EAAuB,EAAQ,KAE5C,SAASA,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEV,QAASU,kCC5EvFxJ,OAAO2I,eAAetJ,EAAS,aAAc,CAC3CG,OAAO,IAETH,EAAA,aAAkB,EAElB,IAAIqK,EAAOH,EAAuB,EAAQ,KAEtCF,EAAaE,EAAuB,EAAQ,KAEhD,SAASA,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEV,QAASU,GAMvF,IAAIG,EAEAC,EAGAC,EAAa,EACbC,EAAa,EAkFjB,IAAIC,EAhFJ,SAAYC,EAASC,EAAKC,GACxB,IAAIC,EAAIF,GAAOC,GAAU,EACzB,MAAME,EAAIH,GAAO,IAAI7I,MAAM,IAE3B,IAAIiJ,GADJL,EAAUA,GAAW,IACFK,MAAQV,EACvBW,OAAgCvK,IAArBiK,EAAQM,SAAyBN,EAAQM,SAAWV,EAInE,GAAY,MAARS,GAA4B,MAAZC,EAAkB,CACpC,MAAMC,EAAYP,EAAQQ,SAAWR,EAAQS,KAAOf,EAAKZ,WAE7C,MAARuB,IAEFA,EAAOV,EAAU,CAAgB,EAAfY,EAAU,GAAWA,EAAU,GAAIA,EAAU,GAAIA,EAAU,GAAIA,EAAU,GAAIA,EAAU,KAG3F,MAAZD,IAEFA,EAAWV,EAAiD,OAApCW,EAAU,IAAM,EAAIA,EAAU,KAQ1D,IAAIG,OAA0B3K,IAAlBiK,EAAQU,MAAsBV,EAAQU,MAAQC,KAAKC,MAG3DC,OAA0B9K,IAAlBiK,EAAQa,MAAsBb,EAAQa,MAAQf,EAAa,EAEvE,MAAMgB,EAAKJ,EAAQb,GAAcgB,EAAQf,GAAc,IAavD,GAXIgB,EAAK,QAA0B/K,IAArBiK,EAAQM,WACpBA,EAAWA,EAAW,EAAI,QAKvBQ,EAAK,GAAKJ,EAAQb,SAAiC9J,IAAlBiK,EAAQa,QAC5CA,EAAQ,GAINA,GAAS,IACX,MAAM,IAAIE,MAAM,mDAGlBlB,EAAaa,EACbZ,EAAae,EACbjB,EAAYU,EAEZI,GAAS,YAET,MAAMM,GAA4B,KAAb,UAARN,GAA6BG,GAAS,WACnDT,EAAED,KAAOa,IAAO,GAAK,IACrBZ,EAAED,KAAOa,IAAO,GAAK,IACrBZ,EAAED,KAAOa,IAAO,EAAI,IACpBZ,EAAED,KAAY,IAALa,EAET,MAAMC,EAAMP,EAAQ,WAAc,IAAQ,UAC1CN,EAAED,KAAOc,IAAQ,EAAI,IACrBb,EAAED,KAAa,IAANc,EAETb,EAAED,KAAOc,IAAQ,GAAK,GAAM,GAE5Bb,EAAED,KAAOc,IAAQ,GAAK,IAEtBb,EAAED,KAAOG,IAAa,EAAI,IAE1BF,EAAED,KAAkB,IAAXG,EAET,IAAK,IAAIY,EAAI,EAAGA,EAAI,IAAKA,EACvBd,EAAED,EAAIe,GAAKb,EAAKa,GAGlB,OAAOjB,IAAO,EAAIZ,EAAWP,SAASsB,IAIxC/K,EAAA,QAAkB0K,gCCxGlB/J,OAAO2I,eAAetJ,EAAS,aAAc,CAC3CG,OAAO,IAETH,EAAA,QAUA,WACM8L,EAAUC,EAAUjI,OAAS,KAC/BkI,EAAQvC,QAAQwC,eAAeF,GAE/BD,EAAU,GAGZ,OAAOC,EAAU9I,MAAM6I,EAASA,GAAW,KAf7C,IAEgC3B,EAF5B6B,GAE4B7B,EAFK,EAAQ,MAEQA,EAAIC,WAAaD,EAAM,CAAEV,QAASU,GAEvF,MAAM4B,EAAY,IAAIG,WAAW,KAEjC,IAAIJ,EAAUC,EAAUjI,iCCbxB/D,EAAOC,QAAUmM,QAAQ,wCCEzBxL,OAAO2I,eAAetJ,EAAS,aAAc,CAC3CG,OAAO,IAETH,EAAA,aAAkB,EAElB,IAEgCmK,EAF5BJ,GAE4BI,EAFO,EAAQ,MAEMA,EAAIC,WAAaD,EAAM,CAAEV,QAASU,GAMvF,MAAMiC,EAAY,GAElB,IAAK,IAAItB,EAAI,EAAGA,EAAI,MAAOA,EACzBsB,EAAU5H,MAAMsG,EAAI,KAAOxJ,SAAS,IAAI+K,OAAO,IAmBjD,IAAI3B,EAhBJ,SAAmB4B,EAAKzB,EAAS,GAG/B,MAAM0B,GAAQH,EAAUE,EAAIzB,EAAS,IAAMuB,EAAUE,EAAIzB,EAAS,IAAMuB,EAAUE,EAAIzB,EAAS,IAAMuB,EAAUE,EAAIzB,EAAS,IAAM,IAAMuB,EAAUE,EAAIzB,EAAS,IAAMuB,EAAUE,EAAIzB,EAAS,IAAM,IAAMuB,EAAUE,EAAIzB,EAAS,IAAMuB,EAAUE,EAAIzB,EAAS,IAAM,IAAMuB,EAAUE,EAAIzB,EAAS,IAAMuB,EAAUE,EAAIzB,EAAS,IAAM,IAAMuB,EAAUE,EAAIzB,EAAS,KAAOuB,EAAUE,EAAIzB,EAAS,KAAOuB,EAAUE,EAAIzB,EAAS,KAAOuB,EAAUE,EAAIzB,EAAS,KAAOuB,EAAUE,EAAIzB,EAAS,KAAOuB,EAAUE,EAAIzB,EAAS,MAAM2B,cAM3f,KAAK,EAAIzC,EAAUN,SAAS8C,GAC1B,MAAMnH,UAAU,+BAGlB,OAAOmH,GAITvM,EAAA,QAAkB0K,gCCpClB/J,OAAO2I,eAAetJ,EAAS,aAAc,CAC3CG,OAAO,IAETH,EAAA,aAAkB,EAElB,IAEgCmK,EAF5BsC,GAE4BtC,EAFI,EAAQ,MAESA,EAAIC,WAAaD,EAAM,CAAEV,QAASU,GAMvF,IAAIO,EAJJ,SAAkB6B,GAChB,MAAuB,iBAATA,GAAqBE,EAAOhD,QAAQzG,KAAKuJ,IAIzDvM,EAAA,QAAkB0K,8BCdlB/J,OAAO2I,eAAetJ,EAAS,aAAc,CAC3CG,OAAO,IAETH,EAAA,aAAkB,EAElBA,EAAA,QADe,oJCJfW,OAAO2I,eAAetJ,EAAS,aAAc,CAC3CG,OAAO,IAETH,EAAA,aAAkB,EAElB,IAAIwJ,EAAKU,EAAuB,EAAQ,KAEpCwC,EAAMxC,EAAuB,EAAQ,KAEzC,SAASA,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEV,QAASU,GAGvF,IAAIO,GADO,EAAIlB,EAAGC,SAAS,KAAM,GAAMiD,EAAIjD,SAE3CzJ,EAAA,QAAkB0K,gCCblB/J,OAAO2I,eAAetJ,EAAS,aAAc,CAC3CG,OAAO,IAETH,EAAA,QA0BA,SAAkB2M,EAAMC,EAASC,GAC/B,SAASC,EAAa3M,EAAO4M,EAAWnC,EAAKC,GAS3C,GARqB,iBAAV1K,IACTA,EApBN,SAAuB6M,GACrBA,EAAMC,SAASC,mBAAmBF,IAElC,MAAMG,EAAQ,GAEd,IAAK,IAAIrC,EAAI,EAAGA,EAAIkC,EAAIlJ,SAAUgH,EAChCqC,EAAM3I,KAAKwI,EAAIzI,WAAWuG,IAG5B,OAAOqC,EAWKC,CAAcjN,IAGC,iBAAd4M,IACTA,GAAY,EAAI9C,EAAOR,SAASsD,IAGT,KAArBA,EAAUjJ,OACZ,MAAMsB,UAAU,oEAMlB,IAAI+H,EAAQ,IAAIjB,WAAW,GAAK/L,EAAM2D,QAOtC,GANAqJ,EAAMvH,IAAImH,GACVI,EAAMvH,IAAIzF,EAAO4M,EAAUjJ,QAC3BqJ,EAAQN,EAASM,GACjBA,EAAM,GAAgB,GAAXA,EAAM,GAAYP,EAC7BO,EAAM,GAAgB,GAAXA,EAAM,GAAY,IAEzBvC,EAAK,CACPC,EAASA,GAAU,EAEnB,IAAK,IAAIC,EAAI,EAAGA,EAAI,KAAMA,EACxBF,EAAIC,EAASC,GAAKqC,EAAMrC,GAG1B,OAAOF,EAGT,OAAO,EAAIZ,EAAWP,SAAS0D,GAIjC,IACEL,EAAaH,KAAOA,EACpB,MAAOU,IAKT,OAFAP,EAAaQ,IAAMA,EACnBR,EAAaS,IAAMA,EACZT,GAtET9M,EAAQuN,IAAMvN,EAAQsN,SAAM,EAE5B,IAAItD,EAAaE,EAAuB,EAAQ,KAE5CD,EAASC,EAAuB,EAAQ,KAE5C,SAASA,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEV,QAASU,GAcvF,MAAMmD,EAAM,uCACZtN,EAAQsN,IAAMA,EACd,MAAMC,EAAM,uCACZvN,EAAQuN,IAAMA,gCC3Bd5M,OAAO2I,eAAetJ,EAAS,aAAc,CAC3CG,OAAO,IAETH,EAAA,aAAkB,EAElB,IAEgCmK,EAF5BJ,GAE4BI,EAFO,EAAQ,MAEMA,EAAIC,WAAaD,EAAM,CAAEV,QAASU,GAkCvF,IAAIO,EAhCJ,SAAe6B,GACb,KAAK,EAAIxC,EAAUN,SAAS8C,GAC1B,MAAMnH,UAAU,gBAGlB,IAAIoI,EACJ,MAAMlB,EAAM,IAAIJ,WAAW,IAuB3B,OArBAI,EAAI,IAAMkB,EAAI7K,SAAS4J,EAAKtJ,MAAM,EAAG,GAAI,OAAS,GAClDqJ,EAAI,GAAKkB,IAAM,GAAK,IACpBlB,EAAI,GAAKkB,IAAM,EAAI,IACnBlB,EAAI,GAAS,IAAJkB,EAETlB,EAAI,IAAMkB,EAAI7K,SAAS4J,EAAKtJ,MAAM,EAAG,IAAK,OAAS,EACnDqJ,EAAI,GAAS,IAAJkB,EAETlB,EAAI,IAAMkB,EAAI7K,SAAS4J,EAAKtJ,MAAM,GAAI,IAAK,OAAS,EACpDqJ,EAAI,GAAS,IAAJkB,EAETlB,EAAI,IAAMkB,EAAI7K,SAAS4J,EAAKtJ,MAAM,GAAI,IAAK,OAAS,EACpDqJ,EAAI,GAAS,IAAJkB,EAGTlB,EAAI,KAAOkB,EAAI7K,SAAS4J,EAAKtJ,MAAM,GAAI,IAAK,KAAO,cAAgB,IACnEqJ,EAAI,IAAMkB,EAAI,WAAc,IAC5BlB,EAAI,IAAMkB,IAAM,GAAK,IACrBlB,EAAI,IAAMkB,IAAM,GAAK,IACrBlB,EAAI,IAAMkB,IAAM,EAAI,IACpBlB,EAAI,IAAU,IAAJkB,EACHlB,GAITtM,EAAA,QAAkB0K,gCC1ClB/J,OAAO2I,eAAetJ,EAAS,aAAc,CAC3CG,OAAO,IAETH,EAAA,aAAkB,EAElB,IAEgCmK,EAF5B6B,GAE4B7B,EAFK,EAAQ,MAEQA,EAAIC,WAAaD,EAAM,CAAEV,QAASU,GAYvF,IAAIO,EAVJ,SAAayC,GAOX,OANIpL,MAAMF,QAAQsL,GAChBA,EAAQM,OAAOC,KAAKP,GACM,iBAAVA,IAChBA,EAAQM,OAAOC,KAAKP,EAAO,SAGtBnB,EAAQvC,QAAQkE,WAAW,OAAOC,OAAOT,GAAOU,UAIzD7N,EAAA,QAAkB0K,gCCpBlB/J,OAAO2I,eAAetJ,EAAS,aAAc,CAC3CG,OAAO,IAETH,EAAA,aAAkB,EAElB,IAAIqK,EAAOH,EAAuB,EAAQ,KAEtCF,EAAaE,EAAuB,EAAQ,KAEhD,SAASA,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEV,QAASU,GAwBvF,IAAIO,EAtBJ,SAAYC,EAASC,EAAKC,GAGxB,MAAMiD,GAFNnD,EAAUA,GAAW,IAEAQ,SAAWR,EAAQS,KAAOf,EAAKZ,WAMpD,GAHAqE,EAAK,GAAe,GAAVA,EAAK,GAAY,GAC3BA,EAAK,GAAe,GAAVA,EAAK,GAAY,IAEvBlD,EAAK,CACPC,EAASA,GAAU,EAEnB,IAAK,IAAIC,EAAI,EAAGA,EAAI,KAAMA,EACxBF,EAAIC,EAASC,GAAKgD,EAAKhD,GAGzB,OAAOF,EAGT,OAAO,EAAIZ,EAAWP,SAASqE,IAIjC9N,EAAA,QAAkB0K,gCClClB/J,OAAO2I,eAAetJ,EAAS,aAAc,CAC3CG,OAAO,IAETH,EAAA,aAAkB,EAElB,IAAIwJ,EAAKU,EAAuB,EAAQ,KAEpC6D,EAAO7D,EAAuB,EAAQ,KAE1C,SAASA,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEV,QAASU,GAGvF,IAAIO,GADO,EAAIlB,EAAGC,SAAS,KAAM,GAAMsE,EAAKtE,SAE5CzJ,EAAA,QAAkB0K,gCCblB/J,OAAO2I,eAAetJ,EAAS,aAAc,CAC3CG,OAAO,IAETH,EAAA,aAAkB,EAElB,IAEgCmK,EAF5B6B,GAE4B7B,EAFK,EAAQ,MAEQA,EAAIC,WAAaD,EAAM,CAAEV,QAASU,GAYvF,IAAIO,EAVJ,SAAcyC,GAOZ,OANIpL,MAAMF,QAAQsL,GAChBA,EAAQM,OAAOC,KAAKP,GACM,iBAAVA,IAChBA,EAAQM,OAAOC,KAAKP,EAAO,SAGtBnB,EAAQvC,QAAQkE,WAAW,QAAQC,OAAOT,GAAOU,UAI1D7N,EAAA,QAAkB0K,8BCpBlB/J,OAAO2I,eAAetJ,EAAS,aAAc,CAC3CG,OAAO,IAETH,EAAA,aAAkB,EAElBA,EAAA,QADe,qECJfW,OAAO2I,eAAetJ,EAAS,aAAc,CAC3CG,OAAO,IAETH,EAAA,aAAkB,EAElB,IAEgCmK,EAF5BJ,GAE4BI,EAFO,EAAQ,MAEMA,EAAIC,WAAaD,EAAM,CAAEV,QAASU,GAUvF,IAAIO,EARJ,SAAiB6B,GACf,KAAK,EAAIxC,EAAUN,SAAS8C,GAC1B,MAAMnH,UAAU,gBAGlB,OAAOzC,SAAS4J,EAAKF,OAAO,GAAI,GAAI,KAItCrM,EAAA,QAAkB0K,eCClB3K,EAAOC,QAJP,SAAqBG,GACnB,YAAiBO,IAAVP,kKCbJM,YAAYuN,EAAEC,SAASnD,EAAEoD,YAAYC,GAAG9N,OAC7C+N,EAAEC,KAAKlD,OACPmD,EAAE,uEAAuEC,MAAM,KAC/EC,EAAE,CAACC,EAAE1D,EAAE2D,KAAKD,GAAG,GAAG,gBAAgBzL,KAAK+H,GAAKA,EAAEiD,IAAI,EAAEU,OAAM,IAAJA,EAAWA,EAAE,GAAS,QAAN3D,EAAEiD,GAAWjD,EAAE4B,KAAK,OAAO8B,GAAG1D,EAAE4B,OAAO+B,GAAS,QAAN3D,EAAEiD,GAAW,IAAI,UAAE,CAACjD,GAAG2D,EAAE3D,GAAGA,GAAG,CAAC0D,EAAE1D,EAAE,KACpJrJ,EAAE,CAACgN,EAAEF,KAAKA,EAAEE,EAAEA,EAAE5L,QAAQ,YAAY,SAASA,QAAQ,MAAM,OAAOA,QAAQ,MAAM,OAAOA,QAAQ,KAAK,OACpG6L,EAAE,CAAC9C,EAAG4C,EAAG/M,KAAK,GAAG+M,EAAE3K,OAAOpC,EAAG,MAAM,IAAI0D,UAAU,sBAAsByG,qBAAqBnK,kCAAkC+M,EAAE3K,oBAEzH,MAAM8K,EAAO,UAGPC,EAAW,MACxB,GAAG,GACHC,eAAeL,GAAG,GAAGA,EAAE3K,OAAO,MAAM,IAAIsB,UAAU,iFAC7C4I,IAAAA,KAAM,MAAO,WAClB,CAAClD,KAAK,OAAOrF,KAAKU,UAClB4I,OAAQZ,GAAGa,GAAI,OAAOA,GAAc,iBAAJA,GAAqB,aAAPA,EAAEhB,KAAkBM,EAAEW,MAAKX,GAAgB,mBAANU,EAAEV,KACrFY,UAAUT,GAAGE,EAAE,SAASpJ,UAAU,GAAGE,MAAK,EAAGjB,KAAKgK,KAAKC,IACvDU,OAAOV,GAAGE,EAAE,SAASpJ,UAAU,GAAGkJ,GAAG,GAAGhJ,MAAK,EAAGA,MAAK,EAAG2J,QAAO,EAAErE,KAAKA,IAAI0D,IAC1E9I,IAAI8I,GAAGE,EAAE,MAAMpJ,UAAU,GAAGkJ,GAAG,GAAG,IAAI,IAAI1D,EAAEtF,MAAK,EAAG4J,EAAEtE,EAAEjH,OAAO4K,EAAE,EAAEA,EAAEW,EAAEX,IAAI,GAAG3D,EAAE2D,GAAG,KAAKD,EAAE,OAAO1D,EAAE2D,GAAG,GAAG,OAAO,KAChHY,OAAOb,EAAE1D,GAAiF,OAA9E4D,EAAE,SAASpJ,UAAU,GAAGwF,EAAE,GAAG0D,GAAG,GAAGhJ,MAAK,EAAG8J,SAAQb,GAAGA,EAAE,KAAKD,GAAG1D,EAAEvG,KAAKkK,EAAE,MAAY3D,EACjGrF,IAAI+I,GAA8B,OAA3BE,EAAE,MAAMpJ,UAAU,GAAGkJ,GAAG,GAAUhJ,MAAK,EAAGwJ,MAAKlE,GAAGA,EAAE,KAAK0D,IAChEc,QAAQd,EAAE1D,GAA4B,IAAI,IAAK2D,EAAEc,KAApCb,EAAE,UAAUpJ,UAAU,GAAmBE,MAAKgJ,EAAEjN,KAAKuJ,EAAEyE,EAAEd,EAAEjJ,MACxEG,OAAO6I,GAAGE,EAAE,MAAMpJ,UAAU,GAAG,IAAIwF,EAAE,GAAG2D,GAAE,EAAGD,EAAED,KAAKC,GAAGhJ,MAAK,EAAG8J,SAAQC,IAAIA,EAAE,KAAKf,EAAE,GAAGC,IAAIA,GAAG3D,EAAEvG,KAAKiK,IAAI1D,EAAEvG,KAAKgL,MAAKd,GAAG3D,EAAEvG,KAAKiK,GAAGhJ,MAAK,EAAGsF,EAC1I,iBAAiBtF,MAAK,EACtB,QAAQ,IAAI,IAAIgJ,KAAKhJ,WAAWgJ,EAChC,UAAU,IAAI,IAAI,CAACA,KAAKhJ,WAAWgJ,IAG5B,SAASgB,EAAgBC,EAAEC,EAAE,WACpC,IAAI5E,EAAE,GAAGqD,MAAMA,MAAMtL,QAAQ,MAAO,IAAIG,OAAO,IAAI2M,SAAS,GAAI,KAAKlB,EAAE,GAAGmB,EAAE,KAAK9E,8CAKjF,OAJA2E,EAAEH,SAAQ,CAAC/B,EAAE3B,IAAc,iBAAH2B,EACvBkB,EAAElK,KAAKqL,EAAEnO,EAAEmK,GAAG,YAAY2B,EAAE1K,QAAQ,sBAAuB,eAC3D4L,EAAElK,KAAKqL,EAAEnO,EAAEmK,GAAG,gBAAgBnK,EAAE8L,EAAEb,KAAM,wBAAwBa,EAAE5L,MAAM,qCAAsC4L,EAAG,UAClHkB,EAAElK,KAAK,KAAKuG,OACL,IAAI4E,EAAEjB,EAAE,CAAC9M,KAAK,iCAAiCmJ,mFC5BtD+E,eAAiBC,EAAYC,EAAOC,GAAQ,GAC1C,IAAK,MAAMC,KAAQF,EACjB,GAAI,WAAYE,QAC6CA,EAAKC,cAC3D,GAAIC,YAAYC,OAAOH,GAC5B,GAAID,EAAO,CACT,IAAIK,EAAWJ,EAAKK,WACpB,MAAMC,EAAMN,EAAKK,WAAaL,EAAKO,WACnC,KAAOH,IAAaE,GAAK,CACvB,MAAMxL,EAAOqJ,KAAKqC,IAAIF,EAAMF,EAZpB,OAaFK,EAAQT,EAAKU,OAAO3N,MAAMqN,EAAUA,EAAWtL,GACrDsL,GAAYK,EAAMF,iBACZ,IAAIvE,WAAWyE,eAGjBT,MAGH,CAEL,IAAII,EAAW,EAAGvF,EAAI,EACtB,KAAOuF,IAAavF,EAAE/F,MAAM,CAC1B,MAAM2L,EAAQ5F,EAAE9H,MAAMqN,EAAUjC,KAAKqC,IAAI3F,EAAE/F,KAAMsL,EAzBvC,QA0BJM,QAAeD,EAAME,cAC3BP,GAAYM,EAAOH,iBACb,IAAIvE,WAAW0E,KAM7B,MAAME,EAAQ,MAAMC,EAElB,GAAS,GACT,GAAQ,GACR,GAAQ,EACR,GAAW,cAUXjC,YAAakC,EAAY,GAAIrG,EAAU,IACrC,GAAyB,iBAAdqG,GAAwC,OAAdA,EACnC,MAAM,IAAI5L,UAAU,qFAGtB,GAA0C,mBAA/B4L,EAAU3Q,OAAO4N,UAC1B,MAAM,IAAI7I,UAAU,oFAGtB,GAAuB,iBAAZuF,GAA2C,mBAAZA,EACxC,MAAM,IAAIvF,UAAU,yEAGN,OAAZuF,IAAkBA,EAAU,IAEhC,MAAMsG,EAAU,IAAIC,YACpB,IAAK,MAAMC,KAAWH,EAAW,CAC/B,IAAId,EAEFA,EADEE,YAAYC,OAAOc,GACd,IAAIjF,WAAWiF,EAAQP,OAAO3N,MAAMkO,EAAQZ,WAAYY,EAAQZ,WAAaY,EAAQV,aACnFU,aAAmBf,YACrB,IAAIlE,WAAWiF,EAAQlO,MAAM,IAC3BkO,aAAmBJ,EACrBI,EAEAF,EAAQG,OAAO,GAAGD,KAG3B1L,MAAK,GAAS2K,YAAYC,OAAOH,GAAQA,EAAKO,WAAaP,EAAKlL,KAChES,MAAK,EAAOjB,KAAK0L,GAGnBzK,MAAK,EAAW,QAAuB/E,IAApBiK,EAAQ0G,QAAwB,cAAgB1G,EAAQ0G,UAC3E,MAAMzP,OAAwBlB,IAAjBiK,EAAQ/I,KAAqB,GAAK0P,OAAO3G,EAAQ/I,MAC9D6D,MAAK,EAAQ,iBAAiBzC,KAAKpB,GAAQA,EAAO,GAOhDoD,WACF,OAAOS,MAAK,EAMV7D,WACF,OAAO6D,MAAK,EAUdqK,aAGE,MAAMyB,EAAU,IAAIC,YACpB,IAAIxE,EAAM,GACV,UAAW,MAAMkD,KAAQH,EAAWtK,MAAK,GAAQ,GAC/CuH,GAAOuE,EAAQE,OAAOvB,EAAM,CAAEC,QAAQ,IAIxC,OADAnD,GAAOuE,EAAQE,SACRzE,EAUT8C,oBAME,MAAM9H,EAAO,IAAIkE,WAAWzG,KAAKT,MACjC,IAAI6F,EAAS,EACb,UAAW,MAAM8F,KAASZ,EAAWtK,MAAK,GAAQ,GAChDuC,EAAKpC,IAAI+K,EAAO9F,GAChBA,GAAU8F,EAAM7M,OAGlB,OAAOkE,EAAK4I,OAGdT,SACE,MAAMuB,EAAK3B,EAAWtK,MAAK,GAAQ,GAEnC,OAAO,IAAIkM,WAAWC,eAAe,CAEnChQ,KAAM,QACNkO,WAAY+B,GACV,MAAMlB,QAAce,EAAGI,OACvBnB,EAAMoB,KAAOF,EAAKG,QAAUH,EAAKI,QAAQtB,EAAMxQ,QAGjD2P,qBACQ4B,EAAGQ,YAcfjP,MAAOkP,EAAQ,EAAG3B,EAAM/K,KAAKT,KAAMpD,EAAO,IACxC,MAAM,KAAEoD,GAASS,KAEjB,IAAI2M,EAAgBD,EAAQ,EAAI9D,KAAKgE,IAAIrN,EAAOmN,EAAO,GAAK9D,KAAKqC,IAAIyB,EAAOnN,GACxEsN,EAAc9B,EAAM,EAAInC,KAAKgE,IAAIrN,EAAOwL,EAAK,GAAKnC,KAAKqC,IAAIF,EAAKxL,GAEpE,MAAMuN,EAAOlE,KAAKgE,IAAIC,EAAcF,EAAe,GAC7CpC,EAAQvK,MAAK,EACbuL,EAAY,GAClB,IAAIwB,EAAQ,EAEZ,IAAK,MAAMtC,KAAQF,EAAO,CAExB,GAAIwC,GAASD,EACX,MAGF,MAAMvN,EAAOoL,YAAYC,OAAOH,GAAQA,EAAKO,WAAaP,EAAKlL,KAC/D,GAAIoN,GAAiBpN,GAAQoN,EAG3BA,GAAiBpN,EACjBsN,GAAetN,MACV,CACL,IAAI2L,EACAP,YAAYC,OAAOH,IACrBS,EAAQT,EAAKuC,SAASL,EAAe/D,KAAKqC,IAAI1L,EAAMsN,IACpDE,GAAS7B,EAAMF,aAEfE,EAAQT,EAAKjN,MAAMmP,EAAe/D,KAAKqC,IAAI1L,EAAMsN,IACjDE,GAAS7B,EAAM3L,MAEjBsN,GAAetN,EACfgM,EAAUxM,KAAKmM,GACfyB,EAAgB,GAIpB,MAAMM,EAAO,IAAI3B,EAAK,GAAI,CAAEnP,KAAM0P,OAAO1P,GAAM4K,gBAI/C,OAHAkG,GAAK,EAAQH,EACbG,GAAK,EAAS1B,EAEP0B,EAGGjS,IAAPJ,OAAOI,eACV,MAAO,OAGTsO,OAAQ1O,OAAO6N,aAAc9K,GAC3B,OACEA,GACkB,iBAAXA,GACuB,mBAAvBA,EAAO0L,cAEa,mBAAlB1L,EAAO+M,QACgB,mBAAvB/M,EAAOyN,cAEhB,gBAAgB7N,KAAKI,EAAO/C,OAAOI,gBAKzCE,OAAOgS,iBAAiB7B,EAAM3P,UAAW,CACvC6D,KAAM,CAAEuE,YAAY,GACpB3H,KAAM,CAAE2H,YAAY,GACpBtG,MAAO,CAAEsG,YAAY,KAIhB,MAAMwH,EAAOD,EACpB,6BCrPA,IAAKa,WAAWC,eAId,IACE,MAAMgB,EAAU,EAAQ,KAClB,YAAEC,GAAgBD,EACxB,IACEA,EAAQC,YAAc,OACtBlS,OAAOmS,OAAOnB,WAAY,EAAQ,KAClCiB,EAAQC,YAAcA,EACtB,MAAOE,GAEP,MADAH,EAAQC,YAAcA,EAChBE,GAER,MAAOA,GAEPpS,OAAOmS,OAAOnB,WAAY,EAAQ,KAItC,IAGE,MAAM,KAAEZ,GAAS,EAAQ,IACrBA,IAASA,EAAK5P,UAAUgP,SAC1BY,EAAK5P,UAAUgP,OAAS,SAAe6C,GACrC,IAAI1C,EAAW,EACf,MAAMoC,EAAOjN,KAEb,OAAO,IAAImM,eAAe,CACxBhQ,KAAM,QACNkO,WAAY+B,GACV,MAAMlB,EAAQ+B,EAAKzP,MAAMqN,EAAUjC,KAAKqC,IAAIgC,EAAK1N,KAAMsL,EAnC/C,QAoCFM,QAAeD,EAAME,cAC3BP,GAAYM,EAAOH,WACnBoB,EAAKI,QAAQ,IAAI/F,WAAW0E,IAExBN,IAAaoC,EAAK1N,MACpB6M,EAAKG,aAMf,MAAOe,+BCjDThT,EAAOC,QAAUmM,QAAQ,0CCAzBpM,EAAOC,QAAUmM,QAAQ,kCCGxB,IAAkB8G,EAAAA,EAIX,SAAWjT,GAAW,aAG1B,MAAMkT,EAAmC,mBAAX7S,QAAoD,iBAApBA,OAAO4N,SACjE5N,OACA8S,GAAe,UAAUA,KAG7B,SAASC,KAeT,MAAMC,EAXkB,oBAATvS,KACAA,KAEgB,oBAAXwS,OACLA,OAEgB,oBAAXrS,OACLA,YADN,EAOT,SAASsS,EAAa5E,GAClB,MAAqB,iBAANA,GAAwB,OAANA,GAA4B,mBAANA,EAE3D,MAAM6E,EAAiCJ,EAEjCK,EAAkBC,QAClBC,EAAsBD,QAAQvS,UAAUyS,KACxCC,EAAyBH,QAAQI,QAAQC,KAAKN,GAC9CO,EAAwBN,QAAQO,OAAOF,KAAKN,GAClD,SAASS,EAAWC,GAChB,OAAO,IAAIV,EAAgBU,GAE/B,SAASC,EAAoBjU,GACzB,OAAO0T,EAAuB1T,GAElC,SAASkU,EAAoBC,GACzB,OAAON,EAAsBM,GAEjC,SAASC,EAAmBC,EAASC,EAAaC,GAG9C,OAAOf,EAAoBnS,KAAKgT,EAASC,EAAaC,GAE1D,SAASC,EAAYH,EAASC,EAAaC,GACvCH,EAAmBA,EAAmBC,EAASC,EAAaC,QAAahU,EAAW8S,GAExF,SAASoB,EAAgBJ,EAASC,GAC9BE,EAAYH,EAASC,GAEzB,SAASI,EAAcL,EAASE,GAC5BC,EAAYH,OAAS9T,EAAWgU,GAEpC,SAASI,EAAqBN,EAASO,EAAoBC,GACvD,OAAOT,EAAmBC,EAASO,EAAoBC,GAE3D,SAASC,EAA0BT,GAC/BD,EAAmBC,OAAS9T,EAAW8S,GAE3C,MAAM0B,EAAiB,MACnB,MAAMC,EAAuB9B,GAAWA,EAAQ6B,eAChD,GAAoC,mBAAzBC,EACP,OAAOA,EAEX,MAAMC,EAAkBhB,OAAoB1T,GAC5C,OAAQ2U,GAAOd,EAAmBa,EAAiBC,IANhC,GAQvB,SAASC,EAAY5F,EAAG6F,EAAGjQ,GACvB,GAAiB,mBAANoK,EACP,MAAM,IAAItK,UAAU,8BAExB,OAAOpE,SAASG,UAAUqE,MAAMhE,KAAKkO,EAAG6F,EAAGjQ,GAE/C,SAASkQ,EAAY9F,EAAG6F,EAAGjQ,GACvB,IACI,OAAO8O,EAAoBkB,EAAY5F,EAAG6F,EAAGjQ,IAEjD,MAAOnF,GACH,OAAOkU,EAAoBlU,IAanC,MAAMsV,EACF3G,cACIrJ,KAAKiQ,QAAU,EACfjQ,KAAKkQ,MAAQ,EAEblQ,KAAKmQ,OAAS,CACVC,UAAW,GACXC,WAAOpV,GAEX+E,KAAKsQ,MAAQtQ,KAAKmQ,OAIlBnQ,KAAKiQ,QAAU,EAEfjQ,KAAKkQ,MAAQ,EAEb7R,aACA,OAAO2B,KAAKkQ,MAMhBnR,KAAK2M,GACD,MAAM6E,EAAUvQ,KAAKsQ,MACrB,IAAIE,EAAUD,EACmBE,QAA7BF,EAAQH,UAAU/R,SAClBmS,EAAU,CACNJ,UAAW,GACXC,WAAOpV,IAKfsV,EAAQH,UAAUrR,KAAK2M,GACnB8E,IAAYD,IACZvQ,KAAKsQ,MAAQE,EACbD,EAAQF,MAAQG,KAElBxQ,KAAKkQ,MAIXQ,QACI,MAAMC,EAAW3Q,KAAKmQ,OACtB,IAAIS,EAAWD,EACf,MAAME,EAAY7Q,KAAKiQ,QACvB,IAAIa,EAAYD,EAAY,EAC5B,MAAME,EAAWJ,EAASP,UACpB1E,EAAUqF,EAASF,GAazB,OAtEqB,QA0DjBC,IACAF,EAAWD,EAASN,MACpBS,EAAY,KAGd9Q,KAAKkQ,MACPlQ,KAAKiQ,QAAUa,EACXH,IAAaC,IACb5Q,KAAKmQ,OAASS,GAGlBG,EAASF,QAAa5V,EACfyQ,EAUX5B,QAAQkH,GACJ,IAAI3L,EAAIrF,KAAKiQ,QACT1K,EAAOvF,KAAKmQ,OACZY,EAAWxL,EAAK6K,UACpB,OAAO/K,IAAM0L,EAAS1S,aAAyBpD,IAAfsK,EAAK8K,OAC7BhL,IAAM0L,EAAS1S,SACfkH,EAAOA,EAAK8K,MACZU,EAAWxL,EAAK6K,UAChB/K,EAAI,EACoB,IAApB0L,EAAS1S,UAIjB2S,EAASD,EAAS1L,MAChBA,EAKV4L,OACI,MAAMC,EAAQlR,KAAKmQ,OACbgB,EAASnR,KAAKiQ,QACpB,OAAOiB,EAAMd,UAAUe,IAI/B,SAASC,EAAsCC,EAAQ3G,GACnD2G,EAAOC,qBAAuB5G,EAC9BA,EAAO6G,QAAUF,EACK,aAAlB3G,EAAO8G,OACPC,EAAqCJ,GAEd,WAAlB3G,EAAO8G,OAsCpB,SAAwDH,GACpDI,EAAqCJ,GACrCK,EAAkCL,GAvC9BM,CAA+CN,GAG/CO,EAA+CP,EAAQ3G,EAAOmH,cAKtE,SAASC,EAAkCT,EAAQxC,GAE/C,OAAOkD,GADQV,EAAOC,qBACczC,GAExC,SAASmD,EAAmCX,GACG,aAAvCA,EAAOC,qBAAqBE,OAC5BS,EAAiCZ,EAAQ,IAAI1R,UAAU,qFAoC/D,SAAmD0R,EAAQxC,GACvD+C,EAA+CP,EAAQxC,GAlCnDqD,CAA0Cb,EAAQ,IAAI1R,UAAU,qFAEpE0R,EAAOC,qBAAqBC,aAAUtW,EACtCoW,EAAOC,0BAAuBrW,EAGlC,SAASkX,EAAoBjL,GACzB,OAAO,IAAIvH,UAAU,UAAYuH,EAAO,qCAG5C,SAASuK,EAAqCJ,GAC1CA,EAAOe,eAAiB3D,GAAW,CAACJ,EAASG,KACzC6C,EAAOgB,uBAAyBhE,EAChCgD,EAAOiB,sBAAwB9D,KAGvC,SAASoD,EAA+CP,EAAQxC,GAC5D4C,EAAqCJ,GACrCY,EAAiCZ,EAAQxC,GAM7C,SAASoD,EAAiCZ,EAAQxC,QACT5T,IAAjCoW,EAAOiB,wBAGX9C,EAA0B6B,EAAOe,gBACjCf,EAAOiB,sBAAsBzD,GAC7BwC,EAAOgB,4BAAyBpX,EAChCoW,EAAOiB,2BAAwBrX,GAKnC,SAASyW,EAAkCL,QACDpW,IAAlCoW,EAAOgB,yBAGXhB,EAAOgB,4BAAuBpX,GAC9BoW,EAAOgB,4BAAyBpX,EAChCoW,EAAOiB,2BAAwBrX,GAGnC,MAAMsX,EAAa9E,EAAe,kBAC5B+E,EAAa/E,EAAe,kBAC5BgF,EAAchF,EAAe,mBAC7BiF,EAAYjF,EAAe,iBAI3BkF,EAAiBC,OAAOC,UAAY,SAAU3J,GAChD,MAAoB,iBAANA,GAAkB2J,SAAS3J,IAKvC4J,EAAYlK,KAAKmK,OAAS,SAAUhL,GACtC,OAAOA,EAAI,EAAIa,KAAKoK,KAAKjL,GAAKa,KAAKqK,MAAMlL,IAO7C,SAASmL,EAAiBxO,EAAKyO,GAC3B,QAAYlY,IAARyJ,GAHgB,iBADFwE,EAIqBxE,IAHM,mBAANwE,EAInC,MAAM,IAAIvJ,UAAU,GAAGwT,uBAL/B,IAAsBjK,EAStB,SAASkK,EAAelK,EAAGiK,GACvB,GAAiB,mBAANjK,EACP,MAAM,IAAIvJ,UAAU,GAAGwT,wBAO/B,SAASE,EAAanK,EAAGiK,GACrB,IAJJ,SAAkBjK,GACd,MAAqB,iBAANA,GAAwB,OAANA,GAA4B,mBAANA,EAGlDzO,CAASyO,GACV,MAAM,IAAIvJ,UAAU,GAAGwT,uBAG/B,SAASG,EAAuBpK,EAAG2B,EAAUsI,GACzC,QAAUlY,IAANiO,EACA,MAAM,IAAIvJ,UAAU,aAAakL,qBAA4BsI,OAGrE,SAASI,EAAoBrK,EAAGsK,EAAOL,GACnC,QAAUlY,IAANiO,EACA,MAAM,IAAIvJ,UAAU,GAAG6T,qBAAyBL,OAIxD,SAASM,EAA0B/Y,GAC/B,OAAOkY,OAAOlY,GAElB,SAASgZ,EAAmBxK,GACxB,OAAa,IAANA,EAAU,EAAIA,EAMzB,SAASyK,EAAwCjZ,EAAOyY,GACpD,MACMS,EAAahB,OAAOiB,iBAC1B,IAAI3K,EAAI0J,OAAOlY,GAEf,GADAwO,EAAIwK,EAAmBxK,IAClByJ,EAAezJ,GAChB,MAAM,IAAIvJ,UAAU,GAAGwT,4BAG3B,GADAjK,EAZJ,SAAqBA,GACjB,OAAOwK,EAAmBZ,EAAU5J,IAWhC4K,CAAY5K,GACZA,EARe,GAQGA,EAAI0K,EACtB,MAAM,IAAIjU,UAAU,GAAGwT,2CAA6DS,gBAExF,OAAKjB,EAAezJ,IAAY,IAANA,EAOnBA,EANI,EASf,SAAS6K,EAAqB7K,EAAGiK,GAC7B,IAAKa,GAAiB9K,GAClB,MAAM,IAAIvJ,UAAU,GAAGwT,8BAK/B,SAASc,EAAmCvJ,GACxC,OAAO,IAAIwJ,EAA4BxJ,GAG3C,SAASyJ,EAA6BzJ,EAAQ0J,GAC1C1J,EAAO6G,QAAQ8C,cAActV,KAAKqV,GAEtC,SAASE,EAAiC5J,EAAQQ,EAAOoB,GACrD,MACM8H,EADS1J,EAAO6G,QACK8C,cAAc3D,QACrCpE,EACA8H,EAAYG,cAGZH,EAAYI,YAAYtJ,GAGhC,SAASuJ,EAAiC/J,GACtC,OAAOA,EAAO6G,QAAQ8C,cAAchW,OAExC,SAASqW,EAA+BhK,GACpC,MAAM2G,EAAS3G,EAAO6G,QACtB,YAAetW,IAAXoW,KAGCsD,EAA8BtD,GAUvC,MAAM6C,EACF7K,YAAYqB,GAGR,GAFA4I,EAAuB5I,EAAQ,EAAG,+BAClCqJ,EAAqBrJ,EAAQ,mBACzBkK,GAAuBlK,GACvB,MAAM,IAAI/K,UAAU,+EAExByR,EAAsCpR,KAAM0K,GAC5C1K,KAAKqU,cAAgB,IAAIrE,EAMzB6E,aACA,OAAKF,EAA8B3U,MAG5BA,KAAKoS,eAFDxD,EAAoBkG,GAAiC,WAOpEC,OAAOlG,GACH,OAAK8F,EAA8B3U,WAGD/E,IAA9B+E,KAAKsR,qBACE1C,EAAoBuD,EAAoB,WAE5CL,EAAkC9R,KAAM6O,GALpCD,EAAoBkG,GAAiC,WAYpEE,OACI,IAAKL,EAA8B3U,MAC/B,OAAO4O,EAAoBkG,GAAiC,SAEhE,QAAkC7Z,IAA9B+E,KAAKsR,qBACL,OAAO1C,EAAoBuD,EAAoB,cAEnD,IAAI8C,EACAC,EACJ,MAAMnG,EAAUN,GAAW,CAACJ,EAASG,KACjCyG,EAAiB5G,EACjB6G,EAAgB1G,KAQpB,OADA2G,EAAgCnV,KALZ,CAChBwU,YAAatJ,GAAS+J,EAAe,CAAEva,MAAOwQ,EAAOoB,MAAM,IAC3DiI,YAAa,IAAMU,EAAe,CAAEva,WAAOO,EAAWqR,MAAM,IAC5D8I,YAAanZ,GAAKiZ,EAAcjZ,KAG7B8S,EAWXsG,cACI,IAAKV,EAA8B3U,MAC/B,MAAM8U,GAAiC,eAE3C,QAAkC7Z,IAA9B+E,KAAKsR,qBAAT,CAGA,GAAItR,KAAKqU,cAAchW,OAAS,EAC5B,MAAM,IAAIsB,UAAU,uFAExBqS,EAAmChS,QAgB3C,SAAS2U,EAA8BzL,GACnC,QAAK4E,EAAa5E,MAGbhO,OAAOQ,UAAUC,eAAeI,KAAKmN,EAAG,kBAGtCA,aAAagL,EAExB,SAASiB,EAAgC9D,EAAQ+C,GAC7C,MAAM1J,EAAS2G,EAAOC,qBACtB5G,EAAO4K,YAAa,EACE,WAAlB5K,EAAO8G,OACP4C,EAAYG,cAEW,YAAlB7J,EAAO8G,OACZ4C,EAAYgB,YAAY1K,EAAOmH,cAG/BnH,EAAO6K,0BAA0B7C,GAAW0B,GAIpD,SAASU,GAAiC5N,GACtC,OAAO,IAAIvH,UAAU,yCAAyCuH,uDArClEhM,OAAOgS,iBAAiBgH,EAA4BxY,UAAW,CAC3DqZ,OAAQ,CAAEjR,YAAY,GACtBkR,KAAM,CAAElR,YAAY,GACpBuR,YAAa,CAAEvR,YAAY,GAC3B+Q,OAAQ,CAAE/Q,YAAY,KAEgB,iBAA/B2J,EAAezS,aACtBE,OAAO2I,eAAeqQ,EAA4BxY,UAAW+R,EAAezS,YAAa,CACrFN,MAAO,8BACP8a,cAAc,IAiCtB,MAAMC,GAAyBva,OAAOwa,eAAexa,OAAOwa,gBAAerL,sBAAwB3O,WAGnG,MAAMia,GACFtM,YAAYgI,EAAQuE,GAChB5V,KAAK6V,qBAAkB5a,EACvB+E,KAAK8V,aAAc,EACnB9V,KAAKuR,QAAUF,EACfrR,KAAK+V,eAAiBH,EAE1BvJ,OACI,MAAM2J,EAAY,IAAMhW,KAAKiW,aAI7B,OAHAjW,KAAK6V,gBAAkB7V,KAAK6V,gBACxBxG,EAAqBrP,KAAK6V,gBAAiBG,EAAWA,GACtDA,IACGhW,KAAK6V,gBAEhBpJ,OAAO/R,GACH,MAAMwb,EAAc,IAAMlW,KAAKmW,aAAazb,GAC5C,OAAOsF,KAAK6V,gBACRxG,EAAqBrP,KAAK6V,gBAAiBK,EAAaA,GACxDA,IAERD,aACI,GAAIjW,KAAK8V,YACL,OAAO7H,QAAQI,QAAQ,CAAE3T,WAAOO,EAAWqR,MAAM,IAErD,MAAM+E,EAASrR,KAAKuR,QACpB,QAAoCtW,IAAhCoW,EAAOC,qBACP,OAAO1C,EAAoBuD,EAAoB,YAEnD,IAAI8C,EACAC,EACJ,MAAMnG,EAAUN,GAAW,CAACJ,EAASG,KACjCyG,EAAiB5G,EACjB6G,EAAgB1G,KAuBpB,OADA2G,EAAgC9D,EApBZ,CAChBmD,YAAatJ,IACTlL,KAAK6V,qBAAkB5a,EAGvBwU,GAAe,IAAMwF,EAAe,CAAEva,MAAOwQ,EAAOoB,MAAM,OAE9DiI,YAAa,KACTvU,KAAK6V,qBAAkB5a,EACvB+E,KAAK8V,aAAc,EACnB9D,EAAmCX,GACnC4D,EAAe,CAAEva,WAAOO,EAAWqR,MAAM,KAE7C8I,YAAavG,IACT7O,KAAK6V,qBAAkB5a,EACvB+E,KAAK8V,aAAc,EACnB9D,EAAmCX,GACnC6D,EAAcrG,MAIfE,EAEXoH,aAAazb,GACT,GAAIsF,KAAK8V,YACL,OAAO7H,QAAQI,QAAQ,CAAE3T,MAAAA,EAAO4R,MAAM,IAE1CtM,KAAK8V,aAAc,EACnB,MAAMzE,EAASrR,KAAKuR,QACpB,QAAoCtW,IAAhCoW,EAAOC,qBACP,OAAO1C,EAAoBuD,EAAoB,qBAEnD,IAAKnS,KAAK+V,eAAgB,CACtB,MAAM7Z,EAAS4V,EAAkCT,EAAQ3W,GAEzD,OADAsX,EAAmCX,GAC5BhC,EAAqBnT,GAAQ,KAAM,CAAGxB,MAAAA,EAAO4R,MAAM,MAG9D,OADA0F,EAAmCX,GAC5B1C,EAAoB,CAAEjU,MAAAA,EAAO4R,MAAM,KAGlD,MAAM8J,GAAuC,CACzC/J,OACI,OAAKgK,GAA8BrW,MAG5BA,KAAKsW,mBAAmBjK,OAFpBuC,EAAoB2H,GAAuC,UAI1E9J,OAAO/R,GACH,OAAK2b,GAA8BrW,MAG5BA,KAAKsW,mBAAmB7J,OAAO/R,GAF3BkU,EAAoB2H,GAAuC,aAgB9E,SAASF,GAA8BnN,GACnC,IAAK4E,EAAa5E,GACd,OAAO,EAEX,IAAKhO,OAAOQ,UAAUC,eAAeI,KAAKmN,EAAG,sBACzC,OAAO,EAEX,IAEI,OAAOA,EAAEoN,8BACLX,GAER,MAAOa,GACH,OAAO,GAIf,SAASD,GAAuCrP,GAC5C,OAAO,IAAIvH,UAAU,+BAA+BuH,2DA7BzBjM,IAA3Bwa,IACAva,OAAOub,eAAeL,GAAsCX,IAiChE,MAAMiB,GAAc9D,OAAO+D,OAAS,SAAUzN,GAE1C,OAAOA,GAAMA,GAGjB,SAAS0N,GAAoB7F,GAGzB,OAAOA,EAASvT,QAEpB,SAASqZ,GAAmBC,EAAMC,EAAYC,EAAKC,EAAW7Q,GAC1D,IAAIK,WAAWqQ,GAAM3W,IAAI,IAAIsG,WAAWuQ,EAAKC,EAAW7Q,GAAI2Q,GAWhE,SAASG,GAAiB/L,EAAQgM,EAAOpM,GAGrC,GAAII,EAAO3N,MACP,OAAO2N,EAAO3N,MAAM2Z,EAAOpM,GAE/B,MAAM1M,EAAS0M,EAAMoM,EACf3Z,EAAQ,IAAImN,YAAYtM,GAE9B,OADAwY,GAAmBrZ,EAAO,EAAG2N,EAAQgM,EAAO9Y,GACrCb,EAeX,SAAS4Z,GAAkBC,GACvB,MAAMlM,EAAS+L,GAAiBG,EAAElM,OAAQkM,EAAEvM,WAAYuM,EAAEvM,WAAauM,EAAErM,YACzE,OAAO,IAAIvE,WAAW0E,GAG1B,SAASmM,GAAaC,GAClB,MAAMC,EAAOD,EAAUE,OAAO/G,QAK9B,OAJA6G,EAAUG,iBAAmBF,EAAKjY,KAC9BgY,EAAUG,gBAAkB,IAC5BH,EAAUG,gBAAkB,GAEzBF,EAAK9c,MAEhB,SAASid,GAAqBJ,EAAW7c,EAAO6E,GAC5C,GAzBiB,iBADQwI,EA0BAxI,IAtBrBmX,GAAY3O,IAGZA,EAAI,GAmB0BxI,IAASqY,EAAAA,EACvC,MAAM,IAAIC,WAAW,wDA3B7B,IAA6B9P,EA6BzBwP,EAAUE,OAAO1Y,KAAK,CAAErE,MAAAA,EAAO6E,KAAAA,IAC/BgY,EAAUG,iBAAmBnY,EAMjC,SAASuY,GAAWP,GAChBA,EAAUE,OAAS,IAAIzH,EACvBuH,EAAUG,gBAAkB,EAQhC,MAAMK,GACF1O,cACI,MAAM,IAAI1J,UAAU,uBAKpBqY,WACA,IAAKC,GAA4BjY,MAC7B,MAAMkY,GAA+B,QAEzC,OAAOlY,KAAKmY,MAEhBC,QAAQC,GACJ,IAAKJ,GAA4BjY,MAC7B,MAAMkY,GAA+B,WAIzC,GAFA5E,EAAuB+E,EAAc,EAAG,WACxCA,EAAe1E,EAAwC0E,EAAc,wBAChBpd,IAAjD+E,KAAKsY,wCACL,MAAM,IAAI3Y,UAAU,0CAEHK,KAAKmY,MAAMhN,OAChCoN,GAAoCvY,KAAKsY,wCAAyCD,GAEtFG,mBAAmBR,GACf,IAAKC,GAA4BjY,MAC7B,MAAMkY,GAA+B,sBAGzC,GADA5E,EAAuB0E,EAAM,EAAG,uBAC3BrN,YAAYC,OAAOoN,GACpB,MAAM,IAAIrY,UAAU,gDAExB,QAAqD1E,IAAjD+E,KAAKsY,wCACL,MAAM,IAAI3Y,UAAU,0CAEHqY,EAAK7M,OAC1BsN,GAA+CzY,KAAKsY,wCAAyCN,IAGrG9c,OAAOgS,iBAAiB6K,GAA0Brc,UAAW,CACzD0c,QAAS,CAAEtU,YAAY,GACvB0U,mBAAoB,CAAE1U,YAAY,GAClCkU,KAAM,CAAElU,YAAY,KAEkB,iBAA/B2J,EAAezS,aACtBE,OAAO2I,eAAekU,GAA0Brc,UAAW+R,EAAezS,YAAa,CACnFN,MAAO,4BACP8a,cAAc,IAQtB,MAAMkD,GACFrP,cACI,MAAM,IAAI1J,UAAU,uBAKpBgZ,kBACA,IAAKC,GAA+B5Y,MAChC,MAAM6Y,GAAwC,eAElD,OAAOC,GAA2C9Y,MAMlD+Y,kBACA,IAAKH,GAA+B5Y,MAChC,MAAM6Y,GAAwC,eAElD,OAAOG,GAA2ChZ,MAMtDuM,QACI,IAAKqM,GAA+B5Y,MAChC,MAAM6Y,GAAwC,SAElD,GAAI7Y,KAAKiZ,gBACL,MAAM,IAAItZ,UAAU,8DAExB,MAAMuZ,EAAQlZ,KAAKmZ,8BAA8B3H,OACjD,GAAc,aAAV0H,EACA,MAAM,IAAIvZ,UAAU,kBAAkBuZ,8DAE1CE,GAAkCpZ,MAEtCwM,QAAQtB,GACJ,IAAK0N,GAA+B5Y,MAChC,MAAM6Y,GAAwC,WAGlD,GADAvF,EAAuBpI,EAAO,EAAG,YAC5BP,YAAYC,OAAOM,GACpB,MAAM,IAAIvL,UAAU,sCAExB,GAAyB,IAArBuL,EAAMF,WACN,MAAM,IAAIrL,UAAU,uCAExB,GAAgC,IAA5BuL,EAAMC,OAAOH,WACb,MAAM,IAAIrL,UAAU,gDAExB,GAAIK,KAAKiZ,gBACL,MAAM,IAAItZ,UAAU,gCAExB,MAAMuZ,EAAQlZ,KAAKmZ,8BAA8B3H,OACjD,GAAc,aAAV0H,EACA,MAAM,IAAIvZ,UAAU,kBAAkBuZ,mEAE1CG,GAAoCrZ,KAAMkL,GAK9CoC,MAAMrR,GACF,IAAK2c,GAA+B5Y,MAChC,MAAM6Y,GAAwC,SAElDS,GAAkCtZ,KAAM/D,GAG5C,CAACwW,GAAa5D,GACV0K,GAAkDvZ,MAClD8X,GAAW9X,MACX,MAAM9D,EAAS8D,KAAKwZ,iBAAiB3K,GAErC,OADA4K,GAA4CzZ,MACrC9D,EAGX,CAACwW,GAAW0B,GACR,MAAM1J,EAAS1K,KAAKmZ,8BACpB,GAAInZ,KAAK0X,gBAAkB,EAAG,CAC1B,MAAM/W,EAAQX,KAAKyX,OAAO/G,QAC1B1Q,KAAK0X,iBAAmB/W,EAAMqK,WAC9B0O,GAA6C1Z,MAC7C,MAAMgY,EAAO,IAAIvR,WAAW9F,EAAMwK,OAAQxK,EAAMmK,WAAYnK,EAAMqK,YAElE,YADAoJ,EAAYI,YAAYwD,GAG5B,MAAM2B,EAAwB3Z,KAAK4Z,uBACnC,QAA8B3e,IAA1B0e,EAAqC,CACrC,IAAIxO,EACJ,IACIA,EAAS,IAAIR,YAAYgP,GAE7B,MAAOE,GAEH,YADAzF,EAAYgB,YAAYyE,GAG5B,MAAMC,EAAqB,CACvB3O,OAAAA,EACA4O,iBAAkBJ,EAClB7O,WAAY,EACZE,WAAY2O,EACZK,YAAa,EACbC,YAAa,EACbC,gBAAiBzT,WACjB0T,WAAY,WAEhBna,KAAKoa,kBAAkBrb,KAAK+a,GAEhC3F,EAA6BzJ,EAAQ0J,GACrCiG,GAA6Cra,OAiBrD,SAAS4Y,GAA+B1P,GACpC,QAAK4E,EAAa5E,MAGbhO,OAAOQ,UAAUC,eAAeI,KAAKmN,EAAG,kCAGtCA,aAAawP,GAExB,SAAST,GAA4B/O,GACjC,QAAK4E,EAAa5E,MAGbhO,OAAOQ,UAAUC,eAAeI,KAAKmN,EAAG,4CAGtCA,aAAa6O,GAExB,SAASsC,GAA6CC,GAClD,MAAMC,EA6MV,SAAoDD,GAChD,MAAM5P,EAAS4P,EAAWnB,8BAC1B,MAAsB,aAAlBzO,EAAO8G,UAGP8I,EAAWrB,oBAGVqB,EAAWE,cAGZ9F,EAA+BhK,IAAW+J,EAAiC/J,GAAU,QAGrF+P,GAA4B/P,IAAWgQ,GAAqChQ,GAAU,IAGtEsO,GAA2CsB,GAC7C,MA/NCK,CAA2CL,GACzDC,IAGDD,EAAWM,SACXN,EAAWO,YAAa,GAG5BP,EAAWM,UAAW,EAGtB1L,EADoBoL,EAAWQ,kBACN,KACrBR,EAAWM,UAAW,EAClBN,EAAWO,aACXP,EAAWO,YAAa,EACxBR,GAA6CC,OAElDre,IACCqd,GAAkCgB,EAAYre,QAGtD,SAASsd,GAAkDe,GACvDS,GAAkDT,GAClDA,EAAWF,kBAAoB,IAAIpK,EAEvC,SAASgL,GAAqDtQ,EAAQoP,GAClE,IAAIxN,GAAO,EACW,WAAlB5B,EAAO8G,SACPlF,GAAO,GAEX,MAAM2O,EAAaC,GAAsDpB,GACnC,YAAlCA,EAAmBK,WACnB7F,EAAiC5J,EAAQuQ,EAAY3O,GA8Y7D,SAA8C5B,EAAQQ,EAAOoB,GACzD,MACM6O,EADSzQ,EAAO6G,QACS6J,kBAAkB1K,QAC7CpE,EACA6O,EAAgB5G,YAAYrJ,GAG5BiQ,EAAgB3G,YAAYtJ,GAlZ5BmQ,CAAqC3Q,EAAQuQ,EAAY3O,GAGjE,SAAS4O,GAAsDpB,GAC3D,MAAME,EAAcF,EAAmBE,YACjCC,EAAcH,EAAmBG,YACvC,OAAO,IAAIH,EAAmBI,gBAAgBJ,EAAmB3O,OAAQ2O,EAAmBhP,WAAYkP,EAAcC,GAE1H,SAASqB,GAAgDhB,EAAYnP,EAAQL,EAAYE,GACrFsP,EAAW7C,OAAO1Y,KAAK,CAAEoM,OAAAA,EAAQL,WAAAA,EAAYE,WAAAA,IAC7CsP,EAAW5C,iBAAmB1M,EAElC,SAASuQ,GAA4DjB,EAAYR,GAC7E,MAAMG,EAAcH,EAAmBG,YACjCuB,EAAsB1B,EAAmBE,YAAcF,EAAmBE,YAAcC,EACxFwB,EAAiB7S,KAAKqC,IAAIqP,EAAW5C,gBAAiBoC,EAAmB9O,WAAa8O,EAAmBE,aACzG0B,EAAiB5B,EAAmBE,YAAcyB,EAClDE,EAAkBD,EAAiBA,EAAiBzB,EAC1D,IAAI2B,EAA4BH,EAC5BI,GAAQ,EACRF,EAAkBH,IAClBI,EAA4BD,EAAkB7B,EAAmBE,YACjE6B,GAAQ,GAEZ,MAAMC,EAAQxB,EAAW7C,OACzB,KAAOmE,EAA4B,GAAG,CAClC,MAAMG,EAAcD,EAAM7K,OACpB+K,EAAcpT,KAAKqC,IAAI2Q,EAA2BG,EAAY/Q,YAC9DiR,EAAYnC,EAAmBhP,WAAagP,EAAmBE,YACrEnD,GAAmBiD,EAAmB3O,OAAQ8Q,EAAWF,EAAY5Q,OAAQ4Q,EAAYjR,WAAYkR,GACjGD,EAAY/Q,aAAegR,EAC3BF,EAAMpL,SAGNqL,EAAYjR,YAAckR,EAC1BD,EAAY/Q,YAAcgR,GAE9B1B,EAAW5C,iBAAmBsE,EAC9BE,GAAuD5B,EAAY0B,EAAalC,GAChF8B,GAA6BI,EAEjC,OAAOH,EAEX,SAASK,GAAuD5B,EAAY/a,EAAMua,GAC9EA,EAAmBE,aAAeza,EAEtC,SAASma,GAA6CY,GACf,IAA/BA,EAAW5C,iBAAyB4C,EAAWrB,iBAC/CQ,GAA4Ca,GAC5C6B,GAAoB7B,EAAWnB,gCAG/BkB,GAA6CC,GAGrD,SAASS,GAAkDT,GACvB,OAA5BA,EAAW8B,eAGf9B,EAAW8B,aAAa9D,6CAA0Crd,EAClEqf,EAAW8B,aAAajE,MAAQ,KAChCmC,EAAW8B,aAAe,MAE9B,SAASC,GAAiE/B,GACtE,KAAOA,EAAWF,kBAAkB/b,OAAS,GAAG,CAC5C,GAAmC,IAA/Bic,EAAW5C,gBACX,OAEJ,MAAMoC,EAAqBQ,EAAWF,kBAAkBnJ,OACpDsK,GAA4DjB,EAAYR,KACxEwC,GAAiDhC,GACjDU,GAAqDV,EAAWnB,8BAA+BW,KAmF3G,SAASyC,GAA4CjC,EAAYjC,GAC7D,MAAMmE,EAAkBlC,EAAWF,kBAAkBnJ,OACrD8J,GAAkDT,GAEpC,WADAA,EAAWnB,8BAA8B3H,OA5B3D,SAA0D8I,EAAYkC,GAClE,MAAM9R,EAAS4P,EAAWnB,8BAC1B,GAAIsB,GAA4B/P,GAC5B,KAAOgQ,GAAqChQ,GAAU,GAElDsQ,GAAqDtQ,EAD1B4R,GAAiDhC,IA0BhFmC,CAAiDnC,GArBzD,SAA4DA,EAAYjC,EAAcyB,GAElF,GADAoC,GAAuD5B,EAAYjC,EAAcyB,GAC7EA,EAAmBE,YAAcF,EAAmBG,YACpD,OAEJqC,GAAiDhC,GACjD,MAAMoC,EAAgB5C,EAAmBE,YAAcF,EAAmBG,YAC1E,GAAIyC,EAAgB,EAAG,CACnB,MAAM3R,EAAM+O,EAAmBhP,WAAagP,EAAmBE,YACzDvd,EAAYya,GAAiB4C,EAAmB3O,OAAQJ,EAAM2R,EAAe3R,GACnFuQ,GAAgDhB,EAAY7d,EAAW,EAAGA,EAAUuO,YAExF8O,EAAmBE,aAAe0C,EAClC1B,GAAqDV,EAAWnB,8BAA+BW,GAC/FuC,GAAiE/B,GAU7DqC,CAAmDrC,EAAYjC,EAAcmE,GAEjFnC,GAA6CC,GAEjD,SAASgC,GAAiDhC,GAEtD,OADmBA,EAAWF,kBAAkB1J,QA0BpD,SAAS+I,GAA4Ca,GACjDA,EAAWQ,oBAAiB7f,EAC5Bqf,EAAWd,sBAAmBve,EAGlC,SAASme,GAAkCkB,GACvC,MAAM5P,EAAS4P,EAAWnB,8BAC1B,IAAImB,EAAWrB,iBAAqC,aAAlBvO,EAAO8G,OAGzC,GAAI8I,EAAW5C,gBAAkB,EAC7B4C,EAAWrB,iBAAkB,MADjC,CAIA,GAAIqB,EAAWF,kBAAkB/b,OAAS,GACTic,EAAWF,kBAAkBnJ,OACjC+I,YAAc,EAAG,CACtC,MAAM/d,EAAI,IAAI0D,UAAU,2DAExB,MADA2Z,GAAkCgB,EAAYre,GACxCA,EAGdwd,GAA4Ca,GAC5C6B,GAAoBzR,IAExB,SAAS2O,GAAoCiB,EAAYpP,GACrD,MAAMR,EAAS4P,EAAWnB,8BAC1B,GAAImB,EAAWrB,iBAAqC,aAAlBvO,EAAO8G,OACrC,OAEJ,MAAMrG,EAASD,EAAMC,OACfL,EAAaI,EAAMJ,WACnBE,EAAaE,EAAMF,WACnB4R,EAAwCzR,EAC9C,GAAImP,EAAWF,kBAAkB/b,OAAS,EAAG,CACzC,MAAMwe,EAAuBvC,EAAWF,kBAAkBnJ,OACrC4L,EAAqB1R,OAC1C0R,EAAqB1R,OAA6B0R,EAAqB1R,OAE3E4P,GAAkDT,GAC9C5F,EAA+BhK,GACkB,IAA7C+J,EAAiC/J,GACjC4Q,GAAgDhB,EAAYsC,EAAmB9R,EAAYE,IAGvFsP,EAAWF,kBAAkB/b,OAAS,GACtCie,GAAiDhC,GAGrDhG,EAAiC5J,EADT,IAAIjE,WAAWmW,EAAmB9R,EAAYE,IACZ,IAGzDyP,GAA4B/P,IAEjC4Q,GAAgDhB,EAAYsC,EAAmB9R,EAAYE,GAC3FqR,GAAiE/B,IAGjEgB,GAAgDhB,EAAYsC,EAAmB9R,EAAYE,GAE/FqP,GAA6CC,GAEjD,SAAShB,GAAkCgB,EAAYre,GACnD,MAAMyO,EAAS4P,EAAWnB,8BACJ,aAAlBzO,EAAO8G,SAGX+H,GAAkDe,GAClDxC,GAAWwC,GACXb,GAA4Ca,GAC5CwC,GAAoBpS,EAAQzO,IAEhC,SAAS6c,GAA2CwB,GAChD,GAAgC,OAA5BA,EAAW8B,cAAyB9B,EAAWF,kBAAkB/b,OAAS,EAAG,CAC7E,MAAMme,EAAkBlC,EAAWF,kBAAkBnJ,OAC/C+G,EAAO,IAAIvR,WAAW+V,EAAgBrR,OAAQqR,EAAgB1R,WAAa0R,EAAgBxC,YAAawC,EAAgBxR,WAAawR,EAAgBxC,aACrJrB,EAAczd,OAAO6hB,OAAOhF,GAA0Brc,YAyGpE,SAAwCshB,EAAS1C,EAAYtC,GACzDgF,EAAQ1E,wCAA0CgC,EAClD0C,EAAQ7E,MAAQH,EA1GZiF,CAA+BtE,EAAa2B,EAAYtC,GACxDsC,EAAW8B,aAAezD,EAE9B,OAAO2B,EAAW8B,aAEtB,SAASpD,GAA2CsB,GAChD,MAAMpB,EAAQoB,EAAWnB,8BAA8B3H,OACvD,MAAc,YAAV0H,EACO,KAEG,WAAVA,EACO,EAEJoB,EAAW4C,aAAe5C,EAAW5C,gBAEhD,SAASa,GAAoC+B,EAAYjC,GACrD,MAAMmE,EAAkBlC,EAAWF,kBAAkBnJ,OAErD,GAAc,WADAqJ,EAAWnB,8BAA8B3H,QAEnD,GAAqB,IAAjB6G,EACA,MAAM,IAAI1Y,UAAU,wEAGvB,CACD,GAAqB,IAAjB0Y,EACA,MAAM,IAAI1Y,UAAU,mFAExB,GAAI6c,EAAgBxC,YAAc3B,EAAemE,EAAgBxR,WAC7D,MAAM,IAAI6M,WAAW,6BAG7B2E,EAAgBrR,OAA6BqR,EAAgBrR,OAC7DoR,GAA4CjC,EAAYjC,GAE5D,SAASI,GAA+C6B,EAAYtC,GAChE,MAAMwE,EAAkBlC,EAAWF,kBAAkBnJ,OAErD,GAAc,WADAqJ,EAAWnB,8BAA8B3H,QAEnD,GAAwB,IAApBwG,EAAKhN,WACL,MAAM,IAAIrL,UAAU,yFAIxB,GAAwB,IAApBqY,EAAKhN,WACL,MAAM,IAAIrL,UAAU,mGAG5B,GAAI6c,EAAgB1R,WAAa0R,EAAgBxC,cAAgBhC,EAAKlN,WAClE,MAAM,IAAI+M,WAAW,2DAEzB,GAAI2E,EAAgBzC,mBAAqB/B,EAAK7M,OAAOH,WACjD,MAAM,IAAI6M,WAAW,8DAEzB,GAAI2E,EAAgBxC,YAAchC,EAAKhN,WAAawR,EAAgBxR,WAChE,MAAM,IAAI6M,WAAW,2DAEzB,MAAMsF,EAAiBnF,EAAKhN,WAC5BwR,EAAgBrR,OAA6B6M,EAAK7M,OAClDoR,GAA4CjC,EAAY6C,GAE5D,SAASC,GAAkC1S,EAAQ4P,EAAY+C,EAAgBC,EAAeC,EAAiBC,EAAe7D,GAC1HW,EAAWnB,8BAAgCzO,EAC3C4P,EAAWO,YAAa,EACxBP,EAAWM,UAAW,EACtBN,EAAW8B,aAAe,KAE1B9B,EAAW7C,OAAS6C,EAAW5C,qBAAkBzc,EACjD6c,GAAWwC,GACXA,EAAWrB,iBAAkB,EAC7BqB,EAAWE,UAAW,EACtBF,EAAW4C,aAAeM,EAC1BlD,EAAWQ,eAAiBwC,EAC5BhD,EAAWd,iBAAmB+D,EAC9BjD,EAAWV,uBAAyBD,EACpCW,EAAWF,kBAAoB,IAAIpK,EACnCtF,EAAO6K,0BAA4B+E,EAEnCpL,EAAYP,EADQ0O,MAC0B,KAC1C/C,EAAWE,UAAW,EACtBH,GAA6CC,MAC9C3R,IACC2Q,GAAkCgB,EAAY3R,MA4BtD,SAASuP,GAA+BhR,GACpC,OAAO,IAAIvH,UAAU,uCAAuCuH,qDAGhE,SAAS2R,GAAwC3R,GAC7C,OAAO,IAAIvH,UAAU,0CAA0CuH,wDAInE,SAASuW,GAAgC/S,GACrC,OAAO,IAAIgT,GAAyBhT,GAGxC,SAASiT,GAAiCjT,EAAQyQ,GAC9CzQ,EAAO6G,QAAQ6J,kBAAkBrc,KAAKoc,GAY1C,SAAST,GAAqChQ,GAC1C,OAAOA,EAAO6G,QAAQ6J,kBAAkB/c,OAE5C,SAASoc,GAA4B/P,GACjC,MAAM2G,EAAS3G,EAAO6G,QACtB,YAAetW,IAAXoW,KAGCuM,GAA2BvM,GAjepCnW,OAAOgS,iBAAiBwL,GAA6Bhd,UAAW,CAC5D6Q,MAAO,CAAEzI,YAAY,GACrB0I,QAAS,CAAE1I,YAAY,GACvBwJ,MAAO,CAAExJ,YAAY,GACrB6U,YAAa,CAAE7U,YAAY,GAC3BiV,YAAa,CAAEjV,YAAY,KAEW,iBAA/B2J,EAAezS,aACtBE,OAAO2I,eAAe6U,GAA6Bhd,UAAW+R,EAAezS,YAAa,CACtFN,MAAO,+BACP8a,cAAc,IAietB,MAAMkI,GACFrU,YAAYqB,GAGR,GAFA4I,EAAuB5I,EAAQ,EAAG,4BAClCqJ,EAAqBrJ,EAAQ,mBACzBkK,GAAuBlK,GACvB,MAAM,IAAI/K,UAAU,+EAExB,IAAKiZ,GAA+BlO,EAAO6K,2BACvC,MAAM,IAAI5V,UAAU,+FAGxByR,EAAsCpR,KAAM0K,GAC5C1K,KAAKob,kBAAoB,IAAIpL,EAM7B6E,aACA,OAAK+I,GAA2B5d,MAGzBA,KAAKoS,eAFDxD,EAAoBiP,GAA8B,WAOjE9I,OAAOlG,GACH,OAAK+O,GAA2B5d,WAGE/E,IAA9B+E,KAAKsR,qBACE1C,EAAoBuD,EAAoB,WAE5CL,EAAkC9R,KAAM6O,GALpCD,EAAoBiP,GAA8B,WAYjE7I,KAAKgD,GACD,IAAK4F,GAA2B5d,MAC5B,OAAO4O,EAAoBiP,GAA8B,SAE7D,IAAKlT,YAAYC,OAAOoN,GACpB,OAAOpJ,EAAoB,IAAIjP,UAAU,sCAE7C,GAAwB,IAApBqY,EAAKhN,WACL,OAAO4D,EAAoB,IAAIjP,UAAU,uCAE7C,GAA+B,IAA3BqY,EAAK7M,OAAOH,WACZ,OAAO4D,EAAoB,IAAIjP,UAAU,gDAG7C,GADqBqY,EAAK7M,YACQlQ,IAA9B+E,KAAKsR,qBACL,OAAO1C,EAAoBuD,EAAoB,cAEnD,IAAI8C,EACAC,EACJ,MAAMnG,EAAUN,GAAW,CAACJ,EAASG,KACjCyG,EAAiB5G,EACjB6G,EAAgB1G,KAQpB,OADAsP,GAA6B9d,KAAMgY,EALX,CACpBxD,YAAatJ,GAAS+J,EAAe,CAAEva,MAAOwQ,EAAOoB,MAAM,IAC3DiI,YAAarJ,GAAS+J,EAAe,CAAEva,MAAOwQ,EAAOoB,MAAM,IAC3D8I,YAAanZ,GAAKiZ,EAAcjZ,KAG7B8S,EAWXsG,cACI,IAAKuI,GAA2B5d,MAC5B,MAAM6d,GAA8B,eAExC,QAAkC5iB,IAA9B+E,KAAKsR,qBAAT,CAGA,GAAItR,KAAKob,kBAAkB/c,OAAS,EAChC,MAAM,IAAIsB,UAAU,uFAExBqS,EAAmChS,QAgB3C,SAAS4d,GAA2B1U,GAChC,QAAK4E,EAAa5E,MAGbhO,OAAOQ,UAAUC,eAAeI,KAAKmN,EAAG,sBAGtCA,aAAawU,GAExB,SAASI,GAA6BzM,EAAQ2G,EAAMmD,GAChD,MAAMzQ,EAAS2G,EAAOC,qBACtB5G,EAAO4K,YAAa,EACE,YAAlB5K,EAAO8G,OACP2J,EAAgB/F,YAAY1K,EAAOmH,cApd3C,SAA8CyI,EAAYtC,EAAMmD,GAC5D,MAAMzQ,EAAS4P,EAAWnB,8BAC1B,IAAIc,EAAc,EACdjC,EAAK3O,cAAgB0U,WACrB9D,EAAcjC,EAAK3O,YAAY2U,mBAEnC,MAAMC,EAAOjG,EAAK3O,YAEZ8B,EAA6B6M,EAAK7M,OAKlC2O,EAAqB,CACvB3O,OAAAA,EACA4O,iBAAkB5O,EAAOH,WACzBF,WAAYkN,EAAKlN,WACjBE,WAAYgN,EAAKhN,WACjBgP,YAAa,EACbC,YAAAA,EACAC,gBAAiB+D,EACjB9D,WAAY,QAEhB,GAAIG,EAAWF,kBAAkB/b,OAAS,EAMtC,OALAic,EAAWF,kBAAkBrb,KAAK+a,QAIlC6D,GAAiCjT,EAAQyQ,GAG7C,GAAsB,WAAlBzQ,EAAO8G,OAAX,CAKA,GAAI8I,EAAW5C,gBAAkB,EAAG,CAChC,GAAI6D,GAA4DjB,EAAYR,GAAqB,CAC7F,MAAMmB,EAAaC,GAAsDpB,GAGzE,OAFAJ,GAA6CY,QAC7Ca,EAAgB3G,YAAYyG,GAGhC,GAAIX,EAAWrB,gBAAiB,CAC5B,MAAMhd,EAAI,IAAI0D,UAAU,2DAGxB,OAFA2Z,GAAkCgB,EAAYre,QAC9Ckf,EAAgB/F,YAAYnZ,IAIpCqe,EAAWF,kBAAkBrb,KAAK+a,GAClC6D,GAAiCjT,EAAQyQ,GACzCd,GAA6CC,OArB7C,CACI,MAAM4D,EAAY,IAAID,EAAKnE,EAAmB3O,OAAQ2O,EAAmBhP,WAAY,GACrFqQ,EAAgB5G,YAAY2J,IAsb5BC,CAAqCzT,EAAO6K,0BAA2ByC,EAAMmD,GAIrF,SAAS0C,GAA8B3W,GACnC,OAAO,IAAIvH,UAAU,sCAAsCuH,oDAG/D,SAASkX,GAAqBC,EAAUC,GACpC,MAAM,cAAEd,GAAkBa,EAC1B,QAAsBpjB,IAAlBuiB,EACA,OAAOc,EAEX,GAAI5H,GAAY8G,IAAkBA,EAAgB,EAC9C,MAAM,IAAI3F,WAAW,yBAEzB,OAAO2F,EAEX,SAASe,GAAqBF,GAC1B,MAAM,KAAE9e,GAAS8e,EACjB,OAAK9e,GACM,KAAM,GAKrB,SAASif,GAAuBC,EAAMtL,GAClCD,EAAiBuL,EAAMtL,GACvB,MAAMqK,EAAgBiB,MAAAA,OAAmC,EAASA,EAAKjB,cACjEje,EAAOkf,MAAAA,OAAmC,EAASA,EAAKlf,KAC9D,MAAO,CACHie,mBAAiCviB,IAAlBuiB,OAA8BviB,EAAYwY,EAA0B+J,GACnFje,UAAetE,IAATsE,OAAqBtE,EAAYyjB,GAA2Bnf,EAAM,GAAG4T,6BAGnF,SAASuL,GAA2B9O,EAAIuD,GAEpC,OADAC,EAAexD,EAAIuD,GACZjI,GAASuI,EAA0B7D,EAAG1E,IA0BjD,SAASyT,GAAmC/O,EAAIgP,EAAUzL,GAEtD,OADAC,EAAexD,EAAIuD,GACXtE,GAAWkB,EAAYH,EAAIgP,EAAU,CAAC/P,IAElD,SAASgQ,GAAmCjP,EAAIgP,EAAUzL,GAEtD,OADAC,EAAexD,EAAIuD,GACZ,IAAMpD,EAAYH,EAAIgP,EAAU,IAE3C,SAASE,GAAmClP,EAAIgP,EAAUzL,GAEtD,OADAC,EAAexD,EAAIuD,GACXmH,GAAezK,EAAYD,EAAIgP,EAAU,CAACtE,IAEtD,SAASyE,GAAmCnP,EAAIgP,EAAUzL,GAEtD,OADAC,EAAexD,EAAIuD,GACZ,CAACjI,EAAOoP,IAAevK,EAAYH,EAAIgP,EAAU,CAAC1T,EAAOoP,IAGpE,SAAS0E,GAAqB9V,EAAGiK,GAC7B,IAAK8L,GAAiB/V,GAClB,MAAM,IAAIvJ,UAAU,GAAGwT,8BA/G/BjY,OAAOgS,iBAAiBwQ,GAAyBhiB,UAAW,CACxDqZ,OAAQ,CAAEjR,YAAY,GACtBkR,KAAM,CAAElR,YAAY,GACpBuR,YAAa,CAAEvR,YAAY,GAC3B+Q,OAAQ,CAAE/Q,YAAY,KAEgB,iBAA/B2J,EAAezS,aACtBE,OAAO2I,eAAe6Z,GAAyBhiB,UAAW+R,EAAezS,YAAa,CAClFN,MAAO,2BACP8a,cAAc,IAsHtB,MAAM0J,GAAqD,mBAApBC,gBAkBvC,MAAMC,GACF/V,YAAYgW,EAAoB,GAAIC,EAAc,SACpBrkB,IAAtBokB,EACAA,EAAoB,KAGpBhM,EAAagM,EAAmB,mBAEpC,MAAMhB,EAAWG,GAAuBc,EAAa,oBAC/CC,EArFd,SAA+BX,EAAUzL,GACrCD,EAAiB0L,EAAUzL,GAC3B,MAAMqM,EAAQZ,MAAAA,OAA2C,EAASA,EAASY,MACrEjT,EAAQqS,MAAAA,OAA2C,EAASA,EAASrS,MACrEG,EAAQkS,MAAAA,OAA2C,EAASA,EAASlS,MACrEvQ,EAAOyiB,MAAAA,OAA2C,EAASA,EAASziB,KACpEsjB,EAAQb,MAAAA,OAA2C,EAASA,EAASa,MAC3E,MAAO,CACHD,WAAiBvkB,IAAVukB,OACHvkB,EACA0jB,GAAmCa,EAAOZ,EAAU,GAAGzL,6BAC3D5G,WAAiBtR,IAAVsR,OACHtR,EACA4jB,GAAmCtS,EAAOqS,EAAU,GAAGzL,6BAC3DzG,WAAiBzR,IAAVyR,OACHzR,EACA6jB,GAAmCpS,EAAOkS,EAAU,GAAGzL,6BAC3DsM,WAAiBxkB,IAAVwkB,OACHxkB,EACA8jB,GAAmCU,EAAOb,EAAU,GAAGzL,6BAC3DhX,KAAAA,GAiEuBujB,CAAsBL,EAAmB,mBAGhE,GAFAM,GAAyB3f,WAEZ/E,IADAskB,EAAepjB,KAExB,MAAM,IAAI0b,WAAW,6BAEzB,MAAM+H,EAAgBrB,GAAqBF,IA0qBnD,SAAgE3T,EAAQ6U,EAAgB/B,EAAeoC,GACnG,MAAMtF,EAAapf,OAAO6hB,OAAO8C,GAAgCnkB,WACjE,IAAI2hB,EAAiB,OACjByC,EAAiB,IAAMnR,OAAoB1T,GAC3C8kB,EAAiB,IAAMpR,OAAoB1T,GAC3C+kB,EAAiB,IAAMrR,OAAoB1T,QAClBA,IAAzBskB,EAAe7S,QACf2Q,EAAiB,IAAMkC,EAAe7S,MAAM4N,SAEnBrf,IAAzBskB,EAAeE,QACfK,EAAiB5U,GAASqU,EAAeE,MAAMvU,EAAOoP,SAE7Brf,IAAzBskB,EAAehT,QACfwT,EAAiB,IAAMR,EAAehT,cAEbtR,IAAzBskB,EAAeC,QACfQ,EAAiBnR,GAAU0Q,EAAeC,MAAM3Q,IAEpDoR,GAAqCvV,EAAQ4P,EAAY+C,EAAgByC,EAAgBC,EAAgBC,EAAgBxC,EAAeoC,GA1rBpIM,CAAuDlgB,KAAMuf,EADvCnB,GAAqBC,EAAU,GACuCuB,GAK5FO,aACA,IAAKlB,GAAiBjf,MAClB,MAAMogB,GAA4B,UAEtC,OAAOC,GAAuBrgB,MAWlCwf,MAAM3Q,GACF,OAAKoQ,GAAiBjf,MAGlBqgB,GAAuBrgB,MAChB4O,EAAoB,IAAIjP,UAAU,oDAEtC2gB,GAAoBtgB,KAAM6O,GALtBD,EAAoBwR,GAA4B,UAe/D7T,QACI,OAAK0S,GAAiBjf,MAGlBqgB,GAAuBrgB,MAChB4O,EAAoB,IAAIjP,UAAU,oDAEzC4gB,GAAoCvgB,MAC7B4O,EAAoB,IAAIjP,UAAU,2CAEtC6gB,GAAoBxgB,MARhB4O,EAAoBwR,GAA4B,UAkB/DK,YACI,IAAKxB,GAAiBjf,MAClB,MAAMogB,GAA4B,aAEtC,OAAOM,GAAmC1gB,OAgBlD,SAAS0gB,GAAmChW,GACxC,OAAO,IAAIiW,GAA4BjW,GAU3C,SAASiV,GAAyBjV,GAC9BA,EAAO8G,OAAS,WAGhB9G,EAAOmH,kBAAe5W,EACtByP,EAAOkW,aAAU3lB,EAGjByP,EAAOmW,+BAA4B5lB,EAGnCyP,EAAOoW,eAAiB,IAAI9Q,EAG5BtF,EAAOqW,2BAAwB9lB,EAG/ByP,EAAOsW,mBAAgB/lB,EAGvByP,EAAOuW,2BAAwBhmB,EAE/ByP,EAAOwW,0BAAuBjmB,EAE9ByP,EAAOyW,eAAgB,EAE3B,SAASlC,GAAiB/V,GACtB,QAAK4E,EAAa5E,MAGbhO,OAAOQ,UAAUC,eAAeI,KAAKmN,EAAG,8BAGtCA,aAAakW,GAExB,SAASiB,GAAuB3V,GAC5B,YAAuBzP,IAAnByP,EAAOkW,QAKf,SAASN,GAAoB5V,EAAQmE,GACjC,IAAI2H,EACJ,GAAsB,WAAlB9L,EAAO8G,QAAyC,YAAlB9G,EAAO8G,OACrC,OAAO7C,OAAoB1T,GAE/ByP,EAAOmW,0BAA0BO,aAAevS,EACa,QAA5D2H,EAAK9L,EAAOmW,0BAA0BQ,wBAAqC,IAAP7K,GAAyBA,EAAGgJ,QAIjG,MAAMtG,EAAQxO,EAAO8G,OACrB,GAAc,WAAV0H,GAAgC,YAAVA,EACtB,OAAOvK,OAAoB1T,GAE/B,QAAoCA,IAAhCyP,EAAOwW,qBACP,OAAOxW,EAAOwW,qBAAqBI,SAEvC,IAAIC,GAAqB,EACX,aAAVrI,IACAqI,GAAqB,EAErB1S,OAAS5T,GAEb,MAAM8T,EAAUN,GAAW,CAACJ,EAASG,KACjC9D,EAAOwW,qBAAuB,CAC1BI,cAAUrmB,EACVumB,SAAUnT,EACVoT,QAASjT,EACTkT,QAAS7S,EACT8S,oBAAqBJ,MAO7B,OAJA7W,EAAOwW,qBAAqBI,SAAWvS,EAClCwS,GACDK,GAA4BlX,EAAQmE,GAEjCE,EAEX,SAASyR,GAAoB9V,GACzB,MAAMwO,EAAQxO,EAAO8G,OACrB,GAAc,WAAV0H,GAAgC,YAAVA,EACtB,OAAOtK,EAAoB,IAAIjP,UAAU,kBAAkBuZ,+DAE/D,MAAMnK,EAAUN,GAAW,CAACJ,EAASG,KACjC,MAAMqT,EAAe,CACjBL,SAAUnT,EACVoT,QAASjT,GAEb9D,EAAOsW,cAAgBa,KAErBC,EAASpX,EAAOkW,QAghB1B,IAA8CtG,EA3gB1C,YAJerf,IAAX6mB,GAAwBpX,EAAOyW,eAA2B,aAAVjI,GAChD6I,GAAiCD,GA+gBrCnK,GAD0C2C,EA5gBL5P,EAAOmW,0BA6gBXmB,GAAe,GAChDC,GAAoD3H,GA7gB7CvL,EAaX,SAASmT,GAAgCxX,EAAQ4C,GAE/B,aADA5C,EAAO8G,OAKrB2Q,GAA6BzX,GAHzBkX,GAA4BlX,EAAQ4C,GAK5C,SAASsU,GAA4BlX,EAAQmE,GACzC,MAAMyL,EAAa5P,EAAOmW,0BAC1BnW,EAAO8G,OAAS,WAChB9G,EAAOmH,aAAehD,EACtB,MAAMiT,EAASpX,EAAOkW,aACP3lB,IAAX6mB,GACAM,GAAsDN,EAAQjT,IA8EtE,SAAkDnE,GAC9C,YAAqCzP,IAAjCyP,EAAOqW,4BAAwE9lB,IAAjCyP,EAAOuW,sBA7EpDoB,CAAyC3X,IAAW4P,EAAWE,UAChE2H,GAA6BzX,GAGrC,SAASyX,GAA6BzX,GAClCA,EAAO8G,OAAS,UAChB9G,EAAOmW,0BAA0BrO,KACjC,MAAM8P,EAAc5X,EAAOmH,aAK3B,GAJAnH,EAAOoW,eAAehX,SAAQyY,IAC1BA,EAAad,QAAQa,MAEzB5X,EAAOoW,eAAiB,IAAI9Q,OACQ/U,IAAhCyP,EAAOwW,qBAEP,YADAsB,GAAkD9X,GAGtD,MAAM+X,EAAe/X,EAAOwW,qBAE5B,GADAxW,EAAOwW,0BAAuBjmB,EAC1BwnB,EAAad,oBAGb,OAFAc,EAAahB,QAAQa,QACrBE,GAAkD9X,GAItDwE,EADgBxE,EAAOmW,0BAA0BtO,GAAYkQ,EAAaf,UACrD,KACjBe,EAAajB,WACbgB,GAAkD9X,MAClDmE,IACA4T,EAAahB,QAAQ5S,GACrB2T,GAAkD9X,MAyC1D,SAAS6V,GAAoC7V,GACzC,YAA6BzP,IAAzByP,EAAOsW,oBAAgE/lB,IAAjCyP,EAAOuW,sBAkBrD,SAASuB,GAAkD9X,QAC1BzP,IAAzByP,EAAOsW,gBACPtW,EAAOsW,cAAcS,QAAQ/W,EAAOmH,cACpCnH,EAAOsW,mBAAgB/lB,GAE3B,MAAM6mB,EAASpX,EAAOkW,aACP3lB,IAAX6mB,GACAY,GAAiCZ,EAAQpX,EAAOmH,cAGxD,SAAS8Q,GAAiCjY,EAAQkY,GAC9C,MAAMd,EAASpX,EAAOkW,aACP3lB,IAAX6mB,GAAwBc,IAAiBlY,EAAOyW,gBAC5CyB,EA4jBZ,SAAwCd,GACpCe,GAAoCf,GA5jB5BgB,CAA+BhB,GAG/BC,GAAiCD,IAGzCpX,EAAOyW,cAAgByB,EAlQ3B1nB,OAAOgS,iBAAiBkS,GAAe1jB,UAAW,CAC9C8jB,MAAO,CAAE1b,YAAY,GACrByI,MAAO,CAAEzI,YAAY,GACrB2c,UAAW,CAAE3c,YAAY,GACzBqc,OAAQ,CAAErc,YAAY,KAEgB,iBAA/B2J,EAAezS,aACtBE,OAAO2I,eAAeub,GAAe1jB,UAAW+R,EAAezS,YAAa,CACxEN,MAAO,iBACP8a,cAAc,IAgQtB,MAAMmL,GACFtX,YAAYqB,GAGR,GAFA4I,EAAuB5I,EAAQ,EAAG,+BAClCsU,GAAqBtU,EAAQ,mBACzB2V,GAAuB3V,GACvB,MAAM,IAAI/K,UAAU,+EAExBK,KAAK+iB,qBAAuBrY,EAC5BA,EAAOkW,QAAU5gB,KACjB,MAAMkZ,EAAQxO,EAAO8G,OACrB,GAAc,aAAV0H,GACKqH,GAAoC7V,IAAWA,EAAOyW,cACvD0B,GAAoC7iB,MAGpCgjB,GAA8ChjB,MAElDijB,GAAqCjjB,WAEpC,GAAc,aAAVkZ,EACLgK,GAA8CljB,KAAM0K,EAAOmH,cAC3DoR,GAAqCjjB,WAEpC,GAAc,WAAVkZ,EACL8J,GAA8ChjB,MAoetDijB,GADoDnB,EAleG9hB,MAoevDmjB,GAAkCrB,OAlezB,CACD,MAAMQ,EAAc5X,EAAOmH,aAC3BqR,GAA8CljB,KAAMsiB,GACpDc,GAA+CpjB,KAAMsiB,GA6djE,IAAwDR,EAtdhDjN,aACA,OAAKwO,GAA8BrjB,MAG5BA,KAAKoS,eAFDxD,EAAoB0U,GAAiC,WAYhEvK,kBACA,IAAKsK,GAA8BrjB,MAC/B,MAAMsjB,GAAiC,eAE3C,QAAkCroB,IAA9B+E,KAAK+iB,qBACL,MAAMQ,GAA2B,eAErC,OAuIR,SAAmDzB,GAC/C,MAAMpX,EAASoX,EAAOiB,qBAChB7J,EAAQxO,EAAO8G,OACrB,MAAc,YAAV0H,GAAiC,aAAVA,EAChB,KAEG,WAAVA,EACO,EAEJsK,GAA8C9Y,EAAOmW,2BAhJjD4C,CAA0CzjB,MAUjD6b,YACA,OAAKwH,GAA8BrjB,MAG5BA,KAAK0jB,cAFD9U,EAAoB0U,GAAiC,UAOpE9D,MAAM3Q,GACF,OAAKwU,GAA8BrjB,WAGD/E,IAA9B+E,KAAK+iB,qBACEnU,EAAoB2U,GAA2B,UA4ElE,SAA0CzB,EAAQjT,GAE9C,OAAOyR,GADQwB,EAAOiB,qBACalU,GA5ExB8U,CAAiC3jB,KAAM6O,GALnCD,EAAoB0U,GAAiC,UAUpE/W,QACI,IAAK8W,GAA8BrjB,MAC/B,OAAO4O,EAAoB0U,GAAiC,UAEhE,MAAM5Y,EAAS1K,KAAK+iB,qBACpB,YAAe9nB,IAAXyP,EACOkE,EAAoB2U,GAA2B,UAEtDhD,GAAoC7V,GAC7BkE,EAAoB,IAAIjP,UAAU,2CAEtCikB,GAAiC5jB,MAY5CqV,cACI,IAAKgO,GAA8BrjB,MAC/B,MAAMsjB,GAAiC,oBAG5BroB,IADA+E,KAAK+iB,sBAIpBc,GAAmC7jB,MAEvCyf,MAAMvU,GACF,OAAKmY,GAA8BrjB,WAGD/E,IAA9B+E,KAAK+iB,qBACEnU,EAAoB2U,GAA2B,aAEnDO,GAAiC9jB,KAAMkL,GALnC0D,EAAoB0U,GAAiC,WAwBxE,SAASD,GAA8Bna,GACnC,QAAK4E,EAAa5E,MAGbhO,OAAOQ,UAAUC,eAAeI,KAAKmN,EAAG,yBAGtCA,aAAayX,GAOxB,SAASiD,GAAiC9B,GAEtC,OAAOtB,GADQsB,EAAOiB,sBAc1B,SAASgB,GAAuDjC,EAAQxU,GACjC,YAA/BwU,EAAOkC,oBACPtB,GAAiCZ,EAAQxU,GAsVjD,SAAmDwU,EAAQjT,GACvDuU,GAA+CtB,EAAQjT,GApVnDoV,CAA0CnC,EAAQxU,GAG1D,SAAS8U,GAAsDN,EAAQxU,GACjC,YAA9BwU,EAAOoC,mBACPC,GAAgCrC,EAAQxU,GAsXhD,SAAkDwU,EAAQjT,GACtDqU,GAA8CpB,EAAQjT,GApXlDuV,CAAyCtC,EAAQxU,GAczD,SAASuW,GAAmC/B,GACxC,MAAMpX,EAASoX,EAAOiB,qBAChBsB,EAAgB,IAAI1kB,UAAU,oFACpCyiB,GAAsDN,EAAQuC,GAG9DN,GAAuDjC,EAAQuC,GAC/D3Z,EAAOkW,aAAU3lB,EACjB6mB,EAAOiB,0BAAuB9nB,EAElC,SAAS6oB,GAAiChC,EAAQ5W,GAC9C,MAAMR,EAASoX,EAAOiB,qBAChBzI,EAAa5P,EAAOmW,0BACpByD,EAqKV,SAAqDhK,EAAYpP,GAC7D,IACI,OAAOoP,EAAWiK,uBAAuBrZ,GAE7C,MAAOsZ,GAEH,OADAC,GAA6CnK,EAAYkK,GAClD,GA3KOE,CAA4CpK,EAAYpP,GAC1E,GAAIR,IAAWoX,EAAOiB,qBAClB,OAAOnU,EAAoB2U,GAA2B,aAE1D,MAAMrK,EAAQxO,EAAO8G,OACrB,GAAc,YAAV0H,EACA,OAAOtK,EAAoBlE,EAAOmH,cAEtC,GAAI0O,GAAoC7V,IAAqB,WAAVwO,EAC/C,OAAOtK,EAAoB,IAAIjP,UAAU,6DAE7C,GAAc,aAAVuZ,EACA,OAAOtK,EAAoBlE,EAAOmH,cAEtC,MAAM9C,EArXV,SAAuCrE,GAQnC,OAPgB+D,GAAW,CAACJ,EAASG,KACjC,MAAM+T,EAAe,CACjBf,SAAUnT,EACVoT,QAASjT,GAEb9D,EAAOoW,eAAe/hB,KAAKwjB,MA+WfoC,CAA8Bja,GAE9C,OAiKJ,SAA8C4P,EAAYpP,EAAOoZ,GAC7D,IACI3M,GAAqB2C,EAAYpP,EAAOoZ,GAE5C,MAAOM,GAEH,YADAH,GAA6CnK,EAAYsK,GAG7D,MAAMla,EAAS4P,EAAWuK,0BACrBtE,GAAoC7V,IAA6B,aAAlBA,EAAO8G,QAEvDmR,GAAiCjY,EADZoa,GAA+CxK,IAGxE2H,GAAoD3H,GA/KpDyK,CAAqCzK,EAAYpP,EAAOoZ,GACjDvV,EArGX7T,OAAOgS,iBAAiByT,GAA4BjlB,UAAW,CAC3D8jB,MAAO,CAAE1b,YAAY,GACrByI,MAAO,CAAEzI,YAAY,GACrBuR,YAAa,CAAEvR,YAAY,GAC3B2b,MAAO,CAAE3b,YAAY,GACrB+Q,OAAQ,CAAE/Q,YAAY,GACtBiV,YAAa,CAAEjV,YAAY,GAC3B+X,MAAO,CAAE/X,YAAY,KAEiB,iBAA/B2J,EAAezS,aACtBE,OAAO2I,eAAe8c,GAA4BjlB,UAAW+R,EAAezS,YAAa,CACrFN,MAAO,8BACP8a,cAAc,IA2FtB,MAAMwM,GAAgB,GAMtB,MAAMnC,GACFxW,cACI,MAAM,IAAI1J,UAAU,uBASpBqlB,kBACA,IAAKC,GAAkCjlB,MACnC,MAAMklB,GAAuC,eAEjD,OAAOllB,KAAKohB,aAKZ+D,aACA,IAAKF,GAAkCjlB,MACnC,MAAMklB,GAAuC,UAEjD,QAA8BjqB,IAA1B+E,KAAKqhB,iBAIL,MAAM,IAAI1hB,UAAU,qEAExB,OAAOK,KAAKqhB,iBAAiB8D,OASjC7X,MAAMrR,GACF,IAAKgpB,GAAkCjlB,MACnC,MAAMklB,GAAuC,SAGnC,aADAllB,KAAK6kB,0BAA0BrT,QAM7C4T,GAAqCplB,KAAM/D,GAG/C,CAACsW,GAAY1D,GACT,MAAM3S,EAAS8D,KAAKqlB,gBAAgBxW,GAEpC,OADAyW,GAA+CtlB,MACxC9D,EAGX,CAACsW,KACGsF,GAAW9X,OAenB,SAASilB,GAAkC/b,GACvC,QAAK4E,EAAa5E,MAGbhO,OAAOQ,UAAUC,eAAeI,KAAKmN,EAAG,8BAGtCA,aAAa2W,GAExB,SAASI,GAAqCvV,EAAQ4P,EAAY+C,EAAgByC,EAAgBC,EAAgBC,EAAgBxC,EAAeoC,GAC7ItF,EAAWuK,0BAA4Bna,EACvCA,EAAOmW,0BAA4BvG,EAEnCA,EAAW7C,YAASxc,EACpBqf,EAAW5C,qBAAkBzc,EAC7B6c,GAAWwC,GACXA,EAAW8G,kBAAenmB,EAC1Bqf,EAAW+G,iBAlrBf,WACI,GAAInC,GACA,OAAO,IAAIC,gBAgrBeoG,GAC9BjL,EAAWE,UAAW,EACtBF,EAAWiK,uBAAyB3E,EACpCtF,EAAW4C,aAAeM,EAC1BlD,EAAWkL,gBAAkB1F,EAC7BxF,EAAWmL,gBAAkB1F,EAC7BzF,EAAW+K,gBAAkBrF,EAC7B,MAAM4C,EAAekC,GAA+CxK,GACpEqI,GAAiCjY,EAAQkY,GAGzC1T,EADqBP,EADD0O,MAEM,KACtB/C,EAAWE,UAAW,EACtByH,GAAoD3H,MACrD3R,IACC2R,EAAWE,UAAW,EACtB0H,GAAgCxX,EAAQ/B,MAwBhD,SAAS2c,GAA+ChL,GACpDA,EAAWkL,qBAAkBvqB,EAC7Bqf,EAAWmL,qBAAkBxqB,EAC7Bqf,EAAW+K,qBAAkBpqB,EAC7Bqf,EAAWiK,4BAAyBtpB,EAexC,SAASuoB,GAA8ClJ,GACnD,OAAOA,EAAW4C,aAAe5C,EAAW5C,gBAkBhD,SAASuK,GAAoD3H,GACzD,MAAM5P,EAAS4P,EAAWuK,0BAC1B,IAAKvK,EAAWE,SACZ,OAEJ,QAAqCvf,IAAjCyP,EAAOqW,sBACP,OAGJ,GAAc,aADArW,EAAO8G,OAGjB,YADA2Q,GAA6BzX,GAGjC,GAAiC,IAA7B4P,EAAW7C,OAAOpZ,OAClB,OAEJ,MAAM3D,EAAuB4f,EAxpDN7C,OAAOxG,OAClBvW,MAwpDRA,IAAUsnB,GAYlB,SAAqD1H,GACjD,MAAM5P,EAAS4P,EAAWuK,2BA1d9B,SAAgDna,GAC5CA,EAAOuW,sBAAwBvW,EAAOsW,cACtCtW,EAAOsW,mBAAgB/lB,GAydvByqB,CAAuChb,GACvC4M,GAAagD,GACb,MAAMqL,EAAmBrL,EAAWmL,kBACpCH,GAA+ChL,GAC/CpL,EAAYyW,GAAkB,MAxgBlC,SAA2Cjb,GACvCA,EAAOuW,sBAAsBO,cAASvmB,GACtCyP,EAAOuW,2BAAwBhmB,EAEjB,aADAyP,EAAO8G,SAGjB9G,EAAOmH,kBAAe5W,OACcA,IAAhCyP,EAAOwW,uBACPxW,EAAOwW,qBAAqBM,WAC5B9W,EAAOwW,0BAAuBjmB,IAGtCyP,EAAO8G,OAAS,SAChB,MAAMsQ,EAASpX,EAAOkW,aACP3lB,IAAX6mB,GACAqB,GAAkCrB,GA0flC8D,CAAkClb,MACnCmE,KAxfP,SAAoDnE,EAAQ4C,GACxD5C,EAAOuW,sBAAsBQ,QAAQnU,GACrC5C,EAAOuW,2BAAwBhmB,OAEKA,IAAhCyP,EAAOwW,uBACPxW,EAAOwW,qBAAqBO,QAAQnU,GACpC5C,EAAOwW,0BAAuBjmB,GAElCinB,GAAgCxX,EAAQ4C,GAifpCuY,CAA2Cnb,EAAQmE,MApBnDiX,CAA4CxL,GAuBpD,SAAqDA,EAAYpP,GAC7D,MAAMR,EAAS4P,EAAWuK,2BAle9B,SAAqDna,GACjDA,EAAOqW,sBAAwBrW,EAAOoW,eAAepQ,QAkerDqV,CAA4Crb,GAE5CwE,EADyBoL,EAAWkL,gBAAgBta,IACtB,MA3hBlC,SAA2CR,GACvCA,EAAOqW,sBAAsBS,cAASvmB,GACtCyP,EAAOqW,2BAAwB9lB,EA0hB3B+qB,CAAkCtb,GAClC,MAAMwO,EAAQxO,EAAO8G,OAErB,GADA8F,GAAagD,IACRiG,GAAoC7V,IAAqB,aAAVwO,EAAsB,CACtE,MAAM0J,EAAekC,GAA+CxK,GACpEqI,GAAiCjY,EAAQkY,GAE7CX,GAAoD3H,MACrDzL,IACuB,aAAlBnE,EAAO8G,QACP8T,GAA+ChL,GAliB3D,SAAoD5P,EAAQ4C,GACxD5C,EAAOqW,sBAAsBU,QAAQnU,GACrC5C,EAAOqW,2BAAwB9lB,EAC/BinB,GAAgCxX,EAAQ4C,GAiiBpC2Y,CAA2Cvb,EAAQmE,MArCnDqX,CAA4C5L,EAAY5f,GAGhE,SAAS+pB,GAA6CnK,EAAYhN,GACV,aAAhDgN,EAAWuK,0BAA0BrT,QACrC4T,GAAqC9K,EAAYhN,GAmCzD,SAASwX,GAA+CxK,GAEpD,OADoBkJ,GAA8ClJ,IAC5C,EAG1B,SAAS8K,GAAqC9K,EAAYhN,GACtD,MAAM5C,EAAS4P,EAAWuK,0BAC1BS,GAA+ChL,GAC/CsH,GAA4BlX,EAAQ4C,GAGxC,SAAS8S,GAA4BlZ,GACjC,OAAO,IAAIvH,UAAU,4BAA4BuH,0CAGrD,SAASge,GAAuChe,GAC5C,OAAO,IAAIvH,UAAU,6CAA6CuH,2DAGtE,SAASoc,GAAiCpc,GACtC,OAAO,IAAIvH,UAAU,yCAAyCuH,uDAElE,SAASqc,GAA2Brc,GAChC,OAAO,IAAIvH,UAAU,UAAYuH,EAAO,qCAE5C,SAAS+b,GAAqCnB,GAC1CA,EAAO1P,eAAiB3D,GAAW,CAACJ,EAASG,KACzCsT,EAAOzP,uBAAyBhE,EAChCyT,EAAOxP,sBAAwB9D,EAC/BsT,EAAOkC,oBAAsB,aAGrC,SAASZ,GAA+CtB,EAAQjT,GAC5DoU,GAAqCnB,GACrCY,GAAiCZ,EAAQjT,GAM7C,SAAS6T,GAAiCZ,EAAQjT,QACT5T,IAAjC6mB,EAAOxP,wBAGX9C,EAA0BsS,EAAO1P,gBACjC0P,EAAOxP,sBAAsBzD,GAC7BiT,EAAOzP,4BAAyBpX,EAChC6mB,EAAOxP,2BAAwBrX,EAC/B6mB,EAAOkC,oBAAsB,YAKjC,SAASb,GAAkCrB,QACD7mB,IAAlC6mB,EAAOzP,yBAGXyP,EAAOzP,4BAAuBpX,GAC9B6mB,EAAOzP,4BAAyBpX,EAChC6mB,EAAOxP,2BAAwBrX,EAC/B6mB,EAAOkC,oBAAsB,YAEjC,SAASnB,GAAoCf,GACzCA,EAAO4B,cAAgBjV,GAAW,CAACJ,EAASG,KACxCsT,EAAOqE,sBAAwB9X,EAC/ByT,EAAOsE,qBAAuB5X,KAElCsT,EAAOoC,mBAAqB,UAEhC,SAAShB,GAA8CpB,EAAQjT,GAC3DgU,GAAoCf,GACpCqC,GAAgCrC,EAAQjT,GAE5C,SAASmU,GAA8ClB,GACnDe,GAAoCf,GACpCC,GAAiCD,GAErC,SAASqC,GAAgCrC,EAAQjT,QACT5T,IAAhC6mB,EAAOsE,uBAGX5W,EAA0BsS,EAAO4B,eACjC5B,EAAOsE,qBAAqBvX,GAC5BiT,EAAOqE,2BAAwBlrB,EAC/B6mB,EAAOsE,0BAAuBnrB,EAC9B6mB,EAAOoC,mBAAqB,YAQhC,SAASnC,GAAiCD,QACD7mB,IAAjC6mB,EAAOqE,wBAGXrE,EAAOqE,2BAAsBlrB,GAC7B6mB,EAAOqE,2BAAwBlrB,EAC/B6mB,EAAOsE,0BAAuBnrB,EAC9B6mB,EAAOoC,mBAAqB,aA5QhChpB,OAAOgS,iBAAiB2S,GAAgCnkB,UAAW,CAC/DspB,YAAa,CAAElhB,YAAY,GAC3BqhB,OAAQ,CAAErhB,YAAY,GACtBwJ,MAAO,CAAExJ,YAAY,KAEiB,iBAA/B2J,EAAezS,aACtBE,OAAO2I,eAAegc,GAAgCnkB,UAAW+R,EAAezS,YAAa,CACzFN,MAAO,kCACP8a,cAAc,IAwQtB,MAAM6Q,GAA6C,oBAAjBC,aAA+BA,kBAAerrB,EA6B1EsrB,GA1BN,SAAmCtI,GAC/B,GAAsB,mBAATA,GAAuC,iBAATA,EACvC,OAAO,EAEX,IAEI,OADA,IAAIA,GACG,EAEX,MAAOzH,GACH,OAAO,GAiBQgQ,CAA0BH,IAAsBA,GAdvE,WAEI,MAAMpI,EAAO,SAAsBwI,EAASvf,GACxClH,KAAKymB,QAAUA,GAAW,GAC1BzmB,KAAKkH,KAAOA,GAAQ,QAChBjB,MAAMygB,mBACNzgB,MAAMygB,kBAAkB1mB,KAAMA,KAAKqJ,cAK3C,OAFA4U,EAAKviB,UAAYR,OAAO6hB,OAAO9W,MAAMvK,WACrCR,OAAO2I,eAAeoa,EAAKviB,UAAW,cAAe,CAAEhB,MAAOujB,EAAM0I,UAAU,EAAMnR,cAAc,IAC3FyI,EAGiF2I,GAE5F,SAASC,GAAqBC,EAAQhQ,EAAMiQ,EAAcC,EAAcpR,EAAeuP,GACnF,MAAM9T,EAAS4C,EAAmC6S,GAC5ChF,EAASpB,GAAmC5J,GAClDgQ,EAAOxR,YAAa,EACpB,IAAI2R,GAAe,EAEfC,EAAevY,OAAoB1T,GACvC,OAAOwT,GAAW,CAACJ,EAASG,KACxB,IAAIwR,EACJ,QAAe/kB,IAAXkqB,EAAsB,CAsBtB,GArBAnF,EAAiB,KACb,MAAM1S,EAAQ,IAAIiZ,GAAe,UAAW,cACtCY,EAAU,GACXH,GACDG,EAAQpoB,MAAK,IACW,aAAhB+X,EAAKtF,OACE8O,GAAoBxJ,EAAMxJ,GAE9BqB,OAAoB1T,KAG9B2a,GACDuR,EAAQpoB,MAAK,IACa,aAAlB+nB,EAAOtV,OACAO,GAAqB+U,EAAQxZ,GAEjCqB,OAAoB1T,KAGnCmsB,GAAmB,IAAMnZ,QAAQoZ,IAAIF,EAAQ/jB,KAAIkkB,GAAUA,SAAY,EAAMha,IAE7E6X,EAAOoC,QAEP,YADAvH,IAGJmF,EAAOqC,iBAAiB,QAASxH,GAyFrC,IAA2BtV,EAAQqE,EAASuY,EAxB5C,GA3BAG,EAAmBX,EAAQzV,EAAOe,gBAAgBkQ,IACzC0E,EAIDU,GAAS,EAAMpF,GAHf8E,GAAmB,IAAM9G,GAAoBxJ,EAAMwL,KAAc,EAAMA,MAO/EmF,EAAmB3Q,EAAMgL,EAAO1P,gBAAgBkQ,IACvC1M,EAID8R,GAAS,EAAMpF,GAHf8E,GAAmB,IAAMrV,GAAqB+U,EAAQxE,KAAc,EAAMA,MAwCvD5X,EAjCToc,EAiCiB/X,EAjCTsC,EAAOe,eAiCWkV,EAjCK,KACxCP,EAIDW,IAHAN,GAAmB,IArhBnC,SAA8DtF,GAC1D,MAAMpX,EAASoX,EAAOiB,qBAChB7J,EAAQxO,EAAO8G,OACrB,OAAI+O,GAAoC7V,IAAqB,WAAVwO,EACxCvK,OAAoB1T,GAEjB,YAAVie,EACOtK,EAAoBlE,EAAOmH,cAE/B+R,GAAiC9B,GA4gBH6F,CAAqD7F,MAgC5D,WAAlBpX,EAAO8G,OACP8V,IAGAnY,EAAgBJ,EAASuY,GA7B7B/G,GAAoCzJ,IAAyB,WAAhBA,EAAKtF,OAAqB,CACvE,MAAMoW,EAAa,IAAIjoB,UAAU,+EAC5BiW,EAID8R,GAAS,EAAME,GAHfR,GAAmB,IAAMrV,GAAqB+U,EAAQc,KAAa,EAAMA,GAOjF,SAASC,IAGL,MAAMC,EAAkBZ,EACxB,OAAOpY,EAAmBoY,GAAc,IAAMY,IAAoBZ,EAAeW,SAA0B5sB,IAE/G,SAASwsB,EAAmB/c,EAAQqE,EAASuY,GACnB,YAAlB5c,EAAO8G,OACP8V,EAAO5c,EAAOmH,cAGdzC,EAAcL,EAASuY,GAW/B,SAASF,EAAmBE,EAAQS,EAAiBC,GAWjD,SAASC,IACL/Y,EAAYoY,KAAU,IAAMY,EAASH,EAAiBC,KAAgBG,GAAYD,GAAS,EAAMC,KAXjGlB,IAGJA,GAAe,EACK,aAAhBnQ,EAAKtF,QAA0B+O,GAAoCzJ,GAInEmR,IAHA9Y,EAAgB0Y,IAAyBI,IASjD,SAASP,EAASU,EAAS9a,GACnB2Z,IAGJA,GAAe,EACK,aAAhBnQ,EAAKtF,QAA0B+O,GAAoCzJ,GAInEoR,EAASE,EAAS9a,GAHlB6B,EAAgB0Y,KAAyB,IAAMK,EAASE,EAAS9a,MAMzE,SAAS4a,EAASE,EAAS9a,GACvBuW,GAAmC/B,GACnC9P,EAAmCX,QACpBpW,IAAXkqB,GACAA,EAAOkD,oBAAoB,QAASrI,GAEpCoI,EACA5Z,EAAOlB,GAGPe,OAAQpT,GA5DhBuU,EApEWf,GAAW,CAAC6Z,EAAaC,MAC5B,SAASlc,EAAKC,GACNA,EACAgc,IAKAxZ,EAORmY,EACOtY,GAAoB,GAExBG,EAAmBgT,EAAO4B,eAAe,IACrCjV,GAAW,CAAC+Z,EAAaC,KAC5BtT,EAAgC9D,EAAQ,CACpCmD,YAAatJ,IACTgc,EAAepY,EAAmBgV,GAAiChC,EAAQ5W,QAAQjQ,EAAW0S,GAC9F6a,GAAY,IAEhBjU,YAAa,IAAMiU,GAAY,GAC/BpT,YAAaqT,SAlBkBpc,EAAMkc,GAG7Clc,EAAK,UAgIrB,MAAMqc,GACFrf,cACI,MAAM,IAAI1J,UAAU,uBAMpBoZ,kBACA,IAAK4P,GAAkC3oB,MACnC,MAAM4oB,GAAuC,eAEjD,OAAOC,GAA8C7oB,MAMzDuM,QACI,IAAKoc,GAAkC3oB,MACnC,MAAM4oB,GAAuC,SAEjD,IAAKE,GAAiD9oB,MAClD,MAAM,IAAIL,UAAU,mDAExBopB,GAAqC/oB,MAEzCwM,QAAQtB,GACJ,IAAKyd,GAAkC3oB,MACnC,MAAM4oB,GAAuC,WAEjD,IAAKE,GAAiD9oB,MAClD,MAAM,IAAIL,UAAU,qDAExB,OAAOqpB,GAAuChpB,KAAMkL,GAKxDoC,MAAMrR,GACF,IAAK0sB,GAAkC3oB,MACnC,MAAM4oB,GAAuC,SAEjDK,GAAqCjpB,KAAM/D,GAG/C,CAACwW,GAAa5D,GACViJ,GAAW9X,MACX,MAAM9D,EAAS8D,KAAKwZ,iBAAiB3K,GAErC,OADAqa,GAA+ClpB,MACxC9D,EAGX,CAACwW,GAAW0B,GACR,MAAM1J,EAAS1K,KAAKmpB,0BACpB,GAAInpB,KAAKyX,OAAOpZ,OAAS,EAAG,CACxB,MAAM6M,EAAQoM,GAAatX,MACvBA,KAAKiZ,iBAA0C,IAAvBjZ,KAAKyX,OAAOpZ,QACpC6qB,GAA+ClpB,MAC/Cmc,GAAoBzR,IAGpB0e,GAAgDppB,MAEpDoU,EAAYI,YAAYtJ,QAGxBiJ,EAA6BzJ,EAAQ0J,GACrCgV,GAAgDppB,OAiB5D,SAAS2oB,GAAkCzf,GACvC,QAAK4E,EAAa5E,MAGbhO,OAAOQ,UAAUC,eAAeI,KAAKmN,EAAG,8BAGtCA,aAAawf,GAExB,SAASU,GAAgD9O,GAClC+O,GAA8C/O,KAI7DA,EAAWM,SACXN,EAAWO,YAAa,GAG5BP,EAAWM,UAAW,EAEtB1L,EADoBoL,EAAWQ,kBACN,KACrBR,EAAWM,UAAW,EAClBN,EAAWO,aACXP,EAAWO,YAAa,EACxBuO,GAAgD9O,OAErDre,IACCgtB,GAAqC3O,EAAYre,QAGzD,SAASotB,GAA8C/O,GACnD,MAAM5P,EAAS4P,EAAW6O,0BAC1B,QAAKL,GAAiDxO,OAGjDA,EAAWE,cAGZ5F,GAAuBlK,IAAW+J,EAAiC/J,GAAU,IAG7Dme,GAA8CvO,GAChD,IAKtB,SAAS4O,GAA+C5O,GACpDA,EAAWQ,oBAAiB7f,EAC5Bqf,EAAWd,sBAAmBve,EAC9Bqf,EAAWiK,4BAAyBtpB,EAGxC,SAAS8tB,GAAqCzO,GAC1C,IAAKwO,GAAiDxO,GAClD,OAEJ,MAAM5P,EAAS4P,EAAW6O,0BAC1B7O,EAAWrB,iBAAkB,EACI,IAA7BqB,EAAW7C,OAAOpZ,SAClB6qB,GAA+C5O,GAC/C6B,GAAoBzR,IAG5B,SAASse,GAAuC1O,EAAYpP,GACxD,IAAK4d,GAAiDxO,GAClD,OAEJ,MAAM5P,EAAS4P,EAAW6O,0BAC1B,GAAIvU,GAAuBlK,IAAW+J,EAAiC/J,GAAU,EAC7E4J,EAAiC5J,EAAQQ,GAAO,OAE/C,CACD,IAAIoZ,EACJ,IACIA,EAAYhK,EAAWiK,uBAAuBrZ,GAElD,MAAOsZ,GAEH,MADAyE,GAAqC3O,EAAYkK,GAC3CA,EAEV,IACI7M,GAAqB2C,EAAYpP,EAAOoZ,GAE5C,MAAOM,GAEH,MADAqE,GAAqC3O,EAAYsK,GAC3CA,GAGdwE,GAAgD9O,GAEpD,SAAS2O,GAAqC3O,EAAYre,GACtD,MAAMyO,EAAS4P,EAAW6O,0BACJ,aAAlBze,EAAO8G,SAGXsG,GAAWwC,GACX4O,GAA+C5O,GAC/CwC,GAAoBpS,EAAQzO,IAEhC,SAAS4sB,GAA8CvO,GACnD,MAAMpB,EAAQoB,EAAW6O,0BAA0B3X,OACnD,MAAc,YAAV0H,EACO,KAEG,WAAVA,EACO,EAEJoB,EAAW4C,aAAe5C,EAAW5C,gBAShD,SAASoR,GAAiDxO,GACtD,MAAMpB,EAAQoB,EAAW6O,0BAA0B3X,OACnD,OAAK8I,EAAWrB,iBAA6B,aAAVC,EAKvC,SAASoQ,GAAqC5e,EAAQ4P,EAAY+C,EAAgBC,EAAeC,EAAiBC,EAAeoC,GAC7HtF,EAAW6O,0BAA4Bze,EACvC4P,EAAW7C,YAASxc,EACpBqf,EAAW5C,qBAAkBzc,EAC7B6c,GAAWwC,GACXA,EAAWE,UAAW,EACtBF,EAAWrB,iBAAkB,EAC7BqB,EAAWO,YAAa,EACxBP,EAAWM,UAAW,EACtBN,EAAWiK,uBAAyB3E,EACpCtF,EAAW4C,aAAeM,EAC1BlD,EAAWQ,eAAiBwC,EAC5BhD,EAAWd,iBAAmB+D,EAC9B7S,EAAO6K,0BAA4B+E,EAEnCpL,EAAYP,EADQ0O,MAC0B,KAC1C/C,EAAWE,UAAW,EACtB4O,GAAgD9O,MACjD3R,IACCsgB,GAAqC3O,EAAY3R,MAoBzD,SAASigB,GAAuC1hB,GAC5C,OAAO,IAAIvH,UAAU,6CAA6CuH,2DAGtE,SAASqiB,GAAkB7e,EAAQ8e,GAC/B,OAAI5Q,GAA+BlO,EAAO6K,2BAwG9C,SAA+B7K,GAC3B,IAMI+e,EACAC,EACAC,EACAC,EACAC,EAVAxY,EAAS4C,EAAmCvJ,GAC5Cof,GAAU,EACVC,GAAsB,EACtBC,GAAsB,EACtBC,GAAY,EACZC,GAAY,EAMhB,MAAMC,EAAgB1b,GAAWJ,IAC7Bwb,EAAuBxb,KAE3B,SAAS+b,EAAmBC,GACxBjb,EAAcib,EAAWjY,gBAAgBzJ,IACjC0hB,IAAehZ,IAGnBiI,GAAkCqQ,EAAQpU,0BAA2B5M,GACrE2Q,GAAkCsQ,EAAQrU,0BAA2B5M,GAChEshB,GAAcC,GACfL,OAAqB5uB,OAIjC,SAASqvB,IACD1M,GAA2BvM,KAC3BW,EAAmCX,GACnCA,EAAS4C,EAAmCvJ,GAC5C0f,EAAmB/Y,IA4DvB8D,EAAgC9D,EA1DZ,CAChBmD,YAAatJ,IAITuE,GAAe,KACXsa,GAAsB,EACtBC,GAAsB,EACtB,MAAMO,EAASrf,EACf,IAAIsf,EAAStf,EACb,IAAK+e,IAAcC,EACf,IACIM,EAASpT,GAAkBlM,GAE/B,MAAOuf,GAIH,OAHAnR,GAAkCqQ,EAAQpU,0BAA2BkV,GACrEnR,GAAkCsQ,EAAQrU,0BAA2BkV,QACrEZ,EAAqB9X,GAAqBrH,EAAQ+f,IAIrDR,GACD5Q,GAAoCsQ,EAAQpU,0BAA2BgV,GAEtEL,GACD7Q,GAAoCuQ,EAAQrU,0BAA2BiV,GAE3EV,GAAU,EACNC,EACAW,IAEKV,GACLW,QAIZpW,YAAa,KACTuV,GAAU,EACLG,GACD7Q,GAAkCuQ,EAAQpU,2BAEzC2U,GACD9Q,GAAkCwQ,EAAQrU,2BAE1CoU,EAAQpU,0BAA0B6E,kBAAkB/b,OAAS,GAC7Dka,GAAoCoR,EAAQpU,0BAA2B,GAEvEqU,EAAQrU,0BAA0B6E,kBAAkB/b,OAAS,GAC7Dka,GAAoCqR,EAAQrU,0BAA2B,GAEtE0U,GAAcC,GACfL,OAAqB5uB,IAG7Bma,YAAa,KACT0U,GAAU,KAKtB,SAASc,EAAmB5S,EAAM6S,GAC1BlW,EAA8BtD,KAC9BW,EAAmCX,GACnCA,EAASoM,GAAgC/S,GACzC0f,EAAmB/Y,IAEvB,MAAMyZ,EAAaD,EAAajB,EAAUD,EACpCoB,EAAcF,EAAalB,EAAUC,EAiE3C9L,GAA6BzM,EAAQ2G,EAhEb,CACpBxD,YAAatJ,IAITuE,GAAe,KACXsa,GAAsB,EACtBC,GAAsB,EACtB,MAAMgB,EAAeH,EAAaX,EAAYD,EAE9C,GADsBY,EAAaZ,EAAYC,EAiBrCc,GACNvS,GAA+CqS,EAAWvV,0BAA2BrK,OAjBrE,CAChB,IAAI+f,EACJ,IACIA,EAAc7T,GAAkBlM,GAEpC,MAAOuf,GAIH,OAHAnR,GAAkCwR,EAAWvV,0BAA2BkV,GACxEnR,GAAkCyR,EAAYxV,0BAA2BkV,QACzEZ,EAAqB9X,GAAqBrH,EAAQ+f,IAGjDO,GACDvS,GAA+CqS,EAAWvV,0BAA2BrK,GAEzFmO,GAAoC0R,EAAYxV,0BAA2B0V,GAK/EnB,GAAU,EACNC,EACAW,IAEKV,GACLW,QAIZpW,YAAarJ,IACT4e,GAAU,EACV,MAAMkB,EAAeH,EAAaX,EAAYD,EACxCiB,EAAgBL,EAAaZ,EAAYC,EAC1Cc,GACD5R,GAAkC0R,EAAWvV,2BAE5C2V,GACD9R,GAAkC2R,EAAYxV,gCAEpCta,IAAViQ,IACK8f,GACDvS,GAA+CqS,EAAWvV,0BAA2BrK,IAEpFggB,GAAiBH,EAAYxV,0BAA0B6E,kBAAkB/b,OAAS,GACnFka,GAAoCwS,EAAYxV,0BAA2B,IAG9EyV,GAAiBE,GAClBrB,OAAqB5uB,IAG7Bma,YAAa,KACT0U,GAAU,KAKtB,SAASY,IACL,GAAIZ,EAEA,OADAC,GAAsB,EACfpb,OAAoB1T,GAE/B6uB,GAAU,EACV,MAAMnR,EAAcG,GAA2C6Q,EAAQpU,2BAOvE,OANoB,OAAhBoD,EACA2R,IAGAM,EAAmBjS,EAAYR,OAAO,GAEnCxJ,OAAoB1T,GAE/B,SAAS0vB,IACL,GAAIb,EAEA,OADAE,GAAsB,EACfrb,OAAoB1T,GAE/B6uB,GAAU,EACV,MAAMnR,EAAcG,GAA2C8Q,EAAQrU,2BAOvE,OANoB,OAAhBoD,EACA2R,IAGAM,EAAmBjS,EAAYR,OAAO,GAEnCxJ,OAAoB1T,GAE/B,SAASkwB,EAAiBtc,GAGtB,GAFAob,GAAY,EACZR,EAAU5a,EACNqb,EAAW,CACX,MAAMkB,EAAkBxU,GAAoB,CAAC6S,EAASC,IAChD2B,EAAetZ,GAAqBrH,EAAQ0gB,GAClDvB,EAAqBwB,GAEzB,OAAOlB,EAEX,SAASmB,EAAiBzc,GAGtB,GAFAqb,GAAY,EACZR,EAAU7a,EACNob,EAAW,CACX,MAAMmB,EAAkBxU,GAAoB,CAAC6S,EAASC,IAChD2B,EAAetZ,GAAqBrH,EAAQ0gB,GAClDvB,EAAqBwB,GAEzB,OAAOlB,EAEX,SAAS9M,KAMT,OAHAsM,EAAU4B,GAAyBlO,EAAgBqN,EAAgBS,GACnEvB,EAAU2B,GAAyBlO,EAAgBsN,EAAgBW,GACnElB,EAAmB/Y,GACZ,CAACsY,EAASC,GAtUN4B,CAAsB9gB,GAIrC,SAAkCA,EAAQ8e,GACtC,MAAMnY,EAAS4C,EAAmCvJ,GAClD,IAII+e,EACAC,EACAC,EACAC,EACAC,EARAC,GAAU,EACV2B,GAAY,EACZxB,GAAY,EACZC,GAAY,EAMhB,MAAMC,EAAgB1b,GAAWJ,IAC7Bwb,EAAuBxb,KAE3B,SAASiP,IACL,OAAIwM,GACA2B,GAAY,EACL9c,OAAoB1T,KAE/B6uB,GAAU,EA2CV3U,EAAgC9D,EA1CZ,CAChBmD,YAAatJ,IAITuE,GAAe,KACXgc,GAAY,EACZ,MAAMlB,EAASrf,EACTsf,EAAStf,EAMV+e,GACDjB,GAAuCW,EAAQpU,0BAA2BgV,GAEzEL,GACDlB,GAAuCY,EAAQrU,0BAA2BiV,GAE9EV,GAAU,EACN2B,GACAnO,QAIZ/I,YAAa,KACTuV,GAAU,EACLG,GACDlB,GAAqCY,EAAQpU,2BAE5C2U,GACDnB,GAAqCa,EAAQrU,2BAE5C0U,GAAcC,GACfL,OAAqB5uB,IAG7Bma,YAAa,KACT0U,GAAU,KAIXnb,OAAoB1T,IAE/B,SAASkwB,EAAiBtc,GAGtB,GAFAob,GAAY,EACZR,EAAU5a,EACNqb,EAAW,CACX,MAAMkB,EAAkBxU,GAAoB,CAAC6S,EAASC,IAChD2B,EAAetZ,GAAqBrH,EAAQ0gB,GAClDvB,EAAqBwB,GAEzB,OAAOlB,EAEX,SAASmB,EAAiBzc,GAGtB,GAFAqb,GAAY,EACZR,EAAU7a,EACNob,EAAW,CACX,MAAMmB,EAAkBxU,GAAoB,CAAC6S,EAASC,IAChD2B,EAAetZ,GAAqBrH,EAAQ0gB,GAClDvB,EAAqBwB,GAEzB,OAAOlB,EAEX,SAAS9M,KAYT,OATAsM,EAAU+B,GAAqBrO,EAAgBC,EAAe6N,GAC9DvB,EAAU8B,GAAqBrO,EAAgBC,EAAegO,GAC9Dlc,EAAciC,EAAOe,gBAAiBzJ,IAClCsgB,GAAqCU,EAAQpU,0BAA2B5M,GACxEsgB,GAAqCW,EAAQrU,0BAA2B5M,GACnEshB,GAAcC,GACfL,OAAqB5uB,MAGtB,CAAC0uB,EAASC,GAnGV+B,CAAyBjhB,GA+VpC,SAASkhB,GAAsChc,EAAIgP,EAAUzL,GAEzD,OADAC,EAAexD,EAAIuD,GACXtE,GAAWkB,EAAYH,EAAIgP,EAAU,CAAC/P,IAElD,SAASgd,GAAoCjc,EAAIgP,EAAUzL,GAEvD,OADAC,EAAexD,EAAIuD,GACXmH,GAAevK,EAAYH,EAAIgP,EAAU,CAACtE,IAEtD,SAASwR,GAAqClc,EAAIgP,EAAUzL,GAExD,OADAC,EAAexD,EAAIuD,GACXmH,GAAezK,EAAYD,EAAIgP,EAAU,CAACtE,IAEtD,SAASyR,GAA0B5vB,EAAMgX,GAErC,GAAa,UADbhX,EAAO,GAAGA,KAEN,MAAM,IAAIwD,UAAU,GAAGwT,MAAYhX,8DAEvC,OAAOA,EAUX,SAAS6vB,GAAgCC,EAAM9Y,GAE3C,GAAa,SADb8Y,EAAO,GAAGA,KAEN,MAAM,IAAItsB,UAAU,GAAGwT,MAAY8Y,oEAEvC,OAAOA,EASX,SAASC,GAAmBhnB,EAASiO,GACjCD,EAAiBhO,EAASiO,GAC1B,MAAM6T,EAAe9hB,MAAAA,OAAyC,EAASA,EAAQ8hB,aACzEpR,EAAgB1Q,MAAAA,OAAyC,EAASA,EAAQ0Q,cAC1EmR,EAAe7hB,MAAAA,OAAyC,EAASA,EAAQ6hB,aACzE5B,EAASjgB,MAAAA,OAAyC,EAASA,EAAQigB,OAIzE,YAHelqB,IAAXkqB,GAUR,SAA2BA,EAAQhS,GAC/B,IAnyDJ,SAAuBzY,GACnB,GAAqB,iBAAVA,GAAgC,OAAVA,EAC7B,OAAO,EAEX,IACI,MAAgC,kBAAlBA,EAAM6sB,QAExB,MAAO/Q,GAEH,OAAO,GA0xDN2V,CAAchH,GACf,MAAM,IAAIxlB,UAAU,GAAGwT,4BAXvBiZ,CAAkBjH,EAAQ,GAAGhS,8BAE1B,CACH6T,aAAcqF,QAAQrF,GACtBpR,cAAeyW,QAAQzW,GACvBmR,aAAcsF,QAAQtF,GACtB5B,OAAAA,GA7kBRjqB,OAAOgS,iBAAiBwb,GAAgChtB,UAAW,CAC/D6Q,MAAO,CAAEzI,YAAY,GACrB0I,QAAS,CAAE1I,YAAY,GACvBwJ,MAAO,CAAExJ,YAAY,GACrBiV,YAAa,CAAEjV,YAAY,KAEW,iBAA/B2J,EAAezS,aACtBE,OAAO2I,eAAe6kB,GAAgChtB,UAAW+R,EAAezS,YAAa,CACzFN,MAAO,kCACP8a,cAAc,IA6lBtB,MAAMrJ,GACF9C,YAAYijB,EAAsB,GAAIhN,EAAc,SACpBrkB,IAAxBqxB,EACAA,EAAsB,KAGtBjZ,EAAaiZ,EAAqB,mBAEtC,MAAMjO,EAAWG,GAAuBc,EAAa,oBAC/CiN,EAhHd,SAA8CzF,EAAQ3T,GAClDD,EAAiB4T,EAAQ3T,GACzB,MAAMyL,EAAWkI,EACXnN,EAAwBiF,MAAAA,OAA2C,EAASA,EAASjF,sBACrF5E,EAAS6J,MAAAA,OAA2C,EAASA,EAAS7J,OACtEyX,EAAO5N,MAAAA,OAA2C,EAASA,EAAS4N,KACpE9f,EAAQkS,MAAAA,OAA2C,EAASA,EAASlS,MACrEvQ,EAAOyiB,MAAAA,OAA2C,EAASA,EAASziB,KAC1E,MAAO,CACHwd,2BAAiD1e,IAA1B0e,OACnB1e,EACA0Y,EAAwCgG,EAAuB,GAAGxG,6CACtE4B,YAAmB9Z,IAAX8Z,OACJ9Z,EACA2wB,GAAsC7W,EAAQ6J,EAAU,GAAGzL,8BAC/DqZ,UAAevxB,IAATuxB,OACFvxB,EACA4wB,GAAoCW,EAAM5N,EAAU,GAAGzL,4BAC3DzG,WAAiBzR,IAAVyR,OACHzR,EACA6wB,GAAqCpf,EAAOkS,EAAU,GAAGzL,6BAC7DhX,UAAelB,IAATkB,OAAqBlB,EAAY8wB,GAA0B5vB,EAAM,GAAGgX,6BA2FjDsZ,CAAqCH,EAAqB,mBAEnF,GADAI,GAAyB1sB,MACK,UAA1BusB,EAAiBpwB,KAAkB,CACnC,QAAsBlB,IAAlBojB,EAAS9e,KACT,MAAM,IAAIsY,WAAW,+DA3lErC,SAA+DnN,EAAQiiB,EAAsBnP,GACzF,MAAMlD,EAAapf,OAAO6hB,OAAOrE,GAA6Bhd,WAC9D,IAAI2hB,EAAiB,OACjBC,EAAgB,IAAM3O,OAAoB1T,GAC1CsiB,EAAkB,IAAM5O,OAAoB1T,QACbA,IAA/B0xB,EAAqBjgB,QACrB2Q,EAAiB,IAAMsP,EAAqBjgB,MAAM4N,SAEpBrf,IAA9B0xB,EAAqBH,OACrBlP,EAAgB,IAAMqP,EAAqBH,KAAKlS,SAEhBrf,IAAhC0xB,EAAqB5X,SACrBwI,EAAkB1O,GAAU8d,EAAqB5X,OAAOlG,IAE5D,MAAM8K,EAAwBgT,EAAqBhT,sBACnD,GAA8B,IAA1BA,EACA,MAAM,IAAIha,UAAU,gDAExByd,GAAkC1S,EAAQ4P,EAAY+C,EAAgBC,EAAeC,EAAiBC,EAAe7D,GA4kE7GiT,CAAsD5sB,KAAMusB,EADtCnO,GAAqBC,EAAU,QAGpD,CACD,MAAMuB,EAAgBrB,GAAqBF,IA1dvD,SAAkE3T,EAAQ6hB,EAAkB/O,EAAeoC,GACvG,MAAMtF,EAAapf,OAAO6hB,OAAO2L,GAAgChtB,WACjE,IAAI2hB,EAAiB,OACjBC,EAAgB,IAAM3O,OAAoB1T,GAC1CsiB,EAAkB,IAAM5O,OAAoB1T,QACjBA,IAA3BsxB,EAAiB7f,QACjB2Q,EAAiB,IAAMkP,EAAiB7f,MAAM4N,SAEpBrf,IAA1BsxB,EAAiBC,OACjBlP,EAAgB,IAAMiP,EAAiBC,KAAKlS,SAEhBrf,IAA5BsxB,EAAiBxX,SACjBwI,EAAkB1O,GAAU0d,EAAiBxX,OAAOlG,IAExDya,GAAqC5e,EAAQ4P,EAAY+C,EAAgBC,EAAeC,EAAiBC,EAAeoC,GA8chHiN,CAAyD7sB,KAAMusB,EADzCnO,GAAqBC,EAAU,GAC2CuB,IAMpGO,aACA,IAAKnM,GAAiBhU,MAClB,MAAM8sB,GAA4B,UAEtC,OAAOlY,GAAuB5U,MAQlC+U,OAAOlG,GACH,OAAKmF,GAAiBhU,MAGlB4U,GAAuB5U,MAChB4O,EAAoB,IAAIjP,UAAU,qDAEtCoS,GAAqB/R,KAAM6O,GALvBD,EAAoBke,GAA4B,WAO/DC,UAAUC,GACN,IAAKhZ,GAAiBhU,MAClB,MAAM8sB,GAA4B,aAGtC,YAAqB7xB,IAhH7B,SAA8BiK,EAASiO,GACnCD,EAAiBhO,EAASiO,GAC1B,MAAM8Y,EAAO/mB,MAAAA,OAAyC,EAASA,EAAQ+mB,KACvE,MAAO,CACHA,UAAehxB,IAATgxB,OAAqBhxB,EAAY+wB,GAAgCC,EAAM,GAAG9Y,6BA2GhE8Z,CAAqBD,EAAY,mBACrCf,KACDhY,EAAmCjU,MAEvCyd,GAAgCzd,MAE3CktB,YAAYC,EAAcH,EAAa,IACnC,IAAKhZ,GAAiBhU,MAClB,MAAM8sB,GAA4B,eAEtCxZ,EAAuB6Z,EAAc,EAAG,eACxC,MAAMC,EA/Ed,SAAqC5V,EAAMrE,GACvCD,EAAiBsE,EAAMrE,GACvB,MAAMka,EAAW7V,MAAAA,OAAmC,EAASA,EAAK6V,SAClE9Z,EAAoB8Z,EAAU,WAAY,wBAC1CtZ,EAAqBsZ,EAAU,GAAGla,gCAClC,MAAMwT,EAAWnP,MAAAA,OAAmC,EAASA,EAAKmP,SAGlE,OAFApT,EAAoBoT,EAAU,WAAY,wBAC1C3H,GAAqB2H,EAAU,GAAGxT,gCAC3B,CAAEka,SAAAA,EAAU1G,SAAAA,GAuEG2G,CAA4BH,EAAc,mBACtDjoB,EAAUgnB,GAAmBc,EAAY,oBAC/C,GAAIpY,GAAuB5U,MACvB,MAAM,IAAIL,UAAU,kFAExB,GAAI0gB,GAAuB+M,EAAUzG,UACjC,MAAM,IAAIhnB,UAAU,kFAIxB,OADA6P,EADgBqX,GAAqB7mB,KAAMotB,EAAUzG,SAAUzhB,EAAQ6hB,aAAc7hB,EAAQ8hB,aAAc9hB,EAAQ0Q,cAAe1Q,EAAQigB,SAEnIiI,EAAUC,SAErBE,OAAOC,EAAaR,EAAa,IAC7B,IAAKhZ,GAAiBhU,MAClB,OAAO4O,EAAoBke,GAA4B,WAE3D,QAAoB7xB,IAAhBuyB,EACA,OAAO5e,EAAoB,wCAE/B,IAAKqQ,GAAiBuO,GAClB,OAAO5e,EAAoB,IAAIjP,UAAU,8EAE7C,IAAIuF,EACJ,IACIA,EAAUgnB,GAAmBc,EAAY,oBAE7C,MAAO/wB,GACH,OAAO2S,EAAoB3S,GAE/B,OAAI2Y,GAAuB5U,MAChB4O,EAAoB,IAAIjP,UAAU,8EAEzC0gB,GAAuBmN,GAChB5e,EAAoB,IAAIjP,UAAU,8EAEtCknB,GAAqB7mB,KAAMwtB,EAAatoB,EAAQ6hB,aAAc7hB,EAAQ8hB,aAAc9hB,EAAQ0Q,cAAe1Q,EAAQigB,QAa9HsI,MACI,IAAKzZ,GAAiBhU,MAClB,MAAM8sB,GAA4B,OAGtC,OAAOlW,GADU2S,GAAkBvpB,OAGvC0tB,OAAOV,GACH,IAAKhZ,GAAiBhU,MAClB,MAAM8sB,GAA4B,UAGtC,OA14FR,SAA4CpiB,EAAQkL,GAChD,MAAMvE,EAAS4C,EAAmCvJ,GAC5CijB,EAAO,IAAIhY,GAAgCtE,EAAQuE,GACnDpN,EAAWtN,OAAO6hB,OAAO3G,IAE/B,OADA5N,EAAS8N,mBAAqBqX,EACvBnlB,EAq4FIolB,CAAmC5tB,KAvKlD,SAAgCkF,EAASiO,GACrCD,EAAiBhO,EAASiO,GAC1B,MAAMyC,EAAgB1Q,MAAAA,OAAyC,EAASA,EAAQ0Q,cAChF,MAAO,CAAEA,cAAeyW,QAAQzW,IAmKZiY,CAAuBb,EAAY,mBACKpX,gBA2BhE,SAAS8V,GAAqBrO,EAAgBC,EAAeC,EAAiBC,EAAgB,EAAGoC,EAAgB,KAAM,IACnH,MAAMlV,EAASxP,OAAO6hB,OAAO5Q,GAAezQ,WAI5C,OAHAgxB,GAAyBhiB,GAEzB4e,GAAqC5e,EADlBxP,OAAO6hB,OAAO2L,GAAgChtB,WACR2hB,EAAgBC,EAAeC,EAAiBC,EAAeoC,GACjHlV,EAGX,SAAS6gB,GAAyBlO,EAAgBC,EAAeC,GAC7D,MAAM7S,EAASxP,OAAO6hB,OAAO5Q,GAAezQ,WAI5C,OAHAgxB,GAAyBhiB,GAEzB0S,GAAkC1S,EADfxP,OAAO6hB,OAAOrE,GAA6Bhd,WACR2hB,EAAgBC,EAAeC,EAAiB,OAAGtiB,GAClGyP,EAEX,SAASgiB,GAAyBhiB,GAC9BA,EAAO8G,OAAS,WAChB9G,EAAO6G,aAAUtW,EACjByP,EAAOmH,kBAAe5W,EACtByP,EAAO4K,YAAa,EAExB,SAAStB,GAAiB9K,GACtB,QAAK4E,EAAa5E,MAGbhO,OAAOQ,UAAUC,eAAeI,KAAKmN,EAAG,8BAGtCA,aAAaiD,GAExB,SAASyI,GAAuBlK,GAC5B,YAAuBzP,IAAnByP,EAAO6G,QAMf,SAASQ,GAAqBrH,EAAQmE,GAElC,GADAnE,EAAO4K,YAAa,EACE,WAAlB5K,EAAO8G,OACP,OAAO7C,OAAoB1T,GAE/B,GAAsB,YAAlByP,EAAO8G,OACP,OAAO5C,EAAoBlE,EAAOmH,cAEtCsK,GAAoBzR,GACpB,MAAM2G,EAAS3G,EAAO6G,QAQtB,YAPetW,IAAXoW,GAAwBuM,GAA2BvM,KACnDA,EAAO+J,kBAAkBtR,SAAQqR,IAC7BA,EAAgB5G,iBAAYtZ,MAEhCoW,EAAO+J,kBAAoB,IAAIpL,GAG5BX,EADqB3E,EAAO6K,0BAA0B9C,GAAa5D,GACzBlB,GAErD,SAASwO,GAAoBzR,GACzBA,EAAO8G,OAAS,SAChB,MAAMH,EAAS3G,EAAO6G,aACPtW,IAAXoW,IAGJK,EAAkCL,GAC9BsD,EAA8BtD,KAC9BA,EAAOgD,cAAcvK,SAAQsK,IACzBA,EAAYG,iBAEhBlD,EAAOgD,cAAgB,IAAIrE,IAGnC,SAAS8M,GAAoBpS,EAAQzO,GACjCyO,EAAO8G,OAAS,UAChB9G,EAAOmH,aAAe5V,EACtB,MAAMoV,EAAS3G,EAAO6G,aACPtW,IAAXoW,IAGJY,EAAiCZ,EAAQpV,GACrC0Y,EAA8BtD,IAC9BA,EAAOgD,cAAcvK,SAAQsK,IACzBA,EAAYgB,YAAYnZ,MAE5BoV,EAAOgD,cAAgB,IAAIrE,IAG3BqB,EAAO+J,kBAAkBtR,SAAQqR,IAC7BA,EAAgB/F,YAAYnZ,MAEhCoV,EAAO+J,kBAAoB,IAAIpL,IAIvC,SAAS8c,GAA4B5lB,GACjC,OAAO,IAAIvH,UAAU,4BAA4BuH,0CAGrD,SAAS4mB,GAA2BrP,EAAMtL,GACtCD,EAAiBuL,EAAMtL,GACvB,MAAMqK,EAAgBiB,MAAAA,OAAmC,EAASA,EAAKjB,cAEvE,OADAjK,EAAoBiK,EAAe,gBAAiB,uBAC7C,CACHA,cAAe/J,EAA0B+J,IA7HjDtiB,OAAOgS,iBAAiBf,GAAezQ,UAAW,CAC9CqZ,OAAQ,CAAEjR,YAAY,GACtBipB,UAAW,CAAEjpB,YAAY,GACzBopB,YAAa,CAAEppB,YAAY,GAC3BypB,OAAQ,CAAEzpB,YAAY,GACtB2pB,IAAK,CAAE3pB,YAAY,GACnB4pB,OAAQ,CAAE5pB,YAAY,GACtBqc,OAAQ,CAAErc,YAAY,KAEgB,iBAA/B2J,EAAezS,aACtBE,OAAO2I,eAAesI,GAAezQ,UAAW+R,EAAezS,YAAa,CACxEN,MAAO,iBACP8a,cAAc,IAGsB,iBAAjC/H,EAAesgB,eACtB7yB,OAAO2I,eAAesI,GAAezQ,UAAW+R,EAAesgB,cAAe,CAC1ErzB,MAAOyR,GAAezQ,UAAUgyB,OAChC/G,UAAU,EACVnR,cAAc,IA+GtB,MAAMwY,GAA0B9iB,GACrBA,EAAMF,WAEjB,IACI9P,OAAO2I,eAAemqB,GAAwB,OAAQ,CAClDtzB,MAAO,OACP8a,cAAc,IAGtB,MAAOgB,IASP,MAAMyX,GACF5kB,YAAYnE,GACRoO,EAAuBpO,EAAS,EAAG,6BACnCA,EAAU4oB,GAA2B5oB,EAAS,mBAC9ClF,KAAKkuB,wCAA0ChpB,EAAQsY,cAKvDA,oBACA,IAAK2Q,GAA4BnuB,MAC7B,MAAMouB,GAA8B,iBAExC,OAAOpuB,KAAKkuB,wCAKZ3uB,WACA,IAAK4uB,GAA4BnuB,MAC7B,MAAMouB,GAA8B,QAExC,OAAOJ,IAcf,SAASI,GAA8BlnB,GACnC,OAAO,IAAIvH,UAAU,uCAAuCuH,qDAEhE,SAASinB,GAA4BjlB,GACjC,QAAK4E,EAAa5E,MAGbhO,OAAOQ,UAAUC,eAAeI,KAAKmN,EAAG,4CAGtCA,aAAa+kB,GArBxB/yB,OAAOgS,iBAAiB+gB,GAA0BvyB,UAAW,CACzD8hB,cAAe,CAAE1Z,YAAY,GAC7BvE,KAAM,CAAEuE,YAAY,KAEkB,iBAA/B2J,EAAezS,aACtBE,OAAO2I,eAAeoqB,GAA0BvyB,UAAW+R,EAAezS,YAAa,CACnFN,MAAO,4BACP8a,cAAc,IAkBtB,MAAM6Y,GAAoB,IACf,EAEX,IACInzB,OAAO2I,eAAewqB,GAAmB,OAAQ,CAC7C3zB,MAAO,OACP8a,cAAc,IAGtB,MAAOgB,IASP,MAAM8X,GACFjlB,YAAYnE,GACRoO,EAAuBpO,EAAS,EAAG,wBACnCA,EAAU4oB,GAA2B5oB,EAAS,mBAC9ClF,KAAKuuB,mCAAqCrpB,EAAQsY,cAKlDA,oBACA,IAAKgR,GAAuBxuB,MACxB,MAAMyuB,GAAyB,iBAEnC,OAAOzuB,KAAKuuB,mCAMZhvB,WACA,IAAKivB,GAAuBxuB,MACxB,MAAMyuB,GAAyB,QAEnC,OAAOJ,IAcf,SAASI,GAAyBvnB,GAC9B,OAAO,IAAIvH,UAAU,kCAAkCuH,gDAE3D,SAASsnB,GAAuBtlB,GAC5B,QAAK4E,EAAa5E,MAGbhO,OAAOQ,UAAUC,eAAeI,KAAKmN,EAAG,uCAGtCA,aAAaolB,GAwBxB,SAASI,GAAgC9e,EAAIgP,EAAUzL,GAEnD,OADAC,EAAexD,EAAIuD,GACXmH,GAAevK,EAAYH,EAAIgP,EAAU,CAACtE,IAEtD,SAASqU,GAAgC/e,EAAIgP,EAAUzL,GAEnD,OADAC,EAAexD,EAAIuD,GACXmH,GAAezK,EAAYD,EAAIgP,EAAU,CAACtE,IAEtD,SAASsU,GAAoChf,EAAIgP,EAAUzL,GAEvD,OADAC,EAAexD,EAAIuD,GACZ,CAACjI,EAAOoP,IAAevK,EAAYH,EAAIgP,EAAU,CAAC1T,EAAOoP,IAvDpEpf,OAAOgS,iBAAiBohB,GAAqB5yB,UAAW,CACpD8hB,cAAe,CAAE1Z,YAAY,GAC7BvE,KAAM,CAAEuE,YAAY,KAEkB,iBAA/B2J,EAAezS,aACtBE,OAAO2I,eAAeyqB,GAAqB5yB,UAAW+R,EAAezS,YAAa,CAC9EN,MAAO,uBACP8a,cAAc,IA4DtB,MAAMqZ,GACFxlB,YAAYylB,EAAiB,GAAIC,EAAsB,GAAIC,EAAsB,SACtD/zB,IAAnB6zB,IACAA,EAAiB,MAErB,MAAMG,EAAmBzQ,GAAuBuQ,EAAqB,oBAC/DG,EAAmB1Q,GAAuBwQ,EAAqB,mBAC/DG,EAlDd,SAA4BvQ,EAAUzL,GAClCD,EAAiB0L,EAAUzL,GAC3B,MAAMic,EAAQxQ,MAAAA,OAA2C,EAASA,EAASwQ,MACrEC,EAAezQ,MAAAA,OAA2C,EAASA,EAASyQ,aAC5E3iB,EAAQkS,MAAAA,OAA2C,EAASA,EAASlS,MACrE0gB,EAAYxO,MAAAA,OAA2C,EAASA,EAASwO,UACzEkC,EAAe1Q,MAAAA,OAA2C,EAASA,EAAS0Q,aAClF,MAAO,CACHF,WAAiBn0B,IAAVm0B,OACHn0B,EACAyzB,GAAgCU,EAAOxQ,EAAU,GAAGzL,6BACxDkc,aAAAA,EACA3iB,WAAiBzR,IAAVyR,OACHzR,EACA0zB,GAAgCjiB,EAAOkS,EAAU,GAAGzL,6BACxDia,eAAyBnyB,IAAdmyB,OACPnyB,EACA2zB,GAAoCxB,EAAWxO,EAAU,GAAGzL,iCAChEmc,aAAAA,GAgCoBC,CAAmBT,EAAgB,mBACvD,QAAiC7zB,IAA7Bk0B,EAAYE,aACZ,MAAM,IAAIxX,WAAW,kCAEzB,QAAiC5c,IAA7Bk0B,EAAYG,aACZ,MAAM,IAAIzX,WAAW,kCAEzB,MAAM2X,EAAwBpR,GAAqB8Q,EAAkB,GAC/DO,EAAwBlR,GAAqB2Q,GAC7CQ,EAAwBtR,GAAqB6Q,EAAkB,GAC/DU,EAAwBpR,GAAqB0Q,GACnD,IAAIW,GA0CZ,SAAmCllB,EAAQmlB,EAAcH,EAAuBC,EAAuBH,EAAuBC,GAC1H,SAASpS,IACL,OAAOwS,EAEX,SAAS/P,EAAe5U,GACpB,OAoMR,SAAkDR,EAAQQ,GACtD,MAAMoP,EAAa5P,EAAOolB,2BAC1B,OAAIplB,EAAOyW,cAEA9R,EAD2B3E,EAAOqlB,4BACc,KACnD,MAAMpJ,EAAWjc,EAAOslB,UAExB,GAAc,aADArJ,EAASnV,OAEnB,MAAMmV,EAAS9U,aAEnB,OAAOoe,GAAiD3V,EAAYpP,MAGrE+kB,GAAiD3V,EAAYpP,GAjNzDglB,CAAyCxlB,EAAQQ,GAE5D,SAAS8U,EAAenR,GACpB,OAgNR,SAAkDnE,EAAQmE,GAItD,OADAshB,GAAqBzlB,EAAQmE,GACtBF,OAAoB1T,GApNhBm1B,CAAyC1lB,EAAQmE,GAE5D,SAASkR,IACL,OAmNR,SAAkDrV,GAE9C,MAAM2iB,EAAW3iB,EAAO2lB,UAClB/V,EAAa5P,EAAOolB,2BACpBQ,EAAehW,EAAWiW,kBAGhC,OAFAC,GAAgDlW,GAEzCjL,EAAqBihB,GAAc,KACtC,GAAwB,YAApBjD,EAAS7b,OACT,MAAM6b,EAASxb,aAEnBkX,GAAqCsE,EAAS9X,8BAC/C5M,IAEC,MADAwnB,GAAqBzlB,EAAQ/B,GACvB0kB,EAASxb,gBAjOR4e,CAAyC/lB,GAGpD,SAAS4S,IACL,OAiOR,SAAmD5S,GAI/C,OAFAgmB,GAA+BhmB,GAAQ,GAEhCA,EAAOqlB,2BArOHY,CAA0CjmB,GAErD,SAAS6S,EAAgB1O,GAErB,OADA+hB,GAA4ClmB,EAAQmE,GAC7CF,OAAoB1T,GAN/ByP,EAAOslB,UAprEX,SAA8B3S,EAAgByC,EAAgBC,EAAgBC,EAAgBxC,EAAgB,EAAGoC,EAAgB,KAAM,IACnI,MAAMlV,EAASxP,OAAO6hB,OAAOqC,GAAe1jB,WAI5C,OAHAikB,GAAyBjV,GAEzBuV,GAAqCvV,EADlBxP,OAAO6hB,OAAO8C,GAAgCnkB,WACR2hB,EAAgByC,EAAgBC,EAAgBC,EAAgBxC,EAAeoC,GACjIlV,EA+qEYmmB,CAAqBxT,EAAgByC,EAAgBC,EAAgBC,EAAgB0P,EAAuBC,GAQ/HjlB,EAAO2lB,UAAY3E,GAAqBrO,EAAgBC,EAAeC,EAAiBiS,EAAuBC,GAE/G/kB,EAAOyW,mBAAgBlmB,EACvByP,EAAOqlB,gCAA6B90B,EACpCyP,EAAOomB,wCAAqC71B,EAC5Cy1B,GAA+BhmB,GAAQ,GACvCA,EAAOolB,gCAA6B70B,EAjEhC81B,CAA0B/wB,KAHLyO,GAAWJ,IAC5BuhB,EAAuBvhB,KAEmBqhB,EAAuBC,EAAuBH,EAAuBC,GAgL3H,SAA8D/kB,EAAQykB,GAClE,MAAM7U,EAAapf,OAAO6hB,OAAOiU,GAAiCt1B,WAClE,IAAIu1B,EAAsB/lB,IACtB,IAEI,OADAgmB,GAAwC5W,EAAYpP,GAC7CyD,OAAoB1T,GAE/B,MAAOk2B,GACH,OAAOviB,EAAoBuiB,KAG/BC,EAAiB,IAAMziB,OAAoB1T,QACjBA,IAA1Bk0B,EAAY/B,YACZ6D,EAAqB/lB,GAASikB,EAAY/B,UAAUliB,EAAOoP,SAErCrf,IAAtBk0B,EAAYC,QACZgC,EAAiB,IAAMjC,EAAYC,MAAM9U,IAtBjD,SAA+C5P,EAAQ4P,EAAY2W,EAAoBG,GACnF9W,EAAW+W,2BAA6B3mB,EACxCA,EAAOolB,2BAA6BxV,EACpCA,EAAWgX,oBAAsBL,EACjC3W,EAAWiW,gBAAkBa,EAoB7BG,CAAsC7mB,EAAQ4P,EAAY2W,EAAoBG,GAjM1EI,CAAqDxxB,KAAMmvB,QACjCl0B,IAAtBk0B,EAAYziB,MACZkjB,EAAqBT,EAAYziB,MAAM1M,KAAK8vB,6BAG5CF,OAAqB30B,GAMzBoyB,eACA,IAAKoE,GAAkBzxB,MACnB,MAAM0xB,GAA0B,YAEpC,OAAO1xB,KAAKqwB,UAKZ1J,eACA,IAAK8K,GAAkBzxB,MACnB,MAAM0xB,GAA0B,YAEpC,OAAO1xB,KAAKgwB,WA0CpB,SAASyB,GAAkBvoB,GACvB,QAAK4E,EAAa5E,MAGbhO,OAAOQ,UAAUC,eAAeI,KAAKmN,EAAG,+BAGtCA,aAAa2lB,GAGxB,SAASsB,GAAqBzlB,EAAQzO,GAClCgtB,GAAqCve,EAAO2lB,UAAU9a,0BAA2BtZ,GACjF20B,GAA4ClmB,EAAQzO,GAExD,SAAS20B,GAA4ClmB,EAAQzO,GACzDu0B,GAAgD9lB,EAAOolB,4BACvDrL,GAA6C/Z,EAAOslB,UAAUnP,0BAA2B5kB,GACrFyO,EAAOyW,eAIPuP,GAA+BhmB,GAAQ,GAG/C,SAASgmB,GAA+BhmB,EAAQkY,QAEF3nB,IAAtCyP,EAAOqlB,4BACPrlB,EAAOomB,qCAEXpmB,EAAOqlB,2BAA6BthB,GAAWJ,IAC3C3D,EAAOomB,mCAAqCziB,KAEhD3D,EAAOyW,cAAgByB,EAvE3B1nB,OAAOgS,iBAAiB2hB,GAAgBnzB,UAAW,CAC/C2xB,SAAU,CAAEvpB,YAAY,GACxB6iB,SAAU,CAAE7iB,YAAY,KAEc,iBAA/B2J,EAAezS,aACtBE,OAAO2I,eAAegrB,GAAgBnzB,UAAW+R,EAAezS,YAAa,CACzEN,MAAO,kBACP8a,cAAc,IAwEtB,MAAMwb,GACF3nB,cACI,MAAM,IAAI1J,UAAU,uBAKpBoZ,kBACA,IAAK4Y,GAAmC3xB,MACpC,MAAM4xB,GAAqC,eAG/C,OAAO/I,GADoB7oB,KAAKqxB,2BAA2BhB,UAAU9a,2BAGzE/I,QAAQtB,GACJ,IAAKymB,GAAmC3xB,MACpC,MAAM4xB,GAAqC,WAE/CV,GAAwClxB,KAAMkL,GAMlDoC,MAAMuB,GACF,IAAK8iB,GAAmC3xB,MACpC,MAAM4xB,GAAqC,SAwFvD,IAA2D31B,EAAAA,EAtFP4S,EAuFhDshB,GAvF0CnwB,KAuFVqxB,2BAA4Bp1B,GAjF5D41B,YACI,IAAKF,GAAmC3xB,MACpC,MAAM4xB,GAAqC,cAwFvD,SAAmDtX,GAC/C,MAAM5P,EAAS4P,EAAW+W,2BAE1BtI,GAD2Bre,EAAO2lB,UAAU9a,2BAE5C,MAAMjI,EAAQ,IAAI3N,UAAU,8BAC5BixB,GAA4ClmB,EAAQ4C,GA3FhDwkB,CAA0C9xB,OAgBlD,SAAS2xB,GAAmCzoB,GACxC,QAAK4E,EAAa5E,MAGbhO,OAAOQ,UAAUC,eAAeI,KAAKmN,EAAG,+BAGtCA,aAAa8nB,GA4BxB,SAASR,GAAgDlW,GACrDA,EAAWgX,yBAAsBr2B,EACjCqf,EAAWiW,qBAAkBt1B,EAEjC,SAASi2B,GAAwC5W,EAAYpP,GACzD,MAAMR,EAAS4P,EAAW+W,2BACpBU,EAAqBrnB,EAAO2lB,UAAU9a,0BAC5C,IAAKuT,GAAiDiJ,GAClD,MAAM,IAAIpyB,UAAU,wDAIxB,IACIqpB,GAAuC+I,EAAoB7mB,GAE/D,MAAOjP,GAGH,MADA20B,GAA4ClmB,EAAQzO,GAC9CyO,EAAO2lB,UAAUxe,aAE3B,MAAM+Q,EA3oCV,SAAwDtI,GACpD,OAAI+O,GAA8C/O,GA0oC7B0X,CAA+CD,GAChEnP,IAAiBlY,EAAOyW,eACxBuP,GAA+BhmB,GAAQ,GAM/C,SAASulB,GAAiD3V,EAAYpP,GAElE,OAAOmE,EADkBiL,EAAWgX,oBAAoBpmB,QACVjQ,GAAW0N,IAErD,MADAwnB,GAAqB7V,EAAW+W,2BAA4B1oB,GACtDA,KAyDd,SAASipB,GAAqC1qB,GAC1C,OAAO,IAAIvH,UAAU,8CAA8CuH,4DAGvE,SAASwqB,GAA0BxqB,GAC/B,OAAO,IAAIvH,UAAU,6BAA6BuH,2CA9ItDhM,OAAOgS,iBAAiB8jB,GAAiCt1B,UAAW,CAChE8Q,QAAS,CAAE1I,YAAY,GACvBwJ,MAAO,CAAExJ,YAAY,GACrB+tB,UAAW,CAAE/tB,YAAY,GACzBiV,YAAa,CAAEjV,YAAY,KAEW,iBAA/B2J,EAAezS,aACtBE,OAAO2I,eAAemtB,GAAiCt1B,UAAW+R,EAAezS,YAAa,CAC1FN,MAAO,mCACP8a,cAAc,IAwItBjb,EAAQ0zB,0BAA4BA,GACpC1zB,EAAQ+zB,qBAAuBA,GAC/B/zB,EAAQme,6BAA+BA,GACvCne,EAAQ4R,eAAiBA,GACzB5R,EAAQmjB,yBAA2BA,GACnCnjB,EAAQwd,0BAA4BA,GACpCxd,EAAQmuB,gCAAkCA,GAC1CnuB,EAAQ2Z,4BAA8BA,EACtC3Z,EAAQs0B,gBAAkBA,GAC1Bt0B,EAAQy2B,iCAAmCA,GAC3Cz2B,EAAQ6kB,eAAiBA,GACzB7kB,EAAQslB,gCAAkCA,GAC1CtlB,EAAQomB,4BAA8BA,GAEtCzlB,OAAO2I,eAAetJ,EAAS,aAAc,CAAEG,OAAO,KA7mIS8S,EAAQjT,6BCJ3ED,EAAOC,QAAUmM,QAAQ,8FCEzB,MAAMurB,EAAQ,cAAmB,UAC/B,GAAgB,EAChB,GAAQ,GAOR5oB,YAAa6oB,EAAUC,EAAUjtB,EAAU,IACzC,GAAIpF,UAAUzB,OAAS,EACrB,MAAM,IAAIsB,UAAU,8DAA8DG,UAAUzB,mBAE9F+zB,MAAMF,EAAUhtB,GAEA,OAAZA,IAAkBA,EAAU,IAGhC,MAAMmtB,OAAwCp3B,IAAzBiK,EAAQmtB,aAA6BxsB,KAAKC,MAAQ8M,OAAO1N,EAAQmtB,cACjFzf,OAAO+D,MAAM0b,KAChBryB,MAAK,EAAgBqyB,GAGvBryB,MAAK,EAAQ6L,OAAOsmB,GAGlBjrB,WACF,OAAOlH,MAAK,EAGVqyB,mBACF,OAAOryB,MAAK,EAGFhF,IAAPJ,OAAOI,eACV,MAAO,OAGTsO,OAAQ1O,OAAO6N,aAAc9K,GAC3B,QAASA,GAAUA,aAAkB,WACnC,WAAWJ,KAAKI,EAAO/C,OAAOI,gBAKvBmO,EAAO8oB,EACpB,2RChDA,IAAI,EAA+BvrB,QAAQ,WCAvC,EAA+BA,QAAQ,qCCO3C,MAAM,KAAE4rB,GAAS,WAMXC,EAAe,CAAC30B,EAAMzB,IAASq2B,GAAS,IAAAC,UAAS70B,GAAOA,EAAMzB,GAO9Du2B,EAAW,CAAC90B,EAAMzB,IAASm2B,EAAK10B,GAAMuQ,MAAKmkB,GAAQE,EAASF,EAAM10B,EAAMzB,KAOxEw2B,EAAW,CAAC/0B,EAAMzB,IAASm2B,EAAK10B,GAAMuQ,MAAKmkB,GAAQM,EAASN,EAAM10B,EAAMzB,KAMxE02B,EAAe,CAACj1B,EAAMzB,IAASy2B,GAAS,IAAAH,UAAS70B,GAAOA,EAAMzB,GAG9Dq2B,EAAW,CAACF,EAAM10B,EAAMzB,EAAO,KAAO,IAAI,UAAK,CAAC,IAAI22B,EAAa,CACrEl1B,KAAAA,EACA2B,KAAM+yB,EAAK/yB,KACX8yB,aAAcC,EAAKS,QACnBrmB,MAAO,KACJ,CAAEvQ,KAAAA,IAGDy2B,EAAW,CAACN,EAAM10B,EAAMzB,EAAO,KAAO,IAAI,UAAK,CAAC,IAAI22B,EAAa,CACrEl1B,KAAAA,EACA2B,KAAM+yB,EAAK/yB,KACX8yB,aAAcC,EAAKS,QACnBrmB,MAAO,MACJ,IAAAsmB,UAASp1B,GAAO,CAAEzB,KAAAA,EAAMk2B,aAAcC,EAAKS,UAShD,MAAMD,EACJ,GACA,GAEAzpB,YAAanE,GACXlF,MAAK,EAAQkF,EAAQtH,KACrBoC,MAAK,EAASkF,EAAQwH,MACtB1M,KAAKT,KAAO2F,EAAQ3F,KACpBS,KAAKqyB,aAAentB,EAAQmtB,aAO9B70B,MAAOkP,EAAO3B,GACZ,OAAO,IAAI+nB,EAAa,CACtBl1B,KAAMoC,MAAK,EACXqyB,aAAcryB,KAAKqyB,aACnB9yB,KAAMwL,EAAM2B,EACZA,MAAO1M,MAAK,EAAS0M,IAIzBrC,eACE,MAAM,QAAE0oB,SAAkBT,EAAKtyB,MAAK,GACpC,GAAI+yB,EAAU/yB,KAAKqyB,aACjB,MAAM,IAAI,EAAa,0IAA2I,2BAE5J,IAAAY,kBAAiBjzB,MAAK,EAAO,CACnC0M,MAAO1M,MAAK,EACZ+K,IAAK/K,MAAK,EAASA,KAAKT,KAAO,IAIvBvE,IAAPJ,OAAOI,eACV,MAAO,QAIX,yBChGA,IAAKkR,WAAWoa,aACd,IACE,MAAM,eAAE4M,GAAmB,EAAQ,IACnCC,GAAO,IAAID,GAAiBE,MAC5BC,EAAK,IAAI1oB,YACTwoB,EAAKG,YAAYD,EAAI,CAACA,EAAIA,IAC1B,MAAOzrB,GACkB,iBAAzBA,EAAIyB,YAAYnC,OACdgF,WAAWoa,aAAe1e,EAAIyB,aAKpC/O,EAAOC,QAAU2R,WAAWoa,uCCf5BhsB,EAAOC,QAAUmM,QAAQ,mCCAzB,IAAI6sB,EAAW,EAAQ,IACnBC,EAAS,EAAQ,IACjBz1B,EAAc,EAAQ,IACtB3B,EAAU,EAAQ,IAClBq3B,EAAc,EAAQ,KACtBC,EAAW,EAAQ,KACnBC,EAAc,EAAQ,IACtBC,EAAe,EAAQ,KAUvBj4B,EAHcT,OAAOQ,UAGQC,eA2DjCrB,EAAOC,QAxBP,SAAiBG,GACf,GAAa,MAATA,EACF,OAAO,EAET,GAAI+4B,EAAY/4B,KACX0B,EAAQ1B,IAA0B,iBAATA,GAA4C,mBAAhBA,EAAMoI,QAC1D4wB,EAASh5B,IAAUk5B,EAAal5B,IAAUqD,EAAYrD,IAC1D,OAAQA,EAAM2D,OAEhB,IAAI1D,EAAM64B,EAAO94B,GACjB,GApDW,gBAoDPC,GAnDO,gBAmDUA,EACnB,OAAQD,EAAM6E,KAEhB,GAAIo0B,EAAYj5B,GACd,OAAQ64B,EAAS74B,GAAO2D,OAE1B,IAAK,IAAIR,KAAOnD,EACd,GAAIiB,EAAeI,KAAKrB,EAAOmD,GAC7B,OAAO,EAGX,OAAO,oBCzET,IAAI81B,EAAc,EAAQ,IACtBE,EAAa,EAAQ,IAMrBl4B,EAHcT,OAAOQ,UAGQC,eAsBjCrB,EAAOC,QAbP,SAAkBoD,GAChB,IAAKg2B,EAAYh2B,GACf,OAAOk2B,EAAWl2B,GAEpB,IAAIzB,EAAS,GACb,IAAK,IAAI2B,KAAO3C,OAAOyC,GACjBhC,EAAeI,KAAK4B,EAAQE,IAAe,eAAPA,GACtC3B,EAAO6C,KAAKlB,GAGhB,OAAO3B,gBCzBT,IAAIT,EAAcP,OAAOQ,UAgBzBpB,EAAOC,QAPP,SAAqBG,GACnB,IAAIo5B,EAAOp5B,GAASA,EAAM2O,YAG1B,OAAO3O,KAFqB,mBAARo5B,GAAsBA,EAAKp4B,WAAcD,qBCZ/D,IAGIo4B,EAHU,EAAQ,GAGLE,CAAQ74B,OAAOmH,KAAMnH,QAEtCZ,EAAOC,QAAUs5B,eCSjBv5B,EAAOC,QANP,SAAiB8E,EAAM+tB,GACrB,OAAO,SAAS4G,GACd,OAAO30B,EAAK+tB,EAAU4G,uBCV1B,IAAIjW,EAAW,EAAQ,IACnBjd,EAAM,EAAQ,IACdmN,EAAU,EAAQ,KAClBgmB,EAAM,EAAQ,KACdC,EAAU,EAAQ,KAClB15B,EAAa,EAAQ,GACrBmH,EAAW,EAAQ,IAGnBwyB,EAAS,eAETC,EAAa,mBACbC,EAAS,eACTC,EAAa,mBAEbC,EAAc,oBAGdC,EAAqB7yB,EAASoc,GAC9B0W,EAAgB9yB,EAASb,GACzB4zB,EAAoB/yB,EAASsM,GAC7B0mB,EAAgBhzB,EAASsyB,GACzBW,EAAoBjzB,EAASuyB,GAS7BV,EAASh5B,GAGRujB,GAAYyV,EAAO,IAAIzV,EAAS,IAAIpT,YAAY,MAAQ4pB,GACxDzzB,GAAO0yB,EAAO,IAAI1yB,IAAQqzB,GAC1BlmB,GAAWulB,EAAOvlB,EAAQI,YAAc+lB,GACxCH,GAAOT,EAAO,IAAIS,IAAQI,GAC1BH,GAAWV,EAAO,IAAIU,IAAYI,KACrCd,EAAS,SAAS94B,GAChB,IAAIwB,EAAS1B,EAAWE,GACpBo5B,EA/BQ,mBA+BD53B,EAAsBxB,EAAM2O,iBAAcpO,EACjD45B,EAAaf,EAAOnyB,EAASmyB,GAAQ,GAEzC,GAAIe,EACF,OAAQA,GACN,KAAKL,EAAoB,OAAOD,EAChC,KAAKE,EAAe,OAAON,EAC3B,KAAKO,EAAmB,OAAON,EAC/B,KAAKO,EAAe,OAAON,EAC3B,KAAKO,EAAmB,OAAON,EAGnC,OAAOp4B,IAIX5B,EAAOC,QAAUi5B,mBCzDjB,IAIIzV,EAJY,EAAQ,GAITzc,CAHJ,EAAQ,GAGY,YAE/BhH,EAAOC,QAAUwjB,mBCNjB,IAII9P,EAJY,EAAQ,GAIV3M,CAHH,EAAQ,GAGW,WAE9BhH,EAAOC,QAAU0T,mBCNjB,IAIIgmB,EAJY,EAAQ,GAId3yB,CAHC,EAAQ,GAGO,OAE1BhH,EAAOC,QAAU05B,mBCNjB,IAIIC,EAJY,EAAQ,GAIV5yB,CAHH,EAAQ,GAGW,WAE9BhH,EAAOC,QAAU25B,mBCNjB,IAAIzyB,EAAa,EAAQ,GACrBxD,EAAW,EAAQ,IA+BvB3D,EAAOC,QAJP,SAAqBG,GACnB,OAAgB,MAATA,GAAiBuD,EAASvD,EAAM2D,UAAYoD,EAAW/G,gCC7BhE,IAAIY,EAAO,EAAQ,GACfw5B,EAAY,EAAQ,KAGpBC,EAA4Cx6B,IAAYA,EAAQy6B,UAAYz6B,EAG5E06B,EAAaF,GAA4Cz6B,IAAWA,EAAO06B,UAAY16B,EAMvF0N,EAHgBitB,GAAcA,EAAW16B,UAAYw6B,EAG5Bz5B,EAAK0M,YAAS/M,EAsBvCy4B,GAnBiB1rB,EAASA,EAAO0rB,cAAWz4B,IAmBf65B,EAEjCx6B,EAAOC,QAAUm5B,eCpBjBp5B,EAAOC,QAJP,WACE,OAAO,oBCdT,IAAI26B,EAAmB,EAAQ,KAC3BC,EAAY,EAAQ,KACpBC,EAAW,EAAQ,KAGnBC,EAAmBD,GAAYA,EAASxB,aAmBxCA,EAAeyB,EAAmBF,EAAUE,GAAoBH,EAEpE56B,EAAOC,QAAUq5B,mBC1BjB,IAAIp5B,EAAa,EAAQ,GACrByD,EAAW,EAAQ,IACnB5B,EAAe,EAAQ,IA8BvBi5B,EAAiB,GACrBA,EAZiB,yBAYYA,EAXZ,yBAYjBA,EAXc,sBAWYA,EAVX,uBAWfA,EAVe,uBAUYA,EATZ,uBAUfA,EATsB,8BASYA,EARlB,wBAShBA,EARgB,yBAQY,EAC5BA,EAjCc,sBAiCYA,EAhCX,kBAiCfA,EApBqB,wBAoBYA,EAhCnB,oBAiCdA,EApBkB,qBAoBYA,EAhChB,iBAiCdA,EAhCe,kBAgCYA,EA/Bb,qBAgCdA,EA/Ba,gBA+BYA,EA9BT,mBA+BhBA,EA9BgB,mBA8BYA,EA7BZ,mBA8BhBA,EA7Ba,gBA6BYA,EA5BT,mBA6BhBA,EA5BiB,qBA4BY,EAc7Bh7B,EAAOC,QALP,SAA0BG,GACxB,OAAO2B,EAAa3B,IAClBuD,EAASvD,EAAM2D,WAAai3B,EAAe96B,EAAWE,kBC3C1DJ,EAAOC,QANP,SAAmB8E,GACjB,OAAO,SAAS3E,GACd,OAAO2E,EAAK3E,iCCThB,IAAIS,EAAa,EAAQ,GAGrB45B,EAA4Cx6B,IAAYA,EAAQy6B,UAAYz6B,EAG5E06B,EAAaF,GAA4Cz6B,IAAWA,EAAO06B,UAAY16B,EAMvFi7B,EAHgBN,GAAcA,EAAW16B,UAAYw6B,GAGtB55B,EAAWgS,QAG1CioB,EAAY,WACd,IAEE,IAAII,EAAQP,GAAcA,EAAWvuB,SAAWuuB,EAAWvuB,QAAQ,QAAQ8uB,MAE3E,OAAIA,GAKGD,GAAeA,EAAYE,SAAWF,EAAYE,QAAQ,QACjE,MAAOx5B,KAXI,GAcf3B,EAAOC,QAAU66B,mBC7BjB,IAAIh5B,EAAU,EAAQ,IA2CtB9B,EAAOC,QARP,WACE,IAAKuF,UAAUzB,OACb,MAAO,GAET,IAAI3D,EAAQoF,UAAU,GACtB,OAAO1D,EAAQ1B,GAASA,EAAQ,CAACA,MCvC/Bg7B,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqB36B,IAAjB46B,EACH,OAAOA,EAAat7B,QAGrB,IAAID,EAASo7B,EAAyBE,GAAY,CACjDE,GAAIF,EACJG,QAAQ,EACRx7B,QAAS,IAUV,OANAy7B,EAAoBJ,GAAU75B,KAAKzB,EAAOC,QAASD,EAAQA,EAAOC,QAASo7B,GAG3Er7B,EAAOy7B,QAAS,EAGTz7B,EAAOC,QAIfo7B,EAAoB9sB,EAAImtB,EC3BxBL,EAAoBvvB,EAAI,SAAS9L,GAChC,IAAI27B,EAAS37B,GAAUA,EAAOqK,WAC7B,WAAa,OAAOrK,EAAgB,SACpC,WAAa,OAAOA,GAErB,OADAq7B,EAAoB5rB,EAAEksB,EAAQ,CAAEjtB,EAAGitB,IAC5BA,GCLRN,EAAoB5rB,EAAI,SAASxP,EAAS27B,GACzC,IAAI,IAAIr4B,KAAOq4B,EACXP,EAAoBpsB,EAAE2sB,EAAYr4B,KAAS83B,EAAoBpsB,EAAEhP,EAASsD,IAC5E3C,OAAO2I,eAAetJ,EAASsD,EAAK,CAAEiG,YAAY,EAAM5D,IAAKg2B,EAAWr4B,MCJ3E83B,EAAoB5sB,EAAI,GAGxB4sB,EAAoB15B,EAAI,SAASk6B,GAChC,OAAOloB,QAAQoZ,IAAInsB,OAAOmH,KAAKszB,EAAoB5sB,GAAGqtB,QAAO,SAASC,EAAUx4B,GAE/E,OADA83B,EAAoB5sB,EAAElL,GAAKs4B,EAASE,GAC7BA,IACL,MCNJV,EAAoBW,EAAI,SAASH,GAEhC,OAAYA,EAAU,gBCHvBR,EAAoBpsB,EAAI,SAAS7E,EAAK6xB,GAAQ,OAAOr7B,OAAOQ,UAAUC,eAAeI,KAAK2I,EAAK6xB,ICC/FZ,EAAoBhtB,EAAI,SAASpO,GACX,oBAAXK,QAA0BA,OAAOI,aAC1CE,OAAO2I,eAAetJ,EAASK,OAAOI,YAAa,CAAEN,MAAO,WAE7DQ,OAAO2I,eAAetJ,EAAS,aAAc,CAAEG,OAAO,KCLvDi7B,EAAoBa,IAAM,SAASl8B,GAGlC,OAFAA,EAAOm8B,MAAQ,GACVn8B,EAAOo8B,WAAUp8B,EAAOo8B,SAAW,IACjCp8B,GxHCJF,EAAkB,CACrB,EAAG,GAmBJu7B,EAAoB5sB,EAAErC,QAAU,SAASyvB,EAASE,GAE7Cj8B,EAAgB+7B,IAhBF,SAASjrB,GAC3B,IAAIyrB,EAAczrB,EAAM0rB,QAASC,EAAW3rB,EAAM4rB,IAAKC,EAAU7rB,EAAM6rB,QACvE,IAAI,IAAInB,KAAYe,EAChBhB,EAAoBpsB,EAAEotB,EAAaf,KACrCD,EAAoB9sB,EAAE+sB,GAAYe,EAAYf,IAG7CmB,GAASA,EAAQpB,GACpB,IAAI,IAAItwB,EAAI,EAAGA,EAAIwxB,EAASx4B,OAAQgH,IACnCjL,EAAgBy8B,EAASxxB,IAAM,EAS9B2xB,CAAatwB,QAAQ,KAAOivB,EAAoBW,EAAEH,w6FyH3BrD,MAAMc,EAAUC,IAAAA,4BAAyC,IAAMA,IAAAA,eACzDC,EAAaD,IAAAA,yBAEbE,EAAqB,KACvB57B,OAAO67B,uBAAyB77B,OAAO67B,uBAAyB77B,OAAO67B,uBAAyB,GACzF77B,OAAO67B,wBAKLC,EAAmB,KAC5B,MAAMC,OAAgDt8B,IAArCm8B,IAAqBI,YAA4B,IAAMJ,IAAqBI,YAAc,GAC3G,OAAOP,EAAUM,GAkBRE,EAAqB,KAC9B,MAAMC,EAAS,GAEf,OADAA,EAAOP,GAAcG,IACdI,GC1BEC,EAPW,kBAOXA,EAND,MAMCA,EALG,UAKHA,EAJE,SAIFA,EAHQ,eAGRA,EAFa,2sBCAnB,SAASC,EAAcC,GAC1B,MAAsB,iBAARA,GAAoBhlB,SAASglB,GA6BxC,SAASC,EAAaD,GACzB,OAAOA,MAAAA,IAZX,SAAqBA,GAEjB,OAAOA,GAAQA,EAU8BE,CAAYF,GAG7D,SAASG,EAAgBr6B,EAAQs6B,GAC7B,IAAK,MAAMC,KAAYv6B,EACfzC,OAAOQ,UAAUC,eAAeI,KAAK4B,EAAQu6B,KACzC57B,MAAMF,QAAQuB,EAAOu6B,IACrBD,EAAaC,GAAYv6B,EAAOu6B,GAAU16B,MAAM,GACb,iBAArBG,EAAOu6B,IACrBD,EAAaC,GAAY,GACzBF,EAAgBr6B,EAAOu6B,GAAWD,EAAaC,KAE/CD,EAAaC,GAAYv6B,EAAOu6B,IAUhD,SAASC,EAAYj8B,EAAQsX,EAAO4kB,GAJpC,IAA+B19B,EAK3BwB,EAAOsX,QAJUvY,KADUP,EAKWwB,EAAOsX,IAJhB,GAAK9Y,EAKlC,IAAK,MAAMw9B,KAAYE,EAAU5kB,GACzBtY,OAAOQ,UAAUC,eAAeI,KAAKq8B,EAAU5kB,GAAQ0kB,KACvDh8B,EAAOsX,GAAO0kB,GAAYE,EAAU5kB,GAAO0kB,IAKhD,SAASG,EAAO3zB,EAAKsS,GACxB,IAAK,MAAMnZ,KAAOmZ,EACV9b,OAAOQ,UAAUC,eAAeI,KAAKib,EAAKnZ,KAC1C6G,EAAI7G,GAAOmZ,EAAInZ,IAIvB,OAAO6G,EAGJ,SAAS4zB,EAA2B59B,EAAO69B,EAAeC,GAC7D,IAAsC,IAAlCD,EAAcE,QAAQ/9B,GACtB,MAAM,IAAIiF,UAAU64B,GAExB,OAAO99B,EAoBJ,SAASg+B,EAA6BnxB,GACzC,GAAmB,iBAARA,EACP,MAAO,GAEX,IAAInJ,GAAS,EACb,MAAMu6B,EAAa,IAAI32B,OAAO,YAyC9B,OAxCwB,SAAlB42B,EAA2BC,GAC7B,IAAIn0B,EAAM,GACNyG,EAAS,GACb,OAAS/M,EAAQmJ,EAAIlJ,QAAQ,CACzB,MAAMy6B,EAAOvxB,EAAIwxB,OAAO36B,GACxB,OAAQ06B,GACR,IAAK,IAID,MAHe,KAAX3tB,IACAzG,EAAIyG,IAAU,GAEXzG,EACX,IAAK,IACc,KAAXyG,EACI0tB,EACAn0B,EAAMk0B,IAENA,KAGJl0B,EAAIyG,GAAUytB,IACdztB,EAAS,IAEb,MACJ,IAAK,IACc,KAAXA,IACAzG,EAAIyG,IAAU,GAElBA,EAAS,GACT,MACJ,QACQwtB,EAAWp7B,KAAKu7B,KAChB3tB,GAAU2tB,IAOtB,MAHe,KAAX3tB,IACAzG,EAAIyG,IAAU,GAEXzG,EAEJk0B,EAAgB,GAGpB,SAASpuB,EAAM7M,GAClB,MAAMs6B,EAAe,GAErB,OADAD,EAAgBr6B,EAAQs6B,GACjBA,EAGJ,MAAMe,EAAa,oDAEbC,EAAc,kEAEpB,SAASC,EAAUd,GAA+B,IAApBe,EAAoB,uDAAJ,GACjD,MAAMj9B,EAAS,EAAH,GAAQi9B,GACpB,IAAK,MAAM3lB,KAAS4kB,EACZl9B,OAAOQ,UAAUC,eAAeI,KAAKq8B,EAAW5kB,IAChD2kB,EAAYj8B,EAAQsX,EAAO4kB,GAGnC,OAAOl8B,yECxKX,MAAMk9B,EAAW,CACb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,UAAa,MAEjB,MAAS,aAEb,GAAM,CACF,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,OAAU,MAEd,MAAS,UAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,UAAa,MAEjB,MAAS,aAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,QAAS,KACT,MAAS,KACT,QAAW,MAEf,MAAS,WAEb,QAAS,CACL,SAAY,CACR,QAAS,KACT,MAAS,MAEb,MAAS,iBAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,QAAW,MAEf,MAAS,oBAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,MAAS,MAEb,MAAS,SAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,OAAU,MAEd,MAAS,UAEb,QAAS,CACL,SAAY,CACR,QAAS,KACT,MAAS,KACT,gBAAiB,MAErB,MAAS,mBAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,MAAS,MAEb,MAAS,SAEb,QAAS,CACL,SAAY,CACR,IAAO,KACP,IAAO,KACP,QAAS,KACT,MAAS,KACT,aAAc,MAElB,MAAS,uBAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,QAAW,KACX,QAAW,MAEf,MAAS,2BAEb,QAAS,CACL,SAAY,CACR,QAAS,KACT,MAAS,KACT,sBAAuB,MAE3B,MAAS,yBAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,aAAc,MAElB,MAAS,gBAEb,QAAS,CACL,SAAY,CACR,QAAS,KACT,MAAS,KACT,SAAY,MAEhB,MAAS,YAEb,QAAS,CACL,SAAY,CACR,QAAS,KACT,MAAS,KACT,OAAU,MAEd,MAAS,kBAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,QAAW,MAEf,MAAS,WAEb,QAAS,CACL,SAAY,CACR,QAAS,KACT,MAAS,KACT,kBAAmB,MAEvB,MAAS,qBAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,OAAU,MAEd,MAAS,UAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,OAAU,MAEd,MAAS,UAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,MAAS,MAEb,MAAS,SAEb,QAAS,CACL,SAAY,CACR,QAAS,KACT,MAAS,KACT,SAAY,MAEhB,MAAS,oBAEb,QAAS,CACL,SAAY,CACR,QAAS,KACT,MAAS,KACT,OAAU,MAEd,MAAS,mBAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,QAAS,KACT,MAAS,KACT,SAAY,MAEhB,MAAS,YAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,UAAa,MAEjB,MAAS,aAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,WAAc,MAElB,MAAS,cAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,QAAW,MAEf,MAAS,WAEb,QAAS,CACL,SAAY,CACR,QAAS,KACT,MAAS,KACT,OAAU,MAEd,MAAS,uBAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,QAAS,KACT,MAAS,KACT,QAAW,MAEf,MAAS,WAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,WAAc,MAElB,MAAS,cAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,MAAS,MAEb,MAAS,SAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,QAAS,KACT,MAAS,KACT,UAAa,MAEjB,MAAS,aAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,OAAU,MAEd,MAAS,UAEb,QAAS,CACL,SAAY,CACR,QAAS,KACT,MAAS,KACT,SAAY,MAEhB,MAAS,YAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,QAAW,MAEf,MAAS,WAEb,QAAS,CACL,SAAY,CACR,QAAS,KACT,MAAS,KACT,QAAW,MAEf,MAAS,WAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,OAAU,MAEd,MAAS,UAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,UAAa,MAEjB,MAAS,aAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,QAAW,MAEf,MAAS,WAEb,SAAU,CACN,SAAY,CACR,SAAU,KACV,OAAU,KACV,wBAAyB,MAE7B,MAAS,0BAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,QAAW,MAEf,MAAS,WAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,KAAQ,MAEZ,MAAS,QAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,QAAW,MAEf,MAAS,WAEb,QAAS,CACL,SAAY,CACR,QAAS,KACT,MAAS,KACT,UAAa,MAEjB,MAAS,aAEb,QAAS,CACL,SAAY,CACR,QAAS,KACT,MAAS,KACT,WAAc,MAElB,MAAS,yBAEb,IAAO,CACH,SAAY,CACR,IAAO,MAEX,MAAS,wBAEb,WAAY,CACR,SAAY,CACR,WAAY,MAEhB,MAAS,wCAEb,QAAS,CACL,SAAY,CACR,QAAS,KACT,MAAS,KACT,mBAAoB,MAExB,MAAS,oBAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,OAAU,MAEd,MAAS,UAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,UAAa,MAEjB,MAAS,aAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,gBAAiB,MAErB,MAAS,mBAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,WAAc,MAElB,MAAS,cAEb,aAAc,CACV,SAAY,CACR,aAAc,KACd,WAAc,MAElB,MAAS,mBAEb,aAAc,CACV,SAAY,CACR,aAAc,KACd,WAAc,MAElB,MAAS,oBAEb,QAAS,CACL,SAAY,CACR,GAAM,KACN,IAAO,KACP,QAAS,KACT,MAAS,KACT,aAAc,MAElB,MAAS,oBAEb,aAAgB,CACZ,MAAS,QACT,MAAS,4BAIJC,EAAU,CACnB,GAAMD,EAASE,GACf,QAASF,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,aAAgBA,EAASG,cAGhBC,EAAS,CAClB,IAAOJ,EAASK,IAChB,WAAYL,EAAS,YACrB,QAASA,EAAS,SAClB,GAAMA,EAASE,GACf,QAASF,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,aAAcA,EAAS,cACvB,aAAcA,EAAS,cACvB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,SAAUA,EAAS,UACnB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,aAAgBA,EAASG,cA4ChBG,EAAa,CACtB,GAAMN,EAASE,GACf,QAASF,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,QAASA,EAAS,SAClB,aAAgBA,EAASG,cCpqBtB,SAASI,EAAaj/B,GACzB,IAAKk/B,GAAAA,CAASl/B,KAAW+G,GAAAA,CAAW/G,GAChC,MAAM,IAAIiF,UAAU,uBAAwBjF,GAEhD,OAAOA,ECAJ,SAASm/B,EAAgBn/B,GAC5B,MAAMo/B,EAAWC,WAAWr/B,GAC5B,IAAKmY,SAASinB,GACV,MAAM,IAAIn6B,UAAU,6BAA+BjF,EAAQ,YAAcA,EAAQ,WAErF,OAAOo/B,ECVJ,SAASE,EAAoBtM,EAAQuM,GACxC,OAAQv/B,GAGG49B,EAA2B59B,EAAOgzB,EAFzB,aAAeuM,EAAY,yBAA2BvM,EAAS,UAAYhzB,EACvF,YAAcA,EAAQ,gBCYlC,MAAMw/B,EAAiB,CACnB,mCACA,6BACA,uBACA,sBACA,sBACA,mBACA,mBACA,kBACA,gBACA,gBACA,gBACA,gBACA,UACA,SAKEC,EAAY,CACd,yBACA,yBACA,oBACA,oBACA,0BACA,0BACA,0BACA,4CACA,4CACA,4CACA,iCACA,iCACA,iCACA,wBACA,kCACA,iCACA,kBACA,kBACA,kBACA,kBACA,kBACA,YACA,UACA,YACA,QACA,sBACA,kBACA,uCAKEC,EAAgB,CAClB,mBACA,mCACA,oCACA,oCACA,oCACA,oCACA,oCACA,mCACA,oCACA,oCACA,oCACA,oCACA,oCACA,uCACA,oCACA,oCACA,oCACA,oCACA,oCACA,+CACA,gDACA,iDACA,kDACA,gCACA,gCACA,oCAGEC,EAAgB,CAClB,MAAO,WAAY,KAAM,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACjG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,aAAc,aAAc,QAAS,QAAS,QAAS,QAAS,QACpG,QAAS,SAKPC,EAAY,CACd,SAAU,MAAO,SAAU,YAAa,8BACxC,MAAO,MAAO,MAAO,WAAY,UAG/BC,GAAiC,gwBAiCvC,SAASC,GAAcC,GACnB,OAAOA,EAAW5+B,WACbmD,MAAM,kGA6Bf,SAAS07B,GAAmBZ,EAAU7uB,EAAK2B,GACvC,OAAOiG,SAASinB,IAAaA,GAAY7uB,GAAO6uB,GAAYltB,EAGhE,SAAS+tB,GAAW13B,GAChB,OAAOA,EAAMoG,YAAYxN,WAAW48B,QAAQ,SAAW,EAE3D,SAASmC,GAAmBC,EAAWpU,GACnC,GAAIoU,EACA,MAAM,IAAIl7B,UAAU8mB,GAW5B,SAASqU,GAAepgC,GACpB,MAAMo/B,EAAWC,WAAWr/B,GAC5B,IAAKggC,GAAmBZ,GAAW,IAAK,KACpC,MAAM,IAAIn6B,UAAU,4CAChBjF,EAAQ,YAAcA,EAAQ,WAEtC,OAAOo/B,EAGX,SAASiB,GAAkBC,GAlC3B,IAA+BtgC,EA0C3B,OAPAkgC,IAnC2BlgC,EAmCesgC,IAlCnC9/B,OAAOQ,UAAUC,eAAeI,KAAKrB,EAAO,wBAC/CQ,OAAOQ,UAAUC,eAAeI,KAAKrB,EAAO,mBAkC5C,mCAAqCsgC,EACrC,YAAcA,EAAe,WAEjCC,GAAmBD,EAAaE,eAChCC,GAAyBH,EAAaI,qBAE/BJ,EAGX,SAASC,GAAmBC,GACxB,GAAIA,EAAc78B,OAAS,GACvB,MAAM,IAAI4H,MAAM,6DAOpB,OAJAi1B,EAAcpxB,SAAS4B,IACnB2vB,GAA+B3vB,MAG5BwvB,EAGX,SAASG,GAA+BC,GAnExC,IAA4C5gC,EAgFxC,OAZAkgC,IApEwClgC,EAoEe4gC,IAnEhDpgC,OAAOQ,UAAUC,eAAeI,KAAKrB,EAAO,gBAC/CQ,OAAOQ,UAAUC,eAAeI,KAAKrB,EAAO,2BAmE5C,gDAAkD4gC,EAClD,YAAcA,EAA4B,WAE9CV,IAAoBF,GAAmBY,EAA0BC,YAAa,EAAG3oB,OAAO4oB,WACpF,kCAAoCF,EAA0BC,YAC9D,YAAcD,EAA0BC,YAAc,WAE1DX,IAAoBF,GAAmBY,EAA0BG,sBAAuB,EAAG7oB,OAAO4oB,WAC9F,4CAA8CF,EAA0BG,sBACxE,YAAcH,EAA0BG,sBAAwB,WAE7DH,EAGX,SAASI,GAAwBC,GA9EjC,IAAqCjhC,EAsFjC,OAPAkgC,IA/EiClgC,EA+EeihC,IA9EzCzgC,OAAOQ,UAAUC,eAAeI,KAAKrB,EAAO,iBAC/CQ,OAAOQ,UAAUC,eAAeI,KAAKrB,EAAO,cA8E5C,yCAA2CihC,EAC3C,YAAcA,EAAqB,WAEvCC,GAAcD,EAAmBE,UACjCC,GAAkBH,EAAmBI,cAE9BJ,EAGX,SAASC,GAAcC,GAGnB,OAAOvD,EAA2BuD,EAAU1B,EAF5B,4DACZ0B,EAAW,YAAcA,EAAW,WAI5C,SAASC,GAAkBC,GAGvB,OAAOzD,EAA2ByD,EAAc3B,EAFhC,gEAChB2B,EAAe,YAAcA,EAAe,WAIhD,SAASZ,GAAyBC,GAC9B,GAAIA,EAAoB/8B,OAAS,GAC7B,MAAM,IAAI4H,MAAM,mEAOpB,OAJAm1B,EAAoBtxB,SAAS4B,IACzBgwB,GAAwBhwB,MAGrB0vB,EAGX,SAASY,GAActhC,GACnB,MAAMo/B,EAAWC,WAAWr/B,GAC5B,IAAKggC,GAAmBZ,GAAW,GAAI,IACnC,MAAM,IAAIn6B,UAAU,yCAA2CjF,EAAQ,YAAcA,EAAQ,WAEjG,OAAOo/B,EAGX,SAASmC,GAAwBC,GAC7B,IAAIC,EAAKC,EACT,GAAI9/B,MAAMF,QAAQ8/B,GAAQ,CACtB,GAAuB,IAAjBA,EAAM79B,QAAkD,IAAlC69B,EAAMvyB,OAAOkJ,UAAUxU,OAC/C,MAAM,IAAIsB,UAAU,uCAExBw8B,EAAMD,EAAM,GACZE,EAAMF,EAAM,OACT,CACH,IAAMrpB,SAASqpB,EAAMC,OAAStpB,SAASqpB,EAAME,OAAQvpB,SAASqpB,EAAMG,KAChE,MAAM,IAAI18B,UAAU,wCAExBw8B,EAAMD,EAAMC,IACZC,OAA2B,IAAdF,EAAME,IAAsBF,EAAME,IAAMF,EAAMG,IAG/D,KAAqB,iBAARF,GAAoBA,aAAevpB,WAC3B,iBAARwpB,GAAoBA,aAAexpB,QAC5C,MAAM,IAAIjT,UAAU,4DAGxBm7B,GAAesB,GACfJ,GAAcG,GAGlB,SAASG,GAAcp3B,EAASxK,GAC5B,IAAK,MAAMmD,KAAOqH,EACd,GAAIhK,OAAOQ,UAAUC,eAAeI,KAAKmJ,EAASrH,GAAM,CACpD,GAAI3C,OAAOQ,UAAUC,eAAeI,KAAKrB,EAAOmD,IAAQvB,MAAMF,QAAQ8I,EAAQrH,GAAK0+B,YAC/E,IAAK,MAAMC,KAAat3B,EAAQrH,GAAK0+B,WAC7B96B,GAAAA,CAAW+6B,KACX9hC,EAAMmD,GAAO2+B,EAAU9hC,EAAMmD,KAKzC,IAA8B,IAA1BqH,EAAQrH,GAAK4+B,WAAsBvhC,OAAOQ,UAAUC,eAAeI,KAAKrB,EAAOmD,GAC/E,MAAM,IAAIoI,MAAM,oBAAsBpI,IAMtD,SAAS6+B,GAAyBzxB,EAAK2B,EAAK+vB,EAAUC,GAClD,GAAIC,GAAAA,CAAM5xB,IAAQ4xB,GAAAA,CAAMjwB,GACpB,MAAM,IAAIjN,UAAU,sEAGxB,OAAO,SAASjF,GACZ,MAAMo/B,EAAWC,WAAWr/B,GAE5B,IAAKggC,GAAmBZ,EAAU7uB,EAAK2B,IAASgwB,IAAoBE,GAAAA,CAAUhD,GAC1E,MAAM,IAAIn6B,UAAUg9B,EAAW,SAAWjiC,EAAQ,YAAcA,EAAQ,WAG5E,OAAOo/B,GAIf,SAASiD,GAAsB9xB,EAAK2B,EAAK+vB,GACrC,OAAOD,GAAyBzxB,EAAK2B,EAAK+vB,GAAU,GAGxD,SAASK,GAAqBtiC,EAAO+rB,EAASwW,GAK1C,GAJIrD,GAAAA,CAASl/B,KACTA,EAAQA,EAAMoO,MAAM,MAGpBxM,MAAMF,QAAQ1B,IAAUA,EAAM2D,OAAS,EAAG,CAC1C,IAAK,IAAIgH,EAAI,EAAGA,EAAI3K,EAAM2D,OAAQgH,GAAK,EACnCizB,EAA2B59B,EAAM2K,GAAI43B,EAAcxW,GAGvD,OAAO/rB,EAAMwiC,KAAK,KAElB,MAAM,IAAIv9B,UAAU8mB,GAI5B,SAAS0W,GAAiBziC,EAAOu/B,GAC7B,IAAKO,GAAc9/B,GACf,MAAM,IAAIiF,UAAJ,mBAA0Bs6B,EAA1B,yEAIV,OAAOv/B,EAGJ,SAAS0iC,GAAW1iC,GACvB,GAAIk/B,GAAAA,CAASl/B,IAAU,wBAAwB6C,KAAK7C,GAChD,OAAOA,EAEP,MAAM,IAAIiF,UAAU,+EAChBjF,EAAQ,YAAcA,EAAQ,WAUnC,SAAS2iC,GAAK3iC,GACjB,MAAiB,UAAVA,GAA4B2xB,QAAQ3xB,GAUxC,SAAS4iC,GAAe5iC,GAC3B,MAAMo/B,EAAWC,WAAWr/B,GAC5B,IAAKoiC,GAAAA,CAAUhD,IAAaA,EAAW,EACnC,MAAM,IAAIn6B,UAAU,gEAChBjF,EAAQ,YAAcA,EAAQ,WAEtC,OAAOo/B,EAUJ,SAASyD,GAAgB7iC,GAC5B,MAAMo/B,EAAWC,WAAWr/B,GAC5B,IAAKoiC,GAAAA,CAAUhD,IAAaA,GAAY,EACpC,MAAM,IAAIn6B,UAAU,wDAChBjF,EAAQ,YAAcA,EAAQ,WAEtC,OAAOo/B,EAyCJ,SAAS0D,GAAoBC,GAkBhC,OAjBA7C,IA3TJ,SAA8B6C,GAC1B,OAAOviC,OAAOQ,UAAUC,eAAeI,KAAK0hC,EAAM,WAC9CviC,OAAOQ,UAAUC,eAAeI,KAAK0hC,EAAM,WAC3CviC,OAAOQ,UAAUC,eAAeI,KAAK0hC,EAAM,WAC3CviC,OAAOQ,UAAUC,eAAeI,KAAK0hC,EAAM,UAuT3BC,CAAqBD,GACrC,mCAAqCA,EAAO,YAAcA,EAAO,WAErE7C,IAAoBF,GAAmB+C,EAAKE,QAAS,GAAI,IACrD,+CAAiDF,EAAKE,OAAS,YAAcF,EAAKE,OAAS,WAE/F/C,IAAoBF,GAAmB+C,EAAKG,QAAS,GAAI,IACrD,+CAAiDH,EAAKG,OAAS,YAAcH,EAAKG,OAAS,WAE/FhD,IAAoBF,GAAmB+C,EAAKI,QAAS,IAAK,KACtD,gDAAkDJ,EAAKI,OAAS,YAAcJ,EAAKI,OAAS,WAEhGjD,IAAoBF,GAAmB+C,EAAKK,QAAS,IAAK,KACtD,gDAAkDL,EAAKK,OAAS,YAAcL,EAAKK,OAAS,WAEhGlD,GAnUJ,SAA6B6C,GACzB,OAAO1D,WAAW0D,EAAKG,SAAW7D,WAAW0D,EAAKE,SAAW5D,WAAW0D,EAAKK,SAAW/D,WAAW0D,EAAKI,QAkUrFE,CAAoBN,GAAO,0CAEvCA,EAgBJ,SAASO,GAAiB/yB,EAAK2B,GAClC,OAAO8vB,GAAyBzxB,EAAK2B,EAAK,yBAA2B3B,EAAM,KAAO2B,EAAM,iBAgBrF,SAASqxB,GAAkBhzB,EAAK2B,GACnC,OAAOmwB,GAAsB9xB,EAAK2B,EAAK,2BAA6B3B,EAAM,KAAO2B,EAAM,iBAUpF,SAAS/N,GAAOA,GACnB,IAAK+6B,GAAAA,CAAS/6B,GACV,MAAM,IAAIc,UAAU,6BAA+Bd,EAAS,YAAcA,EAAS,WAEvF,OAAOA,EA8CJ,SAASq/B,GAAYh3B,GACxB,IAAM0yB,GAAAA,CAAS1yB,IAA0B,IAAhBA,EAAK7I,QAAgC,IAAhB6I,EAAK7I,OAC/C,MAAM,IAAIsB,UAAU,0DAA4DuH,EAC5E,YAAcA,EAAO,WAE7B,OAAOA,EAUJ,SAASi3B,GAAaC,GACzB,MAAMC,EAAsBnjC,OAAOmH,KAAKi8B,GACxC,IAAK1E,GAAAA,CAASwE,IAAaC,EAAoB5F,QAAQ2F,GAAY,EAC/D,MAAM,IAAIz+B,UAAU,mDAAqD0+B,EACrE,SAAWD,EAAW,YAAcA,EAAW,WAEvD,OAAOA,EAUJ,SAASG,GAAW7jC,GACvBkgC,IAAoBhB,GAAAA,CAASl/B,IAAUigC,GAAWjgC,GAC9C,qIAC2DA,EAAQ,YAAcA,EAAQ,WAE7F,MAAM8jC,EAAc5E,GAAAA,CAASl/B,GAASA,EAAQA,EAAMwiC,OAKpD,OAJAtC,IAAoB4D,EAAYx/B,MAAM,oCAClC,qIAC2DtE,EAAQ,YAAcA,EAAQ,WAEtF8jC,EAUJ,SAASC,GAAa/jC,GAIzB,OAAOsiC,GAAqBtiC,EAHZ,2DACPA,EAAQ,YAAcA,EAAQ,UAEKw/B,GAUzC,SAASwE,GAAQhkC,GAIpB,OAAOsiC,GAAqBtiC,EAHZ,yDACPA,EAAQ,YAAcA,EAAQ,UAEK4/B,GAUzC,SAASqE,GAASjkC,GACrB,MAAMkkC,EAAiB,CACnB,QACA,gBACA,eAGEnY,EAAU,4DACP/rB,EAAQ,YAAcA,EAAQ,UAMvC,GAJIk/B,GAAAA,CAASl/B,KACTA,EAAQA,EAAMoO,MAAM,MAGpBxM,MAAMF,QAAQ1B,IAAUA,EAAM2D,OAAS,EAAG,CAC1C,IAAK,IAAIgH,EAAI,EAAGA,EAAI3K,EAAM2D,OAAQgH,GAAK,EACnCizB,EAA2B59B,EAAM2K,GAAIu5B,EAAgBnY,GAGzD,OAAO/rB,EAAMwiC,KAAK,KAGlB,MAAM,IAAIv9B,UAAU8mB,GA6GrB,SAASoY,GAAiBC,EAAYpkC,GACzCkgC,IAAoBhB,GAAAA,CAASl/B,IAAUigC,GAAWjgC,GAC9C,8HACoDA,EAAQ,YAAcA,EAAQ,WAEtF,MAAM8jC,EAAc5E,GAAAA,CAASl/B,GAASA,EAAQA,EAAMwiC,OACpD,OAAI4B,GAA8B,KAAhBN,GAGlB5D,IAAoB4D,EAAYx/B,MAAM,gCAClC,8HACoDtE,EAAQ,YAAcA,EAAQ,WAJ3EA,EAgBR,SAASwhC,GAAMxhC,GAElB,OA9mBJ,SAAsBwhC,GAClB,IAAKtC,GAAAA,CAASsC,KAAWlD,EAAWz7B,KAAK2+B,GACrC,MAAM,IAAIv8B,UAAU,4BAA8Bu8B,EAAQ,YAAcA,EAAQ,WA2mBpF6C,CAAarkC,GACNA,EAUJ,SAASskC,GAAetkC,GAC3B,OAAOqiC,GAAsB,EAAG,EAAG,sEAA5BA,CAAmGriC,GAUvG,SAASukC,GAAMvkC,GAClB,OAAOqiC,GAAsB,EAAG,IAAK,8DAA9BA,CAA6FriC,GAUjG,SAAS0K,GAAO1K,GACnB,OAAOqiC,GAAsB,EAAG,KAAM,gDAA/BA,CAAgFriC,GAsCpF,SAASwkC,GAAWxR,GACvB,MAAMyR,EAAmB,CACrB,UACA,qBACA,8BACA,6BACA,eACA,0BACA,gBACA,kBAEJ,IAAK,MAAMzkC,KAASgzB,EAAO5kB,MAAM,KAC7B,IAAyC,IAArCq2B,EAAiB1G,QAAQ/9B,GACzB,MAAM,IAAIiF,UAAJ,uBACcw/B,EADd,8BACoDzR,EADpD,oBACsEA,EADtE,YAKd,OAAOA,EAwBJ,SAAS6K,GAAc7K,EAAQuM,GAClC,OAAQv/B,IACJ,MAAM+rB,EAAU,aAAewT,EAAY,yCAA2CvM,EAClF,UAAYhzB,EAAQ,YAAcA,EAAQ,UAC9C,GAAIigC,GAAWjgC,GACX,MAAM,IAAIiF,UAAU,6BAA+BjF,EAAQ,aAAeA,EAAQ,WAEtF,IAAK,IAAI2K,EAAI,EAAGA,EAAI3K,EAAM2D,OAAQgH,GAAK,EACnCizB,EAA2B59B,EAAM2K,GAAIqoB,EAAQjH,GAEjD,OAAO/rB,GAgHR,SAAS0kC,GAAa1kC,GAIzB,GAHAkgC,GAAmBD,GAAWjgC,GAAQ,iDACtCA,EAAQ,YAAcA,EAAQ,aAE1BA,EAAM2D,OAAS,GAUf,MAAM,IAAIsB,UAAU,iDAAmDjF,EACnE,YAAcA,EAAQ,WAV1B,IAAK,IAAI2K,EAAI,EAAGA,EAAI3K,EAAM2D,OAAQgH,GAAK,EAAG,CACtC,MAAMg6B,EAAY3kC,EAAM2K,GACxBu1B,KAAoB1/B,OAAOQ,UAAUC,eAAeI,KAAKsjC,EAAW,UAC/DnkC,OAAOQ,UAAUC,eAAeI,KAAKsjC,EAAW,aAC/CnkC,OAAOQ,UAAUC,eAAeI,KAAKsjC,EAAW,aACjDnkC,OAAOQ,UAAUC,eAAeI,KAAKsjC,EAAW,YACrD,iDAAmD3kC,EAAQ,YAAcA,EAAQ,WAMzF,OAAOA,EA0CJ,SAAS4kC,GAAgB5kC,GAC5B,GAAIic,MAAMjc,KAAWoiC,GAAAA,CAAUpiC,MAAsB,MAAVA,GAAkBA,GAAS,GAAKA,GAAS,IAChF,MAAM,IAAIiF,UAAU,0FAIxB,OAAOjF,EAGJ,SAAS6kC,GAAW7kC,GACvB,OAAOyiC,GAAiBziC,EAAO,cAqCnC,MAAM8kC,GAAkB,CACpB,cACA,uBACA,uBACA,sBACA,2BACA,0BACA,kCACA,oBACA,+BACA,uBACA,0BACA,kBACA,4BACA,0BACA,2BACA,gCACA,wBACA,4BACA,uBACA,oBACA,wBACA,yBACA,kBACA,iBACA,yBACA,6BAGEC,GAAgB,CAClB,wBACA,yCACA,iCACA,mCACA,mCACA,4BACA,2BACA,uCAGG,SAASC,GAA2BhlC,GACvC,KAnVG,SAAqBiD,GACxB,GAAsB,iBAAXA,GAAuBA,EAAO0L,cAAgBnO,OACrD,MAAM,IAAIyE,UAAU,8BAAgChC,EAAS,aAAeA,EAAS,WAkVrFgiC,CAAYjlC,GAEZ,IAAK,MAAMklC,KAAgBllC,EACvB,GAAI8kC,GAAgBK,SAASD,GACzBE,GAAoBplC,EAAMklC,QACvB,KAAIH,GAAcI,SAASD,GAG9B,MAAM,IAAIjgC,UAAU,gEACpBjF,EAAQ,SAHRqlC,GAAiBrlC,EAAMklC,KAMjC,MAAOtyB,GACL,MAAM,IAAI3N,UAAJ,2CAAkD2N,EAAMmZ,UAGlE,OAAO/rB,EAGJ,SAASolC,GAAoBplC,GAChC,IAAKk/B,GAAAA,CAASl/B,GACV,MAAM,IAAIiF,UAAJ,wDAA+DjF,EAA/D,oBAAgFA,EAAhF,YAIV,GADyB,IAAIsH,OAAO,4BACfzE,KAAK7C,GACtB,MAAM,IAAIiF,UAAJ,6EAAoFjF,EAApF,WAIV,IAD0B,IAAIsH,OAAO,0CACdzE,KAAK7C,GACxB,MAAM,IAAIiF,UAAJ,+EAAsFjF,EAAtF,WAGV,OAAOA,EAGJ,SAASqlC,GAAiBrlC,GAC7B,IAAKk/B,GAAAA,CAASl/B,GACV,MAAM,IAAIiF,UAAJ,0DAAiEjF,EAAjE,oBAAkFA,EAAlF,YAIV,IAD0B,IAAIsH,OAAO,OACdzE,KAAK7C,GACxB,MAAM,IAAIiF,UAAJ,sEAA6EjF,EAA7E,WAGV,OAAOA,0BCzsCJ,MAAMslC,GAET32B,cAA0B,IAAdnE,EAAc,uDAAJ,GAClBlF,KAAKkF,QAAUA,EAGnB+6B,QAAQ19B,GACJ,OAAIvC,KAAKkgC,eAAe39B,GACbvC,KAAKmgC,cAAc59B,GAEvBvC,KAAKogC,wBAAwB79B,GAGxC29B,eAAe39B,GACX,GAAIjG,MAAMF,QAAQmG,GACd,OAAoB,IAAhBA,EAAKlE,QAAmC,iBAAZkE,EAAK,GAKzC,GAAIq3B,GAAAA,CAASr3B,GAAO,CAEhB,GADeA,EAAKuG,MAAM,KACfzK,QAAU,EACjB,OAAO,EAGf,OAAO,EAGX+hC,wBAAwB79B,GACpB,OAAIq3B,GAAAA,CAASr3B,GACFA,EAAKuG,MAAM,KAAK1F,IAAIpD,KAAKmgC,cAAc7xB,KAAKtO,OAEhDuC,EAAKa,IAAIpD,KAAKmgC,cAAc7xB,KAAKtO,OAG5CmgC,cAAcjE,GAGV,OAAIj8B,IAAAA,CAAIi8B,EAAO,QAAUj8B,IAAAA,CAAIi8B,EAAO,OACzBl8B,KAAKqgC,uBAAuBnE,EAAME,IAAKF,EAAMC,KAIpDl8B,IAAAA,CAAIi8B,EAAO,aAAej8B,IAAAA,CAAIi8B,EAAO,aAC9Bl8B,KAAKqgC,uBAAuBnE,EAAMoE,UAAWpE,EAAMqE,UAI1DtgC,IAAAA,CAAIi8B,EAAO,MAAQj8B,IAAAA,CAAIi8B,EAAO,KACvBl8B,KAAKqgC,uBAAuBnE,EAAMhzB,EAAGgzB,EAAMsE,GAIlDlkC,MAAMF,QAAQ8/B,IAA2B,IAAjBA,EAAM79B,OAC1B2B,KAAKkF,QAAQu7B,SACNzgC,KAAKqgC,uBAAuBnE,EAAM,GAAIA,EAAM,IAEhDl8B,KAAKqgC,uBAAuBnE,EAAM,GAAIA,EAAM,IAInDtC,GAAAA,CAASsC,GACFl8B,KAAK0gC,oBAAoBxE,GAG7BA,EAGXwE,oBAAoBxE,GAChB,MAAM9xB,EAAI8xB,EAAMpzB,MAAM,KAEtB,ICvFA,gCAAgCvL,KDuFP2+B,IAAuB,IAAb9xB,EAAE/L,OACjC,MAAM,IAAI4H,MAAM,2BAA6Bi2B,GAGjD,OAAIl8B,KAAKkF,QAAQu7B,SACNzgC,KAAKqgC,uBAAuBj2B,EAAE,GAAIA,EAAE,IAExCpK,KAAKqgC,uBAAuBj2B,EAAE,GAAIA,EAAE,IAG/Ci2B,uBAAuBC,EAAWC,GAC9B,IAAMD,GAA2B,IAAdA,IAAsBC,GAAyB,IAAbA,EACjD,MAAM,IAAIt6B,MAAM,4CAEpB,OAAIxE,GAAAA,CAAWzB,KAAKkF,QAAQy7B,sBACjB3gC,KAAKkF,QAAQy7B,qBAAqBL,EAAWC,GAEjD,CACHlE,IAAKtC,WAAWuG,GAChBnE,IAAKpC,WAAWwG,4BEvG5B,MAAMK,GAAc,IAAIZ,GAEXa,GAAyBC,IAC7BA,IAIDA,EAAKC,cACLD,EAAKC,YAAYC,cAAgBJ,GAAYX,QAAQa,EAAKC,YAAYC,eACtEF,EAAKC,YAAYE,aAAeL,GAAYX,QAAQa,EAAKC,YAAYE,eAErEH,EAAKI,WACLJ,EAAKI,SAASF,cAAgBJ,GAAYX,QAAQa,EAAKI,SAASF,eAChEF,EAAKI,SAASD,aAAeL,GAAYX,QAAQa,EAAKI,SAASD,eAE/DH,EAAKj2B,WACLi2B,EAAKj2B,SAAW+1B,GAAYX,QAAQa,EAAKj2B,WAEzCi2B,EAAKK,SAAWL,EAAKK,QAAQC,UAC7BN,EAAKK,QAAQC,QAAUR,GAAYX,QAAQa,EAAKK,QAAQC,YAyBnDC,GAAc9+B,IACvB,MAAM++B,EAAa,GACnBA,EAAWxL,GAAKvzB,EAAKuzB,GAEjBr7B,IAAAA,CAAS8H,IACTrH,OAAOmH,KAAKE,GAAMuH,SAAQ5C,IA1BP,EAACo6B,EAAYC,EAAc7mC,KAC7CmiC,GAAAA,CAAMniC,KACP4mC,EAAWC,GAAgB7mC,IAyBvB8mC,CAAYF,EAAYp6B,EAAM3E,EAAK2E,OAI3C,MAAMu6B,EAzBgB,EAACH,EAAYnlC,KAC5B,CACHA,KAAM,UACNulC,SAAU,CAACvlC,KAAAA,EAAMwlC,YAAa,IAC9BL,WAAYA,IAqBAM,CAAWN,EAAY,SAGvC,OAFAG,EAAQC,SAASC,YAAc,CAACp/B,EAAKsI,SAASwxB,IAAK95B,EAAKsI,SAASsxB,KAE1DsF,GAGEI,GAAat/B,IACtB,MAAMrG,EAvBC,CACHC,KAAM,oBACN2lC,SAAU,IAuBd,IAAK,IAAIz8B,EAAI,EAAGA,EAAI9C,EAAKw/B,QAAQ1jC,OAAQgH,IAAK,CAC1C,MAAMo8B,EAAUJ,GAAW9+B,EAAKw/B,QAAQ18B,IACxCnJ,EAAO4lC,SAAS/iC,KAAK0iC,GAEzB,OAAOvlC,GCrEX,SAAS8lC,GAAmBt2B,GACpBA,GAAWA,EAAQu2B,aAAe3lC,MAAMF,QAAQsP,EAAQu2B,cACxDv2B,EAAQu2B,YAAYn4B,SAAQo4B,IACxBrB,GAAsBqB,MAK3B,SAASC,GAAY5/B,GACxB,OAAKA,GAIDjG,MAAMF,QAAQmG,EAAKw/B,SACnBx/B,EAAKw/B,QAAQj4B,SAAQ5N,IACbI,MAAMF,QAAQF,GACdA,EAAO4N,SAAQnB,IACXk4B,GAAsBl4B,GACtBq5B,GAAmBr5B,OAGvBk4B,GAAsB3kC,GACtB8lC,GAAmB9lC,QAI3B2kC,GAAsBt+B,GACtBy/B,GAAmBz/B,IAGhBrH,OAAOmS,OAAO9K,EAAM,CACvBs/B,UAAW,IAAMA,GAAUt/B,MArBpBA,ECVR,SAAS6/B,GAAW7/B,GACvB,OAAKjG,MAAMF,QAAQmG,EAAK8/B,aAIxB9/B,EAAK8/B,WAAa9/B,EAAK8/B,WAAWj/B,KAAKk/B,GAC/BA,EAAUC,SAASj1B,MACZ,CAAEA,MAAOg1B,EAAUC,SAASj1B,OAE5B60B,GAAYG,EAAUC,YAI9BhgC,GAXI,KCHf,OACU,OADV,GAEU,OAFV,GAGW,QAHX,GAIW,QAJX,GAKY,iWCNL,SAASigC,GAAT,EAA6CC,GAAe,IAArC,KAAElgC,EAAF,WAAQ66B,GAA6B,EAC/D,MAAMsF,EAAsC,iBAATngC,EAAoB,CAAEA,KAAAA,qWAA7B,IAA2CA,GACjEogC,EAAkBF,EAAgBA,EAAclgC,GAAQmgC,EAG9D,OAFAC,EAAgBC,cAAgB,IAAMxF,GAAc,KAE7CuF,eCHJ,MAAME,GAAuB3L,IAAAA,0BACvB4L,GAAoB5L,IAAAA,uBAGpB6L,GAAsB7L,IAAAA,yBACtB8L,GAA0B9L,IAAAA,6BAC1B+L,GAA2B/L,IAAAA,8BAC3BgM,GAAkBhM,IAAAA,qBAClBiM,GAAyBjM,IAAAA,4BACzBkM,GAAmClM,IAAAA,sCACnCmM,GAA4BnM,IAAAA,+BAC5BoM,GAAiBpM,IAAAA,oBACjBqM,GAAsCrM,IAAAA,yCACtCsM,GAActM,IAAAA,iBACduM,GAAwBvM,IAAAA,2BACxBwM,GAAuBxM,IAAAA,0BACvByM,GAAiCzM,IAAAA,oCACjC0M,GAAuB1M,IAAAA,0BACvB2M,GAAwB3M,IAAAA,2BACxB4M,GAA+B5M,IAAAA,kCAC/B6M,GAAyC7M,IAAAA,4CACzC8M,GAAoB9M,IAAAA,uBAGpB+M,GAAkB/M,IAAAA,qBAClBgN,GAAkChN,IAAAA,qCAClCiN,GAA4BjN,IAAAA,+BAC5BkN,GAAuBlN,IAAAA,0BACvBmN,GAA2BnN,IAAAA,8BAC3BoN,GAAwBpN,IAAAA,2BACxBqN,GAA4BrN,IAAAA,+BAC5BsN,GAAmCtN,IAAAA,sCACnCuN,GAAgCvN,IAAAA,mCAGhCwN,GAA4BxN,IAAAA,+BAC5ByN,GAA2BzN,IAAAA,8BAC3B0N,GAA0B1N,IAAAA,6BAC1B2N,GAA0B3N,IAAAA,6BAG1B4N,GAAuB5N,IAAAA,0BACvB6N,GAAsC7N,IAAAA,yCACtC8N,GAAsC9N,IAAAA,yCACtC+N,GAAoB/N,IAAAA,uBAEpBgO,GAAyBhO,IAAAA,yBACzB78B,GAAS68B,IAAAA,OCyBf,MAAMiO,GACT97B,YAAY+7B,QACmCnqC,KAAvCmqC,MAAAA,OAAA,EAAAA,EAAmB5F,mBACnBx/B,KAAKqlC,iBAAmB3F,GAA2B0F,EAAkB5F,uBAEjCvkC,KAApCmqC,MAAAA,OAAA,EAAAA,EAAmBE,gBACnBtlC,KAAKulC,cAAgBzF,GAAoBsF,EAAkBE,cAC3DtlC,KAAKulC,cAAgBvlC,KAAKulC,cAAcloC,QAAQ,IAAI2E,OAAO,OAAQ,KAI3EqM,QAAQuxB,GAAc,MAClB,QAA8C3kC,KAA1C,UAAA+E,KAAKqlC,wBAAL,eAAwBzF,IACxB,OAAO5/B,KAAKqlC,iBAAiBzF,GAGjC,MAAM4F,EAAkBC,EAAiB7F,GACzC,YAA2B3kC,IAAvB+E,KAAKulC,cACEvlC,KAAK0lC,cAAcF,EAAiBxlC,KAAKulC,eAG7CC,EAGXE,cAAcC,EAAaC,GACvB,OAAOD,EAAYtoC,QAAQooC,GAAyBG,ICnG7C,MAAMC,WAAwB5/B,MACzCoD,YAAYy8B,GAAmB,2BAARv4B,EAAQ,iCAARA,EAAQ,kBAC3B6kB,SAAS7kB,GAGLtH,MAAMygB,mBACNzgB,MAAMygB,kBAAkB1mB,KAAM6lC,IAElC,IAAIE,EAA4B,KAChCD,EAAOh8B,SAAQ4B,IACXq6B,GAA6Br6B,EAAQ+a,QAAU,QAGnDzmB,KAAK8lC,OAASA,EACd9lC,KAAKymB,QAAU,8BAAgCsf,GCZvD,MAAMC,GAAY,kCAEH,MAAMC,GACjB58B,YAAY,GAAmE,IAAnE,WAACkzB,EAAD,WAAa2J,EAAb,SAAyBzJ,EAAzB,aAAmClD,EAAnC,gBAAiD4M,GAAkB,EAC3EjrC,OAAOmS,OAAOrN,KAAM,CAACu8B,WAAAA,EAAY2J,WAAAA,EAAYzJ,SAAAA,EAAUlD,aAAAA,EAAc4M,gBAAAA,IAErEnmC,KAAKomC,kBAGTC,oBAAoBpjC,GAChB,IAAK3G,MAAMF,QAAQ6G,GACf,OAAO,EAGX,IAAK,IAAIoC,EAAI,EAAGA,EAAIpC,EAAM5E,OAAQgH,IAC9B,IAAK5D,GAAAA,CAAWwB,EAAMoC,IAClB,OAAO,EAIf,OAAO,EAGX+gC,kBACI,GAAwB,OAApBpmC,KAAKu8B,YAAwBv8B,KAAKu8B,aAAev8B,KAAKqmC,oBAAoBrmC,KAAKu8B,YAC/E,MAAM,IAAIt2B,MAAM,6CAEpB,GAAwB,OAApBjG,KAAKkmC,YAAwBlmC,KAAKkmC,aAAelmC,KAAKqmC,oBAAoBrmC,KAAKkmC,YAC/E,MAAM,IAAIjgC,MAAM,6CAEpB,QAAwBhL,IAAlB+E,KAAKy8B,UAAmD,kBAAlBz8B,KAAKy8B,SAC7C,MAAM,IAAIx2B,MAAM,+BAEpB,GAAIjG,KAAKmmC,kBACJvzB,OAAO+D,MAAM9Q,KAAKygC,MAAMtmC,KAAKmmC,oBAAsBH,GAAUzoC,KAAKyC,KAAKmmC,kBACxE,MAAM,IAAIlgC,MAAM,6CAIxBsgC,kBACI,OAAI9kC,GAAAA,CAAWzB,KAAKu5B,cACTv5B,KAAKu5B,eAGTv5B,KAAKu5B,aAGhBiN,gBACI,OAAOxmC,KAAKkmC,WAAalmC,KAAKkmC,WAAa,GAG/CO,gBACI,OAAOzmC,KAAKu8B,WAAav8B,KAAKu8B,WAAa,GAG/CmK,qBACI,OAAO1mC,KAAKmmC,gBAGhBQ,aACI,OAAyB,IAAlB3mC,KAAKy8B,UCbpB,WA9CA,MACIpzB,cACIrJ,KAAK4mC,IAAM,GAGfC,cAAcC,EAAa5/B,GACvB,MAAM6/B,EAAa/mC,KAAK4mC,IAAIE,GAC5B,QAAIC,GACOA,EAAW7/B,GAM1B8/B,QAAQF,EAAa5/B,GACjBlH,KAAK4mC,IAAIE,GAAe9mC,KAAK4mC,IAAIE,IAAgB,GACjD9mC,KAAK4mC,IAAIE,GAAa5/B,IAAQ,EAGlC+/B,gBAAgB//B,EAAMggC,EAAMJ,GACxB,MAAMK,EAAoBthC,KAAKC,MAAQD,KAAKygC,MAAMY,GAC5CE,EAAiC,YAAhBN,EAAA,mBAAwCA,EAAxC,MAA0D,GAE7EK,EACAE,QAAQ/5B,MAAM,+CAAwCpG,EAAxC,aAAiDkgC,EAAjD,iMAIdC,QAAQC,KAAK,8CAAuCpgC,EAAvC,aAAgDkgC,EAAhD,gCACHF,EADG,yDAET,mGAKZK,iBAAiBrgC,EAAMggC,GAA+B,IAAzBJ,EAAyB,uDAAX,UACnCjK,GAAAA,CAAM31B,IAAS21B,GAAAA,CAAMqK,IAASlnC,KAAK6mC,cAAcC,EAAa5/B,KAIlElH,KAAKinC,gBAAgB//B,EAAMggC,EAAMJ,GACjC9mC,KAAKgnC,QAAQF,EAAa5/B,mgCClClC,MAAMsgC,GAAgB,CAAC9sC,EAAO6hC,EAAYhvB,EAAQ1P,KAC9C,MAAMioC,EAAS,GAEf,IAAK,MAAMtJ,KAAaD,EACpB,IACIC,EAAU9hC,EAAO6S,EAAQ1P,GAC3B,MAAOyP,GACLw4B,EAAO/mC,KAAKuO,GAGpB,OAAOw4B,GAGL2B,GAAmBC,IACrB,MAAMC,EAAkB,GACxB,IAAK,MAAO9pC,EAAK2V,KAAUtY,OAAOwF,QAAQgnC,GACtCC,EAAgB9pC,GAAO,IAAIooC,GAAMzyB,GAErC,OAAOm0B,GAGLC,GAAoB,SAACF,GAAqC,IAA7Bn6B,EAA6B,uDAApB,GAAIu5B,EAAgB,uCAC5D,MAAMa,EAAkBF,GAAgBC,GACxC,IAAI5B,EAAS,GACb,IAAK,MAAO5+B,EAAMsM,KAAUtY,OAAOwF,QAAQinC,GAAkB,CACzD,MAAMjtC,EAAQ6S,EAAOrG,GAEf2gC,EAA2B,UAAT3gC,EAExB,GAH+B21B,GAAAA,CAAMniC,IAAU8Y,EAAMmzB,aAIjDb,EAAO/mC,KAAK,IAAIkH,MAAJ,UAAaiB,EAAb,gCACT,IAAK21B,GAAAA,CAAMniC,IAAUmtC,EAAiB,CACzCC,GAAmBP,iBAAiBrgC,EAAMsM,EAAMkzB,qBAAsBI,GAEtE,MAAMiB,EAAmBP,GAAc9sC,EAAO8Y,EAAMizB,gBAAiBl5B,EAAQrG,GAC7E4+B,EAAS,IAAIA,KAAWiC,IAGhC,OAAOjC,GAcE7F,GAAU,SAACyH,GAAqC,IAA7Bn6B,EAA6B,uDAApB,GAAIy6B,EAAgB,uCACzD,MAAML,EAAkBF,GAAgBC,GAClCO,EAAY,GAClB,IAAK,MAAO/gC,EAAMsM,KAAUtY,OAAOwF,QAAQinC,GAAkB,CACzD,MAAMpO,EAAe/lB,EAAM+yB,kBAC3B,IAAI2B,EAAa36B,EAAOrG,GACxB,GAAI21B,GAAAA,CAAMqL,IAA8B,KAAfA,EAAmB,CACxC,GAAKrL,GAAAA,CAAMtD,GAGP,SAFA2O,EAAa3O,EAKrB,MAAM2M,EAAa1yB,EAAMgzB,gBACzByB,EAAU/gC,GAAQg/B,EAAW9P,QAAO,CAAC17B,EAAOytC,IACjCA,EAAUztC,EAAOstC,IACzBE,GAEP,OAAOD,GAgBX,SAASG,GAAkBV,EAAQn6B,EAAQy6B,EAAalB,GACpD,MAAMuB,EAAkB,GACxB,IAAIC,EAAc,GAElB,GAAIZ,EAAOrF,YAAc90B,EAAO80B,aAC5BgG,EAAgBhG,WAAa90B,EAAO80B,WAAWj/B,KAAKmlC,IAChD,MAAMC,EAAiBvI,GAAQyH,EAAOrF,WAAYkG,EAAOP,GAEzD,OADAM,EAAcA,EAAYG,OAAOb,GAAkBF,EAAOrF,WAAYmG,EAAgB1B,IAC/E0B,KAEPj7B,EAAOm7B,YACPL,EAAgBK,UACZ1O,EAAoB,CAAC,OAAQ,QAAS,YAAa,YAAnDA,CAAgEzsB,EAAOm7B,YAE3En7B,EAAO1P,MACPwqC,EAAgBxqC,IAAM87B,EAAapsB,EAAO1P,MAE9CwqC,EAAgBjL,WAAa7vB,EAAO6vB,WAAauL,GAAmBp7B,EAAO6vB,aAAct2B,EAAAA,GAAAA,MACrFyG,EAAO+xB,iBAAiB,CAGxB,GAFAzF,EAAgBtsB,EAAO+xB,mBAEU,MAA3B/xB,EAAO+xB,iBAA4B/xB,EAAO+xB,iBAAmB,GAAK/xB,EAAO+xB,iBAAmB,IAC9F,MAAM,IAAIr5B,MAAM,0FAIpBoiC,EAAgB/I,gBAAkB/xB,EAAO+xB,gBAIjD,MAAO,CAAE+I,gBAAAA,EAAiBC,YAAAA,GAmBvB,SAAeM,GAAtB,+DAAO,UAA2BlB,GAAsE,IAA9Dn6B,EAA8D,uDAArD,GAAIy6B,EAAiD,uCAApClB,EAAoC,uCAAvB91B,EAAuB,uCAAb63B,EAAa,uCAChGZ,EAAYhI,GAAQyH,EAAQn6B,EAAQy6B,GACpClC,EAAS8B,GAAkBF,EAAQO,EAAWnB,GAElD,GAAIY,EAAOrF,YAAc90B,EAAO80B,WAAY,CACxC,MAAM,gBAAEgG,EAAF,YAAmBC,GAAgBF,GAAkBV,EAAQn6B,EAAQy6B,EAAalB,GACxFmB,EAAY,SAAKA,GAAcI,GAC/BvC,EAASA,EAAO2C,OAAOH,GAG3B,GAAIxC,EAAOznC,OACP,MAAM,IAAIwnC,GAAgBC,GAE9B,OAAO90B,EAASi3B,EAAWY,+BC3JxB,SAASC,GAAepB,EAAQM,EAAalB,EAAaiC,EAAmBC,GAChF,MAAMC,EAAc,CAChB5G,WAAYqF,GAGhB,OAAO,WAA0C,IAAzCxiC,EAAyC,uDAA/B,GAAIkgC,EAA2B,uDAAP,GAClC8D,EAAcH,EACdI,EAAMjkC,EACNkkC,EAAgB1B,EAcpB,OAZIxiC,EAAQm9B,YAAc5gC,GAAAA,CAAWunC,KACjCG,EAAM,CACF/L,WAAYl4B,EAAQk4B,WACpBsL,UAAWxjC,EAAQwjC,UACnBpJ,gBAAiBp6B,EAAQo6B,gBACzB+C,WAAYn9B,EAAQm9B,WACpBxkC,IAAKqH,EAAQrH,KAEjBqrC,EAAcF,EACdI,EAAgBH,GAGbL,GACHQ,EACAD,EACAnB,EACAlB,EACAoC,EACA9D,EAAkByD,sCC5Bf,YAASQ,EAAU3b,GAC9B,OAAO2b,EAAShsC,QAAQ,qBAAqB,CAACisC,EAAGzrC,KAC7C,IAAInD,EAAQgzB,EAAO7vB,GAEnB,OAAI0rC,IAAAA,CAAY7uC,GACL,IAAMmD,EAAM,KAGnB4D,GAAAA,CAAW/G,KACXA,EAAQA,EAAMmD,IAGH,UAARA,EAAkB4J,mBAAmB/M,GAASA,MCf7D,IAAI,GAA+BgM,QAAQ,aCAvC,GAA+BA,QAAQ,cCAvC,GAA+BA,QAAQ,aCAvC,GAA+BA,QAAQ,eCAvC,GAA+BA,QAAQ,eCmD3C,OA5CO,SAAyB8iC,GAC5B,IAAK,UAAUjsC,KAAKisC,GAChB,MAAM,IAAI7pC,UAAU,oEAKxB,MAAM8pC,GAFND,EAAMA,EAAInsC,QAAQ,SAAU,KAELo7B,QAAQ,KAC/B,IAAoB,IAAhBgR,GAAqBA,GAAc,EACnC,MAAM,IAAI9pC,UAAU,uBAGxB,MAAM+pC,EAAOF,EAAIG,UAAU,EAAGF,GAAY3gC,MAAM,KAChD,IAAI8gC,EAAU,GACVC,GAAS,EACb,MAAM1tC,EAAOutC,EAAK,IAAM,aACxB,IAAII,EAAW3tC,EACf,IAAK,IAAIkJ,EAAI,EAAGA,EAAIqkC,EAAKrrC,OAAQgH,IACb,WAAZqkC,EAAKrkC,GACLwkC,GAAS,GAGTC,GAAY,IAAIJ,EAAKrkC,KACe,IAAhCqkC,EAAKrkC,GAAGozB,QAAQ,cAChBmR,EAAUF,EAAKrkC,GAAGskC,UAAU,KAKnCD,EAAK,IAAOE,EAAQvrC,SACrByrC,GAAY,oBACZF,EAAU,YAGd,MAAMG,EAAWF,EAAS,SAAW,QAC/BtnC,EAAOiF,SAASgiC,EAAIG,UAAUF,EAAa,IAC3Ct+B,EAASnD,OAAOC,KAAK1F,EAAMwnC,GAMjC,OAJA5+B,EAAOhP,KAAOA,EACdgP,EAAO2+B,SAAWA,EAElB3+B,EAAOy+B,QAAUA,EACVz+B,GCjDP,GAA+BzE,QAAQ,+BCApC,MAAMsjC,WAAuB/jC,MACnCoD,YAAYod,EAAStqB,GACpBi2B,MAAM3L,GAENxgB,MAAMygB,kBAAkB1mB,KAAMA,KAAKqJ,aAEnCrJ,KAAK7D,KAAOA,EAGT+K,WACH,OAAOlH,KAAKqJ,YAAYnC,KAGblM,IAAPJ,OAAOI,eACX,OAAOgF,KAAKqJ,YAAYnC,MCJnB,MAAM+iC,WAAmBD,GAM/B3gC,YAAYod,EAAStqB,EAAM+tC,GAC1B9X,MAAM3L,EAAStqB,GAEX+tC,IAEHlqC,KAAKmqC,KAAOnqC,KAAKoqC,MAAQF,EAAYC,KACrCnqC,KAAKqqC,eAAiBH,EAAYI,UChBrC,MAAMC,GAAO3vC,OAAOI,YAQPwvC,GAAwB7sC,GAEjB,iBAAXA,GACkB,mBAAlBA,EAAO8L,QACW,mBAAlB9L,EAAO+L,QACQ,mBAAf/L,EAAOuC,KACW,mBAAlBvC,EAAOkM,QACQ,mBAAflM,EAAOsC,KACQ,mBAAftC,EAAOwC,KACS,mBAAhBxC,EAAO8sC,MACG,oBAAjB9sC,EAAO4sC,IASIG,GAAS/sC,GAEpBA,GACkB,iBAAXA,GACuB,mBAAvBA,EAAOyN,aACS,iBAAhBzN,EAAOxB,MACW,mBAAlBwB,EAAO+M,QACgB,mBAAvB/M,EAAO0L,aACd,gBAAgB9L,KAAKI,EAAO4sC,KCvBxBI,IAAW,KAAAC,WAAU,aACrBC,GAAYjwC,OAAO,kBAWV,MAAMkwC,GACpBzhC,YAAY0hC,GAAM,KACjBxrC,EAAO,GACJ,IACH,IAAIyrC,EAAW,KAEF,OAATD,EAEHA,EAAO,KACGP,GAAsBO,GAEhCA,EAAO,GAAA/iC,OAAA,KAAY+iC,EAAKlvC,YACd6uC,GAAOK,IAEP,GAAA/iC,OAAA,SAAgB+iC,KAEhB,GAAAvV,MAAA,iBAAuBuV,GAEjCA,EAAO,GAAA/iC,OAAA,KAAY+iC,GACTpgC,YAAYC,OAAOmgC,GAE7BA,EAAO,GAAA/iC,OAAA,KAAY+iC,EAAK5/B,OAAQ4/B,EAAKjgC,WAAYigC,EAAK//B,YAC5C+/B,aAAgB,KAEhBA,aAAgB,GAAA3hC,SAG1B4hC,GADAD,GAAO,KAAA/gC,gBAAe+gC,IACN5uC,KAAK2M,MAAM,KAAK,GAIhCiiC,EAAO,GAAA/iC,OAAA,KAAY6D,OAAOk/B,MAG3B,IAAIrgC,EAASqgC,EAET,GAAA/iC,OAAA,SAAgB+iC,GACnBrgC,EAAS,iBAAqBqgC,GACpBL,GAAOK,KACjBrgC,EAAS,iBAAqBqgC,EAAKrgC,WAGpC1K,KAAK6qC,IAAa,CACjBE,KAAAA,EACArgC,OAAAA,EACAsgC,SAAAA,EACAC,WAAW,EACX39B,MAAO,MAERtN,KAAKT,KAAOA,EAERwrC,aAAgB,IACnBA,EAAKG,GAAG,SAASC,IAChB,MAAM79B,EAAQ69B,aAAkBnB,GAC/BmB,EACA,IAAIlB,GAAW,+CAA+CjqC,KAAKorC,QAAQD,EAAO1kB,UAAW,SAAU0kB,GACxGnrC,KAAK6qC,IAAWv9B,MAAQA,KAKvBy9B,WACH,OAAO/qC,KAAK6qC,IAAWngC,OAGpB2gC,eACH,OAAOrrC,KAAK6qC,IAAWI,UAQxB5gC,oBACC,MAAM,OAACc,EAAM,WAAEL,EAAU,WAAEE,SAAoBsgC,GAAYtrC,MAC3D,OAAOmL,EAAO3N,MAAMsN,EAAYA,EAAaE,GAG9CX,iBACC,MAAMkhC,EAAKvrC,KAAKwrC,QAAQtrC,IAAI,gBAE5B,GAAIqrC,EAAGE,WAAW,qCAAsC,CACvD,MAAMC,EAAW,IAAI,GAAAtiC,SACfuiC,EAAa,IAAIC,sBAAsB5rC,KAAK6rC,QAElD,IAAK,MAAO3kC,EAAMxM,KAAUixC,EAC3BD,EAASjiC,OAAOvC,EAAMxM,GAGvB,OAAOgxC,EAGR,MAAM,WAACI,SAAoB,2BAC3B,OAAOA,EAAW9rC,KAAK+qC,KAAMQ,GAQ9BlhC,aACC,MAAMkhC,EAAMvrC,KAAKwrC,SAAWxrC,KAAKwrC,QAAQtrC,IAAI,iBAAqBF,KAAK6qC,IAAWE,MAAQ/qC,KAAK6qC,IAAWE,KAAK5uC,MAAS,GAClHgJ,QAAYnF,KAAKoL,cAEvB,OAAO,IAAI,WAAK,CAACjG,GAAM,CACtBhJ,KAAMovC,IASRlhC,aACC,MAAMwhC,QAAa7rC,KAAK6rC,OACxB,OAAOE,KAAKzF,MAAMuF,GAQnBxhC,aACC,MAAMc,QAAemgC,GAAYtrC,MACjC,OAAO,IAAI+L,aAAcC,OAAOb,GAQjCA,SACC,OAAOmgC,GAAYtrC,OA0BrBqK,eAAeihC,GAAY/oC,GAC1B,GAAIA,EAAKsoC,IAAWI,UACnB,MAAM,IAAItrC,UAAU,0BAA0B4C,EAAK6oC,OAKpD,GAFA7oC,EAAKsoC,IAAWI,WAAY,EAExB1oC,EAAKsoC,IAAWv9B,MACnB,MAAM/K,EAAKsoC,IAAWv9B,MAGvB,MAAM,KAACy9B,GAAQxoC,EAGf,GAAa,OAATwoC,EACH,OAAO,GAAA/iC,OAAA,MAAa,GAIrB,KAAM+iC,aAAgB,IACrB,OAAO,GAAA/iC,OAAA,MAAa,GAKrB,MAAMgkC,EAAQ,GACd,IAAIC,EAAa,EAEjB,IACC,UAAW,MAAM/gC,KAAS6/B,EAAM,CAC/B,GAAIxoC,EAAKhD,KAAO,GAAK0sC,EAAa/gC,EAAM7M,OAASkE,EAAKhD,KAAM,CAC3D,MAAM+N,EAAQ,IAAI28B,GAAW,mBAAmB1nC,EAAK6oC,mBAAmB7oC,EAAKhD,OAAQ,YAErF,MADAwrC,EAAKmB,QAAQ5+B,GACPA,EAGP2+B,GAAc/gC,EAAM7M,OACpB2tC,EAAMjtC,KAAKmM,IAEX,MAAOoC,GAER,MADeA,aAAiB08B,GAAiB18B,EAAQ,IAAI28B,GAAW,+CAA+C1nC,EAAK6oC,QAAQ99B,EAAMmZ,UAAW,SAAUnZ,GAIhK,IAA2B,IAAvBy9B,EAAKoB,gBAAwD,IAA9BpB,EAAKqB,eAAeC,MAWtD,MAAM,IAAIpC,GAAW,4DAA4D1nC,EAAK6oC,OAVtF,IACC,OAAIY,EAAMM,OAAMrjC,GAAkB,iBAANA,IACpB,GAAAjB,OAAA,KAAYgkC,EAAM9O,KAAK,KAGxB,GAAAl1B,OAAA,OAAcgkC,EAAOC,GAC3B,MAAO3+B,GACR,MAAM,IAAI28B,GAAW,kDAAkD1nC,EAAK6oC,QAAQ99B,EAAMmZ,UAAW,SAAUnZ,IA1ElHw9B,GAAKpvC,UAAUyP,QAAS,KAAAohC,WAAUzB,GAAKpvC,UAAUyP,OAAQ,qEAA0E,qBAGnIjQ,OAAOgS,iBAAiB49B,GAAKpvC,UAAW,CACvCqvC,KAAM,CAACjnC,YAAY,GACnBunC,SAAU,CAACvnC,YAAY,GACvBsH,YAAa,CAACtH,YAAY,GAC1BmJ,KAAM,CAACnJ,YAAY,GACnB0oC,KAAM,CAAC1oC,YAAY,GACnB+nC,KAAM,CAAC/nC,YAAY,GACnBvB,KAAM,CAACrC,KAAK,KAAAqsC,YAAU,QACrB,yEACA,sEA4EK,MAAM,GAAQ,CAACE,EAAUjvB,KAC/B,IAAIkvB,EACAC,GACA,KAAC5B,GAAQ0B,EAAS5B,IAGtB,GAAI4B,EAASpB,SACZ,MAAM,IAAIplC,MAAM,sCAgBjB,OAXK8kC,aAAgB,IAAwC,mBAArBA,EAAK6B,cAE5CF,EAAK,IAAI,GAAAG,YAAY,CAACrvB,cAAAA,IACtBmvB,EAAK,IAAI,GAAAE,YAAY,CAACrvB,cAAAA,IACtButB,EAAK+B,KAAKJ,GACV3B,EAAK+B,KAAKH,GAEVF,EAAS5B,IAAWngC,OAASgiC,EAC7B3B,EAAO4B,GAGD5B,GAGFgC,IAA6B,KAAAR,YAClCxB,GAAQA,EAAK6B,eACb,4FACA,wDAaYI,GAAqB,CAACjC,EAAM/tB,IAE3B,OAAT+tB,EACI,KAIY,iBAATA,EACH,2BAIJP,GAAsBO,GAClB,kDAIJL,GAAOK,GACHA,EAAK5uC,MAAQ,KAIjB,GAAA6L,OAAA,SAAgB+iC,IAAS,GAAAvV,MAAA,iBAAuBuV,IAASpgC,YAAYC,OAAOmgC,GACxE,KAGJA,aAAgB,GAAA3hC,SACZ,iCAAiC4T,EAAQ6tB,IAAWG,WAIxDD,GAAoC,mBAArBA,EAAK6B,YAChB,gCAAgCG,GAA2BhC,KAI/DA,aAAgB,GACZ,KAID,2BC5UFkC,GAAwD,mBAA5B,sBACjC,sBACA/lC,IACC,IAAK,0BAA0B3J,KAAK2J,GAAO,CAC1C,MAAMoG,EAAQ,IAAI3N,UAAU,2CAA2CuH,MAEvE,MADAhM,OAAO2I,eAAeyJ,EAAO,OAAQ,CAAC5S,MAAO,2BACvC4S,IAKH4/B,GAA0D,mBAA7B,uBAClC,uBACA,CAAChmC,EAAMxM,KACN,GAAI,kCAAkC6C,KAAK7C,GAAQ,CAClD,MAAM4S,EAAQ,IAAI3N,UAAU,yCAAyCuH,OAErE,MADAhM,OAAO2I,eAAeyJ,EAAO,OAAQ,CAAC5S,MAAO,qBACvC4S,IAgBM,MAAM6/B,WAAgBvB,gBAOpCviC,YAAYoV,GAGX,IAAIviB,EAAS,GACb,GAAIuiB,aAAgB0uB,GAAS,CAC5B,MAAMC,EAAM3uB,EAAK2uB,MACjB,IAAK,MAAOlmC,EAAMwmB,KAAWxyB,OAAOwF,QAAQ0sC,GAC3ClxC,EAAO6C,QAAQ2uB,EAAOtqB,KAAI1I,GAAS,CAACwM,EAAMxM,WAErC,GAAY,MAAR+jB,OAEJ,IAAoB,iBAATA,GAAsB,GAAA+W,MAAA,iBAAuB/W,GA+B9D,MAAM,IAAI9e,UAAU,wIA/BiD,CACrE,MAAM0tC,EAAS5uB,EAAK7jB,OAAO4N,UAE3B,GAAc,MAAV6kC,EAEHnxC,EAAO6C,QAAQ7D,OAAOwF,QAAQ+d,QACxB,CACN,GAAsB,mBAAX4uB,EACV,MAAM,IAAI1tC,UAAU,iCAKrBzD,EAAS,IAAIuiB,GACXrb,KAAIoU,IACJ,GACiB,iBAATA,GAAqB,GAAAge,MAAA,iBAAuBhe,GAEnD,MAAM,IAAI7X,UAAU,+CAGrB,MAAO,IAAI6X,MACTpU,KAAIoU,IACN,GAAoB,IAAhBA,EAAKnZ,OACR,MAAM,IAAIsB,UAAU,+CAGrB,MAAO,IAAI6X,QAqBf,OAbAtb,EACCA,EAAOmC,OAAS,EACfnC,EAAOkH,KAAI,EAAE8D,EAAMxM,MAClBuyC,GAAmB/lC,GACnBgmC,GAAoBhmC,EAAM2E,OAAOnR,IAC1B,CAACmR,OAAO3E,GAAMH,cAAe8E,OAAOnR,YAE5CO,EAEFm3B,MAAMl2B,GAIC,IAAIoxC,MAAMttC,KAAM,CACtBE,IAAIqtC,EAAQnjC,EAAGojC,GACd,OAAQpjC,GACP,IAAK,SACL,IAAK,MACJ,MAAO,CAAClD,EAAMxM,KACbuyC,GAAmB/lC,GACnBgmC,GAAoBhmC,EAAM2E,OAAOnR,IAC1BkxC,gBAAgBlwC,UAAU0O,GAAGrO,KACnCwxC,EACA1hC,OAAO3E,GAAMH,cACb8E,OAAOnR,KAIV,IAAK,SACL,IAAK,MACL,IAAK,SACJ,OAAOwM,IACN+lC,GAAmB/lC,GACZ0kC,gBAAgBlwC,UAAU0O,GAAGrO,KACnCwxC,EACA1hC,OAAO3E,GAAMH,gBAIhB,IAAK,OACJ,MAAO,KACNwmC,EAAO9C,OACA,IAAIxW,IAAI2X,gBAAgBlwC,UAAU2G,KAAKtG,KAAKwxC,IAASlrC,QAG9D,QACC,OAAOorC,QAAQvtC,IAAIqtC,EAAQnjC,EAAGojC,OAOvBxyC,IAAPJ,OAAOI,eACX,OAAOgF,KAAKqJ,YAAYnC,KAGzBrL,WACC,OAAOX,OAAOQ,UAAUG,SAASE,KAAKiE,MAGvCE,IAAIgH,GACH,MAAMwmB,EAAS1tB,KAAK6J,OAAO3C,GAC3B,GAAsB,IAAlBwmB,EAAOrvB,OACV,OAAO,KAGR,IAAI3D,EAAQgzB,EAAOwP,KAAK,MAKxB,MAJI,sBAAsB3/B,KAAK2J,KAC9BxM,EAAQA,EAAMqM,eAGRrM,EAGRoP,QAAQkH,EAAU08B,GACjB,IAAK,MAAMxmC,KAAQlH,KAAKqC,OACvBorC,QAAQ1tC,MAAMiR,EAAU08B,EAAS,CAAC1tC,KAAKE,IAAIgH,GAAOA,EAAMlH,OAI1D,UACC,IAAK,MAAMkH,KAAQlH,KAAKqC,aACjBrC,KAAKE,IAAIgH,GAOjB,WACC,IAAK,MAAMA,KAAQlH,KAAKqC,YACjB,CAAC6E,EAAMlH,KAAKE,IAAIgH,IAIxB,CAACtM,OAAO4N,YACP,OAAOxI,KAAKU,UAQb0sC,MACC,MAAO,IAAIptC,KAAKqC,QAAQ+zB,QAAO,CAACl6B,EAAQ2B,KACvC3B,EAAO2B,GAAOmC,KAAK6J,OAAOhM,GACnB3B,IACL,IAMJ,CAACtB,OAAO+yC,IAAI,iCACX,MAAO,IAAI3tC,KAAKqC,QAAQ+zB,QAAO,CAACl6B,EAAQ2B,KACvC,MAAM6vB,EAAS1tB,KAAK6J,OAAOhM,GAS3B,OALC3B,EAAO2B,GADI,SAARA,EACW6vB,EAAO,GAEPA,EAAOrvB,OAAS,EAAIqvB,EAASA,EAAO,GAG5CxxB,IACL,KAQLhB,OAAOgS,iBACNigC,GAAQzxC,UACR,CAAC,MAAO,UAAW,UAAW,UAAU06B,QAAO,CAACl6B,EAAQg8B,KACvDh8B,EAAOg8B,GAAY,CAACp0B,YAAY,GACzB5H,IACL,KC5OJ,MAAM0xC,GAAiB,IAAI3Z,IAAI,CAAC,IAAK,IAAK,IAAK,IAAK,MAQvC4Z,GAAa1D,GAClByD,GAAe3tC,IAAIkqC,GCCrB,GAAYvvC,OAAO,sBAWV,MAAMkzC,WAAiBhD,GACrCzhC,YAAY0hC,EAAO,KAAM7lC,EAAU,IAClCktB,MAAM2Y,EAAM7lC,GAGZ,MAAM6oC,EAA2B,MAAlB7oC,EAAQ6oC,OAAiB7oC,EAAQ6oC,OAAS,IAEnDvC,EAAU,IAAI2B,GAAQjoC,EAAQsmC,SAEpC,GAAa,OAATT,IAAkBS,EAAQvrC,IAAI,gBAAiB,CAClD,MAAM+tC,EAAchB,GAAmBjC,EAAM/qC,MACzCguC,GACHxC,EAAQ/hC,OAAO,eAAgBukC,GAIjChuC,KAAK,IAAa,CACjB7D,KAAM,UACNivC,IAAKlmC,EAAQkmC,IACb2C,OAAAA,EACAE,WAAY/oC,EAAQ+oC,YAAc,GAClCzC,QAAAA,EACA0C,QAAShpC,EAAQgpC,QACjB1wB,cAAetY,EAAQsY,eAIrBrhB,WACH,OAAO6D,KAAK,IAAW7D,KAGpBivC,UACH,OAAOprC,KAAK,IAAWorC,KAAO,GAG3B2C,aACH,OAAO/tC,KAAK,IAAW+tC,OAMpBI,SACH,OAAOnuC,KAAK,IAAW+tC,QAAU,KAAO/tC,KAAK,IAAW+tC,OAAS,IAG9DK,iBACH,OAAOpuC,KAAK,IAAWkuC,QAAU,EAG9BD,iBACH,OAAOjuC,KAAK,IAAWiuC,WAGpBzC,cACH,OAAOxrC,KAAK,IAAWwrC,QAGpBhuB,oBACH,OAAOxd,KAAK,IAAWwd,cAQxBhT,QACC,OAAO,IAAIsjC,GAAS,GAAM9tC,KAAMA,KAAKwd,eAAgB,CACpDrhB,KAAM6D,KAAK7D,KACXivC,IAAKprC,KAAKorC,IACV2C,OAAQ/tC,KAAK+tC,OACbE,WAAYjuC,KAAKiuC,WACjBzC,QAASxrC,KAAKwrC,QACd2C,GAAInuC,KAAKmuC,GACTC,WAAYpuC,KAAKouC,WACjB7uC,KAAMS,KAAKT,KACXie,cAAexd,KAAKwd,gBAStBlU,gBAAgB8hC,EAAK2C,EAAS,KAC7B,IAAKF,GAAWE,GACf,MAAM,IAAIl2B,WAAW,mEAGtB,OAAO,IAAIi2B,GAAS,KAAM,CACzBtC,QAAS,CACR6C,SAAU,IAAIvmC,IAAIsjC,GAAKvvC,YAExBkyC,OAAAA,IAIFzkC,eACC,MAAMi5B,EAAW,IAAIuL,GAAS,KAAM,CAACC,OAAQ,EAAGE,WAAY,KAE5D,OADA1L,EAAS,IAAWpmC,KAAO,QACpBomC,EAGIvnC,IAAPJ,OAAOI,eACX,MAAO,YAITE,OAAOgS,iBAAiB4gC,GAASpyC,UAAW,CAC3CS,KAAM,CAAC2H,YAAY,GACnBsnC,IAAK,CAACtnC,YAAY,GAClBiqC,OAAQ,CAACjqC,YAAY,GACrBqqC,GAAI,CAACrqC,YAAY,GACjBsqC,WAAY,CAACtqC,YAAY,GACzBmqC,WAAY,CAACnqC,YAAY,GACzB0nC,QAAS,CAAC1nC,YAAY,GACtB0G,MAAO,CAAC1G,YAAY,KC3IrB,IAAI,GAA+B4C,QAAQ,YCA3C,IAAI,GAA+BA,QAAQ,YCiBpC,SAAS4nC,GAA0BlD,EAAKmD,GAAa,GAE3D,OAAW,MAAPnD,EACI,eAGRA,EAAM,IAAItjC,IAAIsjC,GAGV,uBAAuB7tC,KAAK6tC,EAAIoD,UAC5B,eAIRpD,EAAIqD,SAAW,GAIfrD,EAAIsD,SAAW,GAIftD,EAAIuD,KAAO,GAGPJ,IAGHnD,EAAIwD,SAAW,GAIfxD,EAAI5R,OAAS,IAIP4R,IAMD,MAAMyD,GAAiB,IAAI5a,IAAI,CACrC,GACA,cACA,6BACA,cACA,SACA,gBACA,2BACA,kCACA,eA6EM,SAAS6a,GAA4B1D,GAE3C,QAAI,yBAAyB7tC,KAAK6tC,KAKb,UAAjBA,EAAIoD,aAOJ,uBAAuBjxC,KAAK6tC,EAAIoD,WAjE9B,SAAwCpD,GAQ9C,GAAI,gBAAgB7tC,KAAK6tC,EAAIoD,UAC5B,OAAO,EAIR,MAAMO,EAAS3D,EAAI4D,KAAK3xC,QAAQ,cAAe,IACzC4xC,GAAgB,KAAAC,MAAKH,GAE3B,QAAsB,IAAlBE,IAAuB,SAAS1xC,KAAKwxC,OAInB,IAAlBE,IAAuB,mCAAmC1xC,KAAKwxC,KAOlD,cAAb3D,EAAI4D,OAAwB5D,EAAI4D,KAAKG,SAAS,eAK7B,UAAjB/D,EAAIoD,SAsCDY,CAA+BhE,KClJvC,MAAM,GAAYxwC,OAAO,qBAQnBy0C,GAAY1xC,GAEE,iBAAXA,GACsB,iBAAtBA,EAAO,IAIV2xC,IAAgB,KAAA/C,YAAU,QAC/B,+DACA,kEAWc,MAAMgD,WAAgBzE,GACpCzhC,YAAYmmC,EAAO/wB,EAAO,IACzB,IAAIgxB,EAUJ,GAPIJ,GAAUG,GACbC,EAAY,IAAI3nC,IAAI0nC,EAAMpE,MAE1BqE,EAAY,IAAI3nC,IAAI0nC,GACpBA,EAAQ,IAGkB,KAAvBC,EAAUhB,UAA0C,KAAvBgB,EAAUf,SAC1C,MAAM,IAAI/uC,UAAU,GAAG8vC,0CAGxB,IAAIpC,EAAS5uB,EAAK4uB,QAAUmC,EAAMnC,QAAU,MAU5C,GATI,wCAAwC9vC,KAAK8vC,KAChDA,EAASA,EAAOqC,gBAGZL,GAAU5wB,IAAS,SAAUA,GACjC6wB,MAIiB,MAAb7wB,EAAKssB,MAAiBsE,GAAUG,IAAyB,OAAfA,EAAMzE,QACxC,QAAXsC,GAA+B,SAAXA,GACrB,MAAM,IAAI1tC,UAAU,iDAGrB,MAAMgwC,EAAYlxB,EAAKssB,KACtBtsB,EAAKssB,KACJsE,GAAUG,IAAyB,OAAfA,EAAMzE,KAC1B,GAAMyE,GACN,KAEFpd,MAAMud,EAAW,CAChBpwC,KAAMkf,EAAKlf,MAAQiwC,EAAMjwC,MAAQ,IAGlC,MAAMisC,EAAU,IAAI2B,GAAQ1uB,EAAK+sB,SAAWgE,EAAMhE,SAAW,IAE7D,GAAkB,OAAdmE,IAAuBnE,EAAQvrC,IAAI,gBAAiB,CACvD,MAAM+tC,EAAchB,GAAmB2C,EAAW3vC,MAC9CguC,GACHxC,EAAQrrC,IAAI,eAAgB6tC,GAI9B,IAAI7oB,EAASkqB,GAAUG,GACtBA,EAAMrqB,OACN,KAMD,GALI,WAAY1G,IACf0G,EAAS1G,EAAK0G,QAID,MAAVA,IRpDc,iBAFSxnB,EQsDUwnB,IRnDnB,gBAAjBxnB,EAAO4sC,KACU,gBAAjB5sC,EAAO4sC,KQmDP,MAAM,IAAI5qC,UAAU,kERvDMhC,IAAAA,EQ4D3B,IAAIiyC,EAA4B,MAAjBnxB,EAAKmxB,SAAmBJ,EAAMI,SAAWnxB,EAAKmxB,SAC7D,GAAiB,KAAbA,EAEHA,EAAW,mBACL,GAAIA,EAAU,CAEpB,MAAMC,EAAiB,IAAI/nC,IAAI8nC,GAE/BA,EAAW,wBAAwBryC,KAAKsyC,GAAkB,SAAWA,OAErED,OAAW30C,EAGZ+E,KAAK,IAAa,CACjBqtC,OAAAA,EACAyC,SAAUrxB,EAAKqxB,UAAYN,EAAMM,UAAY,SAC7CtE,QAAAA,EACAiE,UAAAA,EACAtqB,OAAAA,EACAyqB,SAAAA,GAID5vC,KAAK+vC,YAAyB90C,IAAhBwjB,EAAKsxB,YAAyC90C,IAAjBu0C,EAAMO,OAAuB,GAAKP,EAAMO,OAAUtxB,EAAKsxB,OAClG/vC,KAAKgwC,cAA6B/0C,IAAlBwjB,EAAKuxB,cAA6C/0C,IAAnBu0C,EAAMQ,UAAgCR,EAAMQ,SAAYvxB,EAAKuxB,SAC5GhwC,KAAKkuC,QAAUzvB,EAAKyvB,SAAWsB,EAAMtB,SAAW,EAChDluC,KAAKiwC,MAAQxxB,EAAKwxB,OAAST,EAAMS,MACjCjwC,KAAKwd,cAAgBiB,EAAKjB,eAAiBgyB,EAAMhyB,eAAiB,MAClExd,KAAKkwC,mBAAqBzxB,EAAKyxB,oBAAsBV,EAAMU,qBAAsB,EAIjFlwC,KAAKmwC,eAAiB1xB,EAAK0xB,gBAAkBX,EAAMW,gBAAkB,GAIlE9C,aACH,OAAOrtC,KAAK,IAAWqtC,OAIpBjC,UACH,OAAO,KAAAgF,QAAUpwC,KAAK,IAAWyvC,WAI9BjE,cACH,OAAOxrC,KAAK,IAAWwrC,QAGpBsE,eACH,OAAO9vC,KAAK,IAAW8vC,SAIpB3qB,aACH,OAAOnlB,KAAK,IAAWmlB,OAIpByqB,eACH,MAAiC,gBAA7B5vC,KAAK,IAAW4vC,SACZ,GAGyB,WAA7B5vC,KAAK,IAAW4vC,SACZ,eAGJ5vC,KAAK,IAAW4vC,SACZ5vC,KAAK,IAAW4vC,SAAS/zC,gBADjC,EAOGs0C,qBACH,OAAOnwC,KAAK,IAAWmwC,eAGpBA,mBAAeA,GAClBnwC,KAAK,IAAWmwC,eD9GX,SAAgCA,GACtC,IAAKtB,GAAe5uC,IAAIkwC,GACvB,MAAM,IAAIxwC,UAAU,2BAA2BwwC,KAGhD,OAAOA,ECyG2BE,CAAuBF,GAQzD3lC,QACC,OAAO,IAAI+kC,GAAQvvC,MAGRhF,IAAPJ,OAAOI,eACX,MAAO,WAITE,OAAOgS,iBAAiBqiC,GAAQ7zC,UAAW,CAC1C2xC,OAAQ,CAACvpC,YAAY,GACrBsnC,IAAK,CAACtnC,YAAY,GAClB0nC,QAAS,CAAC1nC,YAAY,GACtBgsC,SAAU,CAAChsC,YAAY,GACvB0G,MAAO,CAAC1G,YAAY,GACpBqhB,OAAQ,CAACrhB,YAAY,GACrB8rC,SAAU,CAAC9rC,YAAY,GACvBqsC,eAAgB,CAACrsC,YAAY,KASvB,MAAMwsC,GAAwBtzB,IACpC,MAAM,UAACyyB,GAAazyB,EAAQ,IACtBwuB,EAAU,IAAI2B,GAAQnwB,EAAQ,IAAWwuB,SAG1CA,EAAQvrC,IAAI,WAChBurC,EAAQrrC,IAAI,SAAU,OAIvB,IAAIowC,EAAqB,KAKzB,GAJqB,OAAjBvzB,EAAQ+tB,MAAiB,gBAAgBxtC,KAAKyf,EAAQqwB,UACzDkD,EAAqB,KAGD,OAAjBvzB,EAAQ+tB,KAAe,CAC1B,MAAMyF,EPiHqBxzB,CAAAA,IAC5B,MAAM,KAAC+tB,GAAQ/tB,EAAQ6tB,IAGvB,OAAa,OAATE,EACI,EAIJL,GAAOK,GACHA,EAAKxrC,KAIT,GAAAyI,OAAA,SAAgB+iC,GACZA,EAAK1sC,OAIT0sC,GAAsC,mBAAvBA,EAAK0F,eAChB1F,EAAK2F,gBAAkB3F,EAAK2F,iBAAmB3F,EAAK0F,gBAIrD,MOzIaE,CAAc3zB,GAEP,iBAAfwzB,GAA4B59B,OAAO+D,MAAM65B,KACnDD,EAAqB1kC,OAAO2kC,IAI1BD,GACH/E,EAAQrrC,IAAI,iBAAkBowC,GAMA,KAA3BvzB,EAAQmzB,iBACXnzB,EAAQmzB,eDtL6B,mCC4LlCnzB,EAAQ4yB,UAAiC,gBAArB5yB,EAAQ4yB,SAC/B5yB,EAAQ,IAAW4yB,SDxEd,SAAmC5yB,GAAS,oBAAC4zB,EAAmB,uBAAEC,GAA0B,IAMlG,GAAyB,gBAArB7zB,EAAQ4yB,UAAyD,KAA3B5yB,EAAQmzB,eACjD,OAAO,KAIR,MAAMW,EAAS9zB,EAAQmzB,eAMvB,GAAyB,iBAArBnzB,EAAQ4yB,SACX,MAAO,cAIR,MAAMmB,EAAiB/zB,EAAQ4yB,SAG/B,IAAIoB,EAAc1C,GAA0ByC,GAIxCE,EAAiB3C,GAA0ByC,GAAgB,GAI3DC,EAAYn1C,WAAWwC,OAAS,OACnC2yC,EAAcC,GAOXL,IACHI,EAAcJ,EAAoBI,IAG/BH,IACHI,EAAiBJ,EAAuBI,IAIzC,MAAMC,EAAa,IAAIppC,IAAIkV,EAAQouB,KAEnC,OAAQ0F,GACP,IAAK,cACJ,MAAO,cAER,IAAK,SACJ,OAAOG,EAER,IAAK,aACJ,OAAOD,EAER,IAAK,gBAGJ,OAAIlC,GAA4BkC,KAAiBlC,GAA4BoC,GACrE,cAIDD,EAAep1C,WAEvB,IAAK,kCAGJ,OAAIm1C,EAAY32C,SAAW62C,EAAW72C,OAC9B22C,EAKJlC,GAA4BkC,KAAiBlC,GAA4BoC,GACrE,cAIDD,EAER,IAAK,cAGJ,OAAID,EAAY32C,SAAW62C,EAAW72C,OAC9B22C,EAID,cAER,IAAK,2BAGJ,OAAIA,EAAY32C,SAAW62C,EAAW72C,OAC9B22C,EAIDC,EAER,IAAK,6BAGJ,OAAInC,GAA4BkC,KAAiBlC,GAA4BoC,GACrE,cAIDF,EAER,QACC,MAAM,IAAIrxC,UAAU,2BAA2BmxC,MC/ClBK,CAA0Bn0B,GAExDA,EAAQ,IAAW4yB,SAAW,cAM3B5yB,EAAQ,IAAW4yB,oBAAoB9nC,KAC1C0jC,EAAQrrC,IAAI,UAAW6c,EAAQ4yB,UAI3BpE,EAAQvrC,IAAI,eAChBurC,EAAQrrC,IAAI,aAAc,cAIvB6c,EAAQgzB,WAAaxE,EAAQvrC,IAAI,oBACpCurC,EAAQrrC,IAAI,kBAAmB,qBAGhC,IAAI,MAAC8vC,GAASjzB,EACO,mBAAVizB,IACVA,EAAQA,EAAMR,IAGVjE,EAAQvrC,IAAI,eAAkBgwC,GAClCzE,EAAQrrC,IAAI,aAAc,SAM3B,MAAMq5B,ECzSkBiW,CAAAA,IACxB,GAAIA,EAAUjW,OACb,OAAOiW,EAAUjW,OAGlB,MAAM4X,EAAa3B,EAAU4B,KAAKhzC,OAAS,EACrCswC,EAAOc,EAAUd,OAAwC,MAA/Bc,EAAU4B,KAAKD,GAAsB,IAAM,IAC3E,MAAoD,MAA7C3B,EAAU4B,KAAKD,EAAazC,EAAKtwC,QAAkB,IAAM,IDkSjDizC,CAAU7B,GAczB,MAAO,CAENA,UAAAA,EACAvqC,QAbe,CAEftH,KAAM6xC,EAAUb,SAAWpV,EAE3B6T,OAAQrwB,EAAQqwB,OAChB7B,QAASA,EAAQ5wC,OAAO+yC,IAAI,iCAC5BuC,mBAAoBlzB,EAAQkzB,mBAC5BD,MAAAA,KE/SK,MAAMsB,WAAmBvH,GAC/B3gC,YAAYod,EAAStqB,EAAO,WAC3Bi2B,MAAM3L,EAAStqB,UC+BjB,MAAMq1C,GAAmB,IAAIvd,IAAI,CAAC,QAAS,QAAS,WCpCpD,OD6Ce5pB,eAAeonC,EAAMrG,EAAKsG,GACxC,OAAO,IAAIzjC,SAAQ,CAACI,EAASG,KAE5B,MAAMwO,EAAU,IAAIuyB,GAAQnE,EAAKsG,IAC3B,UAACjC,EAAS,QAAEvqC,GAAWorC,GAAsBtzB,GACnD,IAAKw0B,GAAiBvxC,IAAIwvC,EAAUjB,UACnC,MAAM,IAAI7uC,UAAU,0BAA0ByrC,kBAAoBqE,EAAUjB,SAASnxC,QAAQ,KAAM,0BAGpG,GAA2B,UAAvBoyC,EAAUjB,SAAsB,CACnC,MAAMjsC,EAAO,GAAgBya,EAAQouB,KAC/B7I,EAAW,IAAIuL,GAASvrC,EAAM,CAACipC,QAAS,CAAC,eAAgBjpC,EAAKunC,YAEpE,YADAz7B,EAAQk0B,GAKT,MAAMoP,GAA+B,WAAvBlC,EAAUjB,SAAwB,GAAQ,IAAMxxB,SACxD,OAACmI,GAAUnI,EACjB,IAAIulB,EAAW,KAEf,MAAM/iB,EAAQ,KACb,MAAMlS,EAAQ,IAAIikC,GAAW,8BAC7B/iC,EAAOlB,GACH0P,EAAQ+tB,MAAQ/tB,EAAQ+tB,gBAAgB,aAC3C/tB,EAAQ+tB,KAAKmB,QAAQ5+B,GAGjBi1B,GAAaA,EAASwI,MAI3BxI,EAASwI,KAAK6G,KAAK,QAAStkC,IAG7B,GAAI6X,GAAUA,EAAOoC,QAEpB,YADA/H,IAID,MAAMqyB,EAAmB,KACxBryB,IACA0I,KAIK4pB,EAAWH,EAAKlC,EAAU5zC,WAAYqJ,GAExCigB,GACHA,EAAOqC,iBAAiB,QAASqqB,GAGlC,MAAM3pB,EAAW,KAChB4pB,EAAStyB,QACL2F,GACHA,EAAOkD,oBAAoB,QAASwpB,IAItCC,EAAS5G,GAAG,SAAS59B,IACpBkB,EAAO,IAAIy7B,GAAW,cAAcjtB,EAAQouB,uBAAuB99B,EAAMmZ,UAAW,SAAUnZ,IAC9F4a,OAyQH,SAA6ClL,EAAS+0B,GACrD,MAAMC,EAAa,GAAAhqC,OAAA,KAAY,aAE/B,IAEIiqC,EAFAC,GAAoB,EACpBC,GAA0B,EAG9Bn1B,EAAQkuB,GAAG,YAAY3I,IACtB,MAAM,QAACiJ,GAAWjJ,EAClB2P,EAAqD,YAAjC1G,EAAQ,uBAAuCA,EAAQ,qBAG5ExuB,EAAQkuB,GAAG,UAAUkH,IACpB,MAAMC,EAAgB,KACrB,GAAIH,IAAsBC,EAAyB,CAClD,MAAM7kC,EAAQ,IAAIrH,MAAM,mBACxBqH,EAAM68B,KAAO,6BACb4H,EAAczkC,KAIVglC,EAASntC,IACdgtC,EAAwE,IAA9C,GAAAnqC,OAAA,QAAe7C,EAAI3H,OAAO,GAAIw0C,IAGnDG,GAA2BF,IAC/BE,EACqE,IAApE,GAAAnqC,OAAA,QAAeiqC,EAAcz0C,OAAO,GAAIw0C,EAAWx0C,MAAM,EAAG,KACL,IAAvD,GAAAwK,OAAA,QAAe7C,EAAI3H,OAAO,GAAIw0C,EAAWx0C,MAAM,KAIjDy0C,EAAgB9sC,GAGjBitC,EAAOG,gBAAgB,QAASF,GAChCD,EAAOlH,GAAG,OAAQoH,GAElBt1B,EAAQkuB,GAAG,SAAS,KACnBkH,EAAOI,eAAe,QAASH,GAC/BD,EAAOI,eAAe,OAAQF,SA9S/BG,CAAoCX,GAAUxkC,IACzCi1B,GAAYA,EAASwI,MACxBxI,EAASwI,KAAKmB,QAAQ5+B,MAKpBH,QAAQhG,QAAU,OAGrB2qC,EAAS5G,GAAG,UAAUwH,IACrB,IAAIC,EACJD,EAAEH,gBAAgB,OAAO,KACxBI,EAAuBD,EAAEE,gBAE1BF,EAAEH,gBAAgB,SAASM,IAE1B,GAAItQ,GAAYoQ,EAAuBD,EAAEE,eAAiBC,EAAU,CACnE,MAAMvlC,EAAQ,IAAIrH,MAAM,mBACxBqH,EAAM68B,KAAO,6BACb5H,EAASwI,KAAK6G,KAAK,QAAStkC,UAMhCwkC,EAAS5G,GAAG,YAAY4H,IACvBhB,EAASiB,WAAW,GACpB,MAAMvH,ETyGF,SAAwBA,EAAU,IACxC,OAAO,IAAI2B,GACV3B,EAEEpV,QAAO,CAACl6B,EAAQxB,EAAO0D,EAAO6E,KAC1B7E,EAAQ,GAAM,GACjBlC,EAAO6C,KAAKkE,EAAMzF,MAAMY,EAAOA,EAAQ,IAGjClC,IACL,IACFyN,QAAO,EAAEzC,EAAMxM,MACf,IAGC,OAFAuyC,GAAmB/lC,GACnBgmC,GAAoBhmC,EAAM2E,OAAOnR,KAC1B,EACN,MACD,OAAO,OS1HOs4C,CAAeF,EAAUG,YAGzC,GAAIpF,GAAWiF,EAAUI,YAAa,CAErC,MAAM7E,EAAW7C,EAAQtrC,IAAI,YAG7B,IAAIizC,EAAc,KAClB,IACCA,EAA2B,OAAb9E,EAAoB,KAAO,IAAIvmC,IAAIumC,EAAUrxB,EAAQouB,KAClE,MAID,GAAyB,WAArBpuB,EAAQ8yB,SAGX,OAFAthC,EAAO,IAAIy7B,GAAW,wDAAwDoE,IAAY,0BAC1FnmB,IAMF,OAAQlL,EAAQ8yB,UACf,IAAK,QAGJ,OAFAthC,EAAO,IAAIy7B,GAAW,0EAA0EjtB,EAAQouB,MAAO,qBAC/GljB,IAED,IAAK,SAEJ,MACD,IAAK,SAAU,CAEd,GAAoB,OAAhBirB,EACH,MAID,GAAIn2B,EAAQkxB,SAAWlxB,EAAQ+yB,OAG9B,OAFAvhC,EAAO,IAAIy7B,GAAW,gCAAgCjtB,EAAQouB,MAAO,sBACrEljB,IAMD,MAAMkrB,EAAiB,CACtB5H,QAAS,IAAI2B,GAAQnwB,EAAQwuB,SAC7BuE,OAAQ/yB,EAAQ+yB,OAChB7B,QAASlxB,EAAQkxB,QAAU,EAC3B+B,MAAOjzB,EAAQizB,MACfD,SAAUhzB,EAAQgzB,SAClB3C,OAAQrwB,EAAQqwB,OAChBtC,KAAM,GAAM/tB,GACZmI,OAAQnI,EAAQmI,OAChB5lB,KAAMyd,EAAQzd,KACdqwC,SAAU5yB,EAAQ4yB,SAClBO,eAAgBnzB,EAAQmzB,gBAYzB,IX7I6B,EAAC3iB,EAAa5O,KAChD,MAAMy0B,EAAO,IAAIvrC,IAAI8W,GAAU00B,SACzBx8B,EAAO,IAAIhP,IAAI0lB,GAAa8lB,SAElC,OAAOD,IAASv8B,GAAQu8B,EAAKlE,SAAS,IAAIr4B,MWyIhCy8B,CAAoBv2B,EAAQouB,IAAK+H,KX/Hb3lB,EW+H6CxQ,EAAQouB,IX9HtE,IAAItjC,IW8HuEqrC,GX9HzD3E,WAClB,IAAI1mC,IAAI0lB,GAAaghB,UW8H5B,IAAK,MAAMtnC,IAAQ,CAAC,gBAAiB,mBAAoB,SAAU,WAClEksC,EAAe5H,QAAQ9hC,OAAOxC,GAKhC,GAA6B,MAAzB4rC,EAAUI,YAAsBl2B,EAAQ+tB,MAAQ2G,EAAS3G,gBAAgB,YAG5E,OAFAv8B,EAAO,IAAIy7B,GAAW,2DAA4D,8BAClF/hB,IAK4B,MAAzB4qB,EAAUI,aAAiD,MAAzBJ,EAAUI,YAA+C,MAAzBJ,EAAUI,YAA0C,SAAnBl2B,EAAQqwB,UAC9G+F,EAAe/F,OAAS,MACxB+F,EAAerI,UAAO9vC,EACtBm4C,EAAe5H,QAAQ9hC,OAAO,mBAI/B,MAAM8pC,EJ0FL,SAAuChI,GAG7C,MAAMiI,GAAgBjI,EAAQtrC,IAAI,oBAAsB,IAAI4I,MAAM,UAGlE,IAAIgoC,EAAS,GAMb,IAAK,MAAM4C,KAASD,EACfC,GAAS7E,GAAe5uC,IAAIyzC,KAC/B5C,EAAS4C,GAKX,OAAO5C,EI7G6B6C,CAA8BnI,GAQ7D,OAPIgI,IACHJ,EAAejD,eAAiBqD,GAIjCnlC,EAAQojC,EAAM,IAAIlC,GAAQ4D,EAAaC,UACvClrB,IAID,QACC,OAAO1Z,EAAO,IAAI7O,UAAU,oBAAoBqd,EAAQ8yB,uDXhKhC,IAACtiB,EWqKxBrI,GACH2tB,EAAUc,KAAK,OAAO,KACrBzuB,EAAOkD,oBAAoB,QAASwpB,MAItC,IAAI9G,GAAO,eAAK+H,EAAW,IAAI,GAAAjG,aAAev/B,IACzCA,GACHkB,EAAOlB,MAKLH,QAAQhG,QAAU,UACrB2rC,EAAU5H,GAAG,UAAW2G,GAGzB,MAAMgC,EAAkB,CACvBzI,IAAKpuB,EAAQouB,IACb2C,OAAQ+E,EAAUI,WAClBjF,WAAY6E,EAAUgB,cACtBtI,QAAAA,EACAjsC,KAAMyd,EAAQzd,KACd2uC,QAASlxB,EAAQkxB,QACjB1wB,cAAeR,EAAQQ,eAIlBu2B,EAAUvI,EAAQtrC,IAAI,oBAU5B,IAAK8c,EAAQgzB,UAA+B,SAAnBhzB,EAAQqwB,QAAiC,OAAZ0G,GAA6C,MAAzBjB,EAAUI,YAA+C,MAAzBJ,EAAUI,WAGnH,OAFA3Q,EAAW,IAAIuL,GAAS/C,EAAM8I,QAC9BxlC,EAAQk0B,GAST,MAAMyR,EAAc,CACnB5kB,MAAO,gBACP6kB,YAAa,iBAId,GAAgB,SAAZF,GAAkC,WAAZA,EAQzB,OAPAhJ,GAAO,eAAKA,EAAM,gBAAkBiJ,IAAc1mC,IAC7CA,GACHkB,EAAOlB,MAGTi1B,EAAW,IAAIuL,GAAS/C,EAAM8I,QAC9BxlC,EAAQk0B,GAKT,GAAgB,YAAZwR,GAAqC,cAAZA,EAAyB,CAGrD,MAAM3G,GAAM,eAAK0F,EAAW,IAAI,GAAAjG,aAAev/B,IAC1CA,GACHkB,EAAOlB,MA8BT,OA3BA8/B,EAAIwG,KAAK,QAAQ1oC,IAGf6/B,EADyB,IAAV,GAAX7/B,EAAM,KACH,eAAK6/B,EAAM,oBAAsBz9B,IACnCA,GACHkB,EAAOlB,OAIF,eAAKy9B,EAAM,uBAAyBz9B,IACtCA,GACHkB,EAAOlB,MAKVi1B,EAAW,IAAIuL,GAAS/C,EAAM8I,GAC9BxlC,EAAQk0B,WAET6K,EAAIwG,KAAK,OAAO,KAGVrR,IACJA,EAAW,IAAIuL,GAAS/C,EAAM8I,GAC9BxlC,EAAQk0B,OAOX,GAAgB,OAAZwR,EAQH,OAPAhJ,GAAO,eAAKA,EAAM,6BAA+Bz9B,IAC5CA,GACHkB,EAAOlB,MAGTi1B,EAAW,IAAIuL,GAAS/C,EAAM8I,QAC9BxlC,EAAQk0B,GAKTA,EAAW,IAAIuL,GAAS/C,EAAM8I,GAC9BxlC,EAAQk0B,MVuBkBl4B,OAAOyM,GAAOi0B,KAAAA,MAC7B,OAATA,EAEHj0B,EAAK/L,YAGC4/B,GAASI,EAAMj0B,IUzBrBo9B,CAAcpC,EAAU90B,GAASm3B,MAAM3lC,ogCE7WlC,SAAS4lC,GAAwBlvC,EAASmvC,EAAmBrG,GAChE9oC,EAAQovC,eAAiBpvC,EAAQovC,gBAAkB,GACnDpvC,EAAQovC,eAAetG,YAAcA,EACrC9oC,EAAQovC,eAAe9F,SAAWtpC,EAAQovC,eAAe9F,UAAY,QACrE,MAAMpD,EAAM/B,GAASnkC,EAAQkmC,IAAKlmC,EAAQovC,gBACpC9I,EAAU/T,IAChB+T,EAAO,OAAa,mBAChBtmC,EAAQsmC,SAAWtmC,EAAQsmC,QAAQpO,aACnCoO,EAAQ,eAAiBtmC,EAAQsmC,QAAQpO,YAG7C,IAAIgW,EAAiB,IACjB/F,OAAQ,MACR7B,QAASA,EACTvf,KAAM,QACH/mB,EAAQ2jC,aAAe,CAAE1jB,OAAQjgB,EAAQ2jC,cAMhD,OAHIwL,IACAjB,EAAiB,SAAKA,GAAR,IAAwBiB,kBAAAA,KAEnC,CACHnvC,QAAAA,EAASkmC,IAAAA,EAAKgI,eAAAA,GAIf,SAASmB,GAAervC,EAASkmC,GAAmC,IAA9BgI,EAA8B,uDAAb,GAAIoB,EAAS,uCACvE,OAAOC,GAAWC,GAAgBxvC,EAASkmC,GAAMgI,GAC5CjlC,KADE,qBACG,UAAOo0B,GACT,MAAMhgC,QAAaiyC,EAAQjS,GAC3B,IAAKA,EAAS4L,GACV,OAAOlgC,QAAQO,OAAO,CAAE+zB,SAAAA,EAAUhgC,KAAAA,IAGtC,GAAI2C,EAAQyvC,qBACR,OAAOpS,EAEX,GAA4B,UAAxBr9B,EAAQ0vC,aAA+C,MAApBrS,EAASwL,OAC5C,OAAOxL,EAASiJ,QAAQ6C,SAG5B,MAAMwG,EAAmBtS,EAASiJ,UAC7BjJ,EAASiJ,QAAQtrC,IAAI,gBAAkBqiC,EAASiJ,QAAQtrC,IAAI,gBAEjE,WACIqC,KAAAA,GACGsyC,GAAoB,CAAEzX,WAAYyX,OAnB1C,uDAsBFV,OAAM,WAAgB,IAAf7mC,EAAe,uDAAP,GACZ,GAAI8lC,EAAejuB,SAA4C,IAAlCiuB,EAAejuB,OAAOoC,QAC/C,OAAOtZ,QAAQO,OAAOlB,GAG1B,MAAM,SAAEi1B,EAAF,KAAYhgC,GAAS+K,EACrB1F,EAAM1C,EAAQyvC,qBAAuBpS,GAAYj1B,EACnDwnC,GAAcvyC,EAAMggC,GAAYA,EAASwL,SAAWzgC,EAExD,OAAOW,QAAQO,OAAO5G,MAI3B,SAASmtC,GAAgBxS,GAC5B,OAAOA,EAASsJ,OAGb,SAASmJ,GAAgBzS,GAC5B,OAAOA,EAASiK,OAGpB,MAAMsI,GAAgB,CAACvyC,EAAMwrC,KACzB,IAAKxrC,EACD,OAGJ,MAAM,MAAE+K,EAAF,cAAS2nC,GAAkB1yC,EAGjC,OAAK+K,GAAU2nC,EAIR,CACHxuB,QAASnZ,EAAMI,YACfnL,KAAM0yC,EACNlH,OAAAA,GANOxrC,GAUf,SAASmyC,GAAgBxvC,EAASkmC,GAC9B,IAAKlmC,EAAQgwC,gBACT,OAAO9J,EAQX,OAAOA,EAAM,IALOlwC,OAAOmH,KAAK6C,EAAQgwC,iBACnC9xC,KAAI,SAASvF,GACV,OAMZ,SAAuCqH,EAASrH,GAC5C,MAAMs3C,EAAkBjwC,EAAQgwC,gBAAgBr3C,GAChD,IAAI3B,EAAS,GAETA,EADAI,MAAMF,QAAQ+4C,GACLA,EAAgB/xC,KAAI,SAAS1I,GAClC,OAAO06C,GAAqBv3C,EAAKnD,MAClCwiC,KAAK,KAECkY,GAAqBv3C,EAAKqH,EAAQgwC,gBAAgBr3C,IAE/D,OAAO3B,EAhBQm5C,CAA8BnwC,EAASrH,MAEjDq/B,KAAK,KAiBd,SAASkY,GAAqBv3C,EAAKnD,GAC/B,OAAO+M,mBAAmB5J,GAAO,IAAM4J,mBAAmB/M,2VC/F9D,SAAS46C,GAAoBC,EAAYnC,GACrC,MAAMrI,EApBV,SAAmBrmC,GACf,IACI,OAAOqnC,KAAKyJ,UAAU9wC,GACxB,MAAO+wC,GACL,OAAO,MAgBED,CAAUD,GACvB,IAAKxK,EACD,MAAM,IAAI9kC,MAAM,kCAAoCsvC,GAGxD,OAjBJ,SAAmBnC,EAAgBjc,EAAYue,GACtCtC,EAAe5H,UAChB4H,EAAe5H,QAAU,IAGd4H,EAAe5H,QAAQrU,IAAeic,EAAe5H,QAAQrU,EAAWpwB,iBAEnFqsC,EAAe5H,QAAQrU,GAAcue,GASzCC,CAAUvC,EAAgB,eAAgB,oBACnCrI,EAmBJ,MAAMyB,GAWJ,SAAStnC,EAASmvC,GACnB,MAAMuB,EAASxB,GAAwBlvC,EAASmvC,EAAmB,QACnE,OAAOE,GAAeqB,EAAO1wC,QAAS0wC,EAAOxK,IAAKwK,EAAOxC,eAAgB4B,KAbpExI,GA0BH,SAAStnC,GACXA,EAAQovC,eAAiBpvC,EAAQovC,gBAAkB,GACnDpvC,EAAQovC,eAAetG,YAAc,OACrC9oC,EAAQovC,eAAe9F,SAAWtpC,EAAQovC,eAAe9F,UAAY,QAErE,MAAMpD,EAAM/B,GAASnkC,EAAQkmC,IAAKlmC,EAAQovC,gBACpC9I,EAAU/T,IAChB+T,EAAO,OAAa,mBAChBtmC,EAAQsmC,SAAWtmC,EAAQsmC,QAAQpO,aACnCoO,EAAQ,eAAiBtmC,EAAQsmC,QAAQpO,YAE7C,MAAMgW,oWAAiB,EACnB/F,OAAQ,OACR7B,QAASA,EACTvf,KAAM,OACN6jB,SAAU,UACP5qC,EAAQ2jC,aAAe,CAAE1jB,OAAQjgB,EAAQ2jC,cAKhD,OA/DR,SAAuB3jC,EAASkuC,GAC5B,MAAMmC,EAAarwC,EAAQ2wC,eAC3B,IAAI9K,EACCwK,IAID96C,IAAAA,CAAS86C,GACTxK,EAAOuK,GAAoBC,EAAYnC,GAChCxZ,GAAAA,CAAS2b,KAChBxK,EAAOwK,GAGXnC,EAAerI,KAAOA,GAgDlB+K,CAAc5wC,EAASkuC,GAEhBmB,GAAervC,EAASkmC,EAAKgI,EAAgB4B,KC/F/CnJ,GAWJ,SAAS3mC,EAASmvC,GACnB,MAAMuB,EAASxB,GAAwBlvC,EAASmvC,EAAmB,QACnE,OAAOE,GAAeqB,EAAO1wC,QAAS0wC,EAAOxK,IAAKwK,EAAOxC,eAAgB2B,KCZjF,IAAIgB,IAAU,EAEd,MAIMC,GAAc,IACTD,GAAU,OAAS,QAG9B,OAIS,CAAC7wC,EAASmvC,KACXnvC,EAAQspC,SAAYtpC,GAAWA,EAAQspC,UAAawH,KACpD,MAAM1B,EAAiBpvC,EAAQovC,eAC/B,OAAIA,GAAiD,SAA/BA,EAAetG,YAC1BnC,GAAS3mC,EAASmvC,GAEtB7H,GAAStnC,EAASmvC,IAVjC,GAaWnvC,IACHA,EAAQspC,SAAWtpC,EAAQspC,UAAYwH,KAChCxJ,GAAUtnC,IC1BzB,SAAS+wC,GAAiBC,GACtB,MAAM1iC,EAAQ0iC,EAAW,GACzB,OAAQ1iC,EAAM2iC,aAAe3iC,EAAM2iC,cAAgBC,GAGvD,SAASC,GAAYH,GAEjB,OADcA,EAAW,GACZC,cAAgBC,GAGjC,SAASE,GAAYJ,GAEjB,OADcA,EAAW,GACZC,cAAgBC,GAGjC,SAASG,GAAaL,GAElB,OADcA,EAAW,GACZC,cAAgBC,GAGjC,SAASI,GAAcN,GAEnB,OADcA,EAAW,GACZC,cAAgBC,GAGjC,SAASK,GAAmBP,GACxB,MAAO,CACHhvC,KAAMgvC,EAAW,GACjBQ,UAAWR,EAAW,IAW9B,SAASS,GAAkBjP,EAAQkP,GAC/B,IAAIrpC,EAASrS,OAAOmH,KAAKqlC,GAAQtkC,KARpB0jB,EAQgC4gB,EAPrCgP,GAEG,CADO5vB,EAAO4vB,IAAc5vB,EAAO4vB,GAAWxvC,MAASwvC,EAChD5vB,EAAO4vB,GAAYA,KAHzC,IAAiB5vB,EAYb,OAHAvZ,EAASA,EAAO5D,OAAOitC,GACvBrpC,EAASA,EAAOnK,IAAIqzC,IAEblpC,EAGX,SAASspC,GAAuBnP,GAC5B,OAAOiP,GAAkBjP,EAAQuO,IAGrC,SAASa,GAAsBpP,GAC3B,OAAOiP,GAAkBjP,EAAQ2O,IAGrC,SAASU,GAAsBrP,GAC3B,OAAOiP,GAAkBjP,EAAQ4O,IAGrC,SAASU,GAAuBtP,GAC5B,OAAOiP,GAAkBjP,EAAQ6O,IAGrC,SAASU,GAAwBvP,GAC7B,OAAOiP,GAAkBjP,EAAQ8O,IAGrC,SAASU,GAAaxP,EAAQyP,EAA0B/D,GACpD,MAAM7lC,EAAS,GAcf,OAbmB4pC,EAAyBzP,GACjC59B,SAASy+B,IAChB,GAAIA,EAAMmO,aAAatD,EAAgB,CACnC,MAAM5/B,EAAQk0B,EAAOa,EAAMmO,WACrBU,EAAahE,EAAe7K,EAAMmO,WACpCljC,EAAM6jC,KACN7jC,EAAM6jC,KAAKD,EAAY7pC,GAEvBA,EAAOg7B,EAAMrhC,MAAQkwC,MAK1B7pC,EAGJ,SAAS+pC,GAAoB5P,EAAQ0L,GACxC,MAAO,CACHmE,WAAYL,GAAaxP,EAAQoP,GAAuB1D,GACxDoE,YAAaN,GAAaxP,EAAQmP,GAAwBzD,GAC1DqE,WAAYP,GAAaxP,EAAQqP,GAAuB3D,GACxDsE,YAAaR,GAAaxP,EAAQsP,GAAwB5D,GAC1DuE,aAAcT,GAAaxP,EAAQuP,GAAyB7D,4BC3FpE,MAAMsD,GAAY,cAEX,SAASkB,GAASlQ,GACrB,MAAMmQ,EAAe38C,OAAOmS,OAAO,GAAIq6B,GAIvC,OAHAmQ,EAAanB,IAAa,CACtBP,YAAaC,IAEVyB,EAGJ,SAASC,GAAS1E,GAErB,OADAA,EAAesD,IAAatD,EAAesD,KAAc,OAClDtD,ECTJ,MAAM2E,GAA+BC,GACjC,CAACtQ,EAAQxiC,EAAS2jC,KACrB,MAAM,WAAE0O,EAAF,YAAcC,EAAd,WAA2BC,EAA3B,aAAuCE,GAAiBL,GAC1DM,GAASlQ,GACToQ,GAAS5yC,IAGP+yC,EAAc,CAChBzM,QAASmM,EACTvM,IAAK,gBAAkB4M,EACvB1D,eAAgBiD,EAChBrC,gBAAiBsC,EACjB3O,YAAAA,GAGJ,OAAIqP,IAAAA,CAAQT,GACDU,GAASF,IAEhBA,EAAYpC,eAAiB4B,EACtBU,GAAUF,KCxB7B,OAKc,CAACv9C,EAAO4S,KACd,GAAI5S,MAAAA,EACA,MAAM,IAAIiF,UAAU2N,GAExB,OAAO5S,GCLf,SAAS06C,GAAqBv3C,EAAKnD,GAC/B,OAAO+M,mBAAmB5J,GAAO,IAAM4J,mBAAmB/M,GAgB9D,SAASg6C,GAAgBtJ,EAAKoM,GAC1B,IAAKA,EACD,OAAOpM,EAQX,OAAOA,EAAM,IALOlwC,OAAOmH,KAAKm1C,GAC3Bp0C,KAAKvF,GAnBd,SAAuCA,EAAK25C,GACxC,MAAMrC,EAAkBqC,EAAY35C,GACpC,IAAI3B,EAAS,GAQb,OANIA,EADAI,MAAMF,QAAQ+4C,GACLA,EAAgB/xC,KAAI,SAAS1I,GAClC,OAAO06C,GAAqBv3C,EAAKnD,MAClCwiC,KAAK,KAECkY,GAAqBv3C,EAAK25C,EAAY35C,IAE5C3B,EAUQm5C,CAA8Bx3C,EAAK25C,KAE7Cta,KAAK,KAId,QAAgBkb,EAAab,EAAYC,IAE9B9C,GADKrL,GAAS+O,EAAab,GACNC,2VCjCzB,SAASa,GAAqBnzC,GACjC,IAAI8yC,EAEJ,OAAQ9yC,EAAQwjC,WAChB,IAAK,QACDsP,EAAW9yC,EAAQozC,UAAUjuC,MAC7B,MACJ,IAAK,OACD2tC,EAAW9yC,EAAQozC,UAAUC,KAC7B,MACJ,QACIP,EAAW9yC,EAAQozC,UAAUjuC,MAC7BnF,EAAQsyC,YAAYgB,aAAe,SAUvC,MAN0B,SAAtBtzC,EAAQwjC,WAAwBxjC,EAAQo6B,gBACxCp6B,EAAQsyC,YAAYlY,gBAAkBp6B,EAAQo6B,gBACvCp6B,EAAQsyC,aAAetyC,EAAQsyC,YAAYlY,wBAC3Cp6B,EAAQsyC,YAAYlY,gBAGxB6Y,qWAAA,EACH/M,IAAK,gBAAkB4M,EACvB9C,gBAAiBhwC,EAAQsyC,YACzB3B,eAAgB3wC,EAAQqwC,WACxB/J,QAAStmC,EAAQsmC,QACjBoJ,YAAa,SACV1vC,EAAQ2jC,aAAe,CAAEA,YAAa3jC,EAAQ2jC,eAClD16B,MAAMo0B,GACoC,WAArCr9B,EAAQsyC,YAAYgB,aC9BFL,GAAS,CAAE/M,IAAK,gBAAkB/wC,GDgCpBkoC,IAE7BA,IE7BR,MAAMkW,GAA6B,CAACC,EAA+BC,IAC/D,CAACjR,EAAQxiC,EAAS2jC,KACrB,MAAM2O,EAAc,GAChBjC,EAAa,GAEjBiC,EAAY35C,IAAMqH,EAAQrH,IAE1B,MAAM2tC,EAAU,GACZtmC,EAAQk4B,aACRoO,EAAQpO,WAAal4B,EAAQk4B,YAGjC,MAAMwb,EAAgBC,GAAe3zC,EAAQm9B,YAE7CqF,EAASkQ,GAASlQ,GAClB6N,EAAWlT,WAAauW,EAAcx1C,KAAI,SAAS01C,GAC/C,MAAM,WAAEvB,EAAF,YAAcC,EAAd,WAA2BC,GAAeH,GAC5C5P,EAAQoQ,GAASgB,IAGf97B,EAAU,CACZ+7B,MAAOC,GAAWL,EAAeM,OAAQ1B,EAAYC,IAOzD,OAJKU,IAAAA,CAAQT,KACTz6B,EAAQk8B,KAAOzB,GAGZz6B,KAMX,OAAOq7B,GAAqB,CACxB3P,UAJcxjC,EAAQwjC,YACrB6M,EAAWlT,WAAWhkC,QAAUq6C,EAAgC,OAAS,YAI1EpZ,gBAAiBp6B,EAAQo6B,gBACzBkY,YAAaA,EACbjC,WAAYA,EACZ/J,QAAAA,EACA8M,UAAW,CACPC,KAAMI,EAAeQ,UACrB9uC,MAAOsuC,EAAeS,OAE1BvQ,YAAAA,KCjDNwQ,GAAqB,CAAC,UAAW,gBAgBvC,SAASC,GAAc7B,GACnB,MAAMlC,EAAa,CACXgE,QAAS9B,EAAW8B,QACpBC,aAAc/B,EAAW+B,cAE7BC,EAnBR,SAA+BhC,GAC3B,MAAMiC,EAA0Bx+C,OAAOmH,KAAKo1C,GACvC9tC,QAAOswB,IAAwD,IAA3Cof,GAAmB5gB,QAAQwB,KAEpD,OAAKyf,EAAwBr7C,OAItBq7C,EAAwBtjB,QAAO,CAACujB,EAAa1f,KAChD0f,EAAY1f,GAAawd,EAAWxd,GAC7B0f,IACR,IANQ,KAccC,CAAsBnC,GAQ/C,OANIgC,IACAlE,EAAWrwC,QAAU,CACjBg0C,KAAMO,IAIPlE,EC8BX,MAAM7N,GAAS,CACX7pC,IAAK,CACD0+B,WAAY,CAACsd,KAEjBzc,WAAY,CACRb,WAAY,CAACoM,IACbwN,YAAaC,GACb7c,aAAczyB,GAAAA,IAElBgzC,WAAY,CACRvd,WAAY,CnD4xBb,SAAmBt5B,GACtB,GAAI03B,GAAW13B,GACX,MAAM,IAAItD,UAAU,6BAA+BsD,EAAQ,aAAeA,EAAQ,WAEtF,OAAOA,ImD/xBHw5B,UAAU,GAEdsd,eAAgB,CACZxd,WAAY,CnDgdb,SAAwBwd,GAC3B,OAAOrd,GAAyB,EAAG,GAAI,8CAAhCA,CAA+Eqd,OmD7cnF,SAASC,GAAe90C,EAASkgC,GACpC,MAAMkT,EAAY,IAAInT,GAAUC,GAC1B6U,EAAmBlC,GAA4BO,EAAUjqC,QAAQ,gBACjE6rC,EAAkBzB,GAA2B,IAAK,CACpDQ,OAAQX,EAAUjqC,QAAQ,yBAC1B8qC,UAAWb,EAAUjqC,QAAQ,2BAC7B+qC,MAAOd,EAAUjqC,QAAQ,yBAU7B,OAAOy6B,GACHpB,GACA/P,EACA,kBAVJ,SAA2Bp1B,EAAMsmC,GAC7B,OAAOoR,EAAiBvS,GAAQnlC,EAAMsmC,GAAa16B,KAAKq0B,OAE5D,SAAgCjgC,EAAMsmC,GAClC,OAAOqR,EAAgBxS,GAAQnlC,EAAMsmC,GAAa16B,MAAKo0B,GAAYC,GAAcD,EAAUH,QAGxF0G,CAML5jC,EAASkgC,4BC3Ef,SAASxK,GAAmBC,EAAWpU,GACnC,GAAIoU,EACA,MAAM,IAAIl7B,UAAU8mB,GAI5B,SAAS0zB,GAAkB5Z,GACvB,MAAM6Z,EAAcrgB,WAAWwG,GAC/B,IAAK1tB,SAASunC,GACV,MAAM,IAAIz6C,UAAU,8BAAgC4gC,EAAW,YAAcA,EAAW,WAG5F,OAAO6Z,EAAc,IADXxxC,KAAKoK,MAAMonC,EAAc,IAAM,KAI7C,SAASC,GAAmB/Z,GACxB,MAAMga,EAAevgB,WAAWuG,GAChC,IAAKztB,SAASynC,GACV,MAAM,IAAI36C,UAAU,8BAAgC2gC,EAAY,YAAcA,EAAY,WAG9F,OAAOga,EAAe,IADZ1xC,KAAKoK,MAAMsnC,EAAe,KAAO,KAiB/C,SAASC,GAAU7/C,GACf,GAAI4B,MAAMF,QAAQ1B,IAA2B,IAAjBA,EAAM2D,OAC9B,MAAO,IAAI3D,GAAO8/C,UAEtB,GAAI5gB,GAAAA,CAASl/B,GAAQ,CACjB,MAAMsE,EAAQtE,EAAMsE,MAAMg6B,GAG1B,OAFA4B,IAAoB57B,IAAUA,EAAM,KAAOA,EAAM,GAC7C,4BAA8BtE,EAAQ,YAAcA,EAAQ,WACzD,CAACsE,EAAM,GAAIA,EAAM,IAE5B,GAdJ,SAA0BtE,GACtB,OAAO+G,GAAAA,CAAW/G,EAAMyhC,MAAQ16B,GAAAA,CAAW/G,EAAM2hC,KAa7Coe,CAAiB//C,GACjB,MAAO,CAACA,EAAMyhC,MAAOzhC,EAAM2hC,OAE/B,GA9Dcqe,EA8DDhgD,EA7DNQ,OAAOQ,UAAUC,eAAeI,KAAK2+C,EAAQ,SACnDx/C,OAAOQ,UAAUC,eAAeI,KAAK2+C,EAAQ,QAAUx/C,OAAOQ,UAAUC,eAAeI,KAAK2+C,EAAQ,QA6DjG,MAAO,CAAChgD,EAAMyhC,KA1DVwe,EA0DkBjgD,EAAM0hC,IA1DjBwe,EA0DsBlgD,EAAM2hC,SAzD7BphC,IAAV0/C,EACOC,EAEJD,IAJX,IAAYA,EAAOC,EALDF,EAoCJG,EA6BV,GA7BUA,EA6BDngD,EA5BFQ,OAAOQ,UAAUC,eAAeI,KAAK8+C,EAAI,MAAQ3/C,OAAOQ,UAAUC,eAAeI,KAAK8+C,EAAI,KA6B7F,MAAO,CAACngD,EAAM8lC,EAAG9lC,EAAMwO,GAE3B,GA5BJ,SAA6BxO,GACzB,OAAOQ,OAAOQ,UAAUC,eAAeI,KAAKrB,EAAO,aAC/CQ,OAAOQ,UAAUC,eAAeI,KAAKrB,EAAO,aA0B5CogD,CAAoBpgD,GACpB,MAAO,CAACA,EAAM6lC,SAAU7lC,EAAM4lC,WAElC,MAAM,IAAI3gC,UAAU,4BAA8BjF,EAAQ,YAAcA,EAAQ,WAsBpF,SAASqgD,GAAgBtd,GACrB,IAAIud,EAAIC,EACR,GArBJ,SAAsBxd,GAClB,OAAOviC,OAAOQ,UAAUC,eAAeI,KAAK0hC,EAAM,WAC9CviC,OAAOQ,UAAUC,eAAeI,KAAK0hC,EAAM,WAC3CviC,OAAOQ,UAAUC,eAAeI,KAAK0hC,EAAM,WAC3CviC,OAAOQ,UAAUC,eAAeI,KAAK0hC,EAAM,UAiB3Cyd,CAAazd,GACb,OAAOA,EAEX,GAjBJ,SAAkCA,GAC9B,OAAOviC,OAAOQ,UAAUC,eAAeI,KAAK0hC,EAAM,SAC9CviC,OAAOQ,UAAUC,eAAeI,KAAK0hC,EAAM,WAC3CviC,OAAOQ,UAAUC,eAAeI,KAAK0hC,EAAM,UAC3CviC,OAAOQ,UAAUC,eAAeI,KAAK0hC,EAAM,OAa3C0d,CAAyB1d,GACzB,MAAO,CAAEI,OAAQJ,EAAK2d,KAAMzd,OAAQF,EAAK4d,OAAQvd,OAAQL,EAAK6d,MAAO1d,OAAQH,EAAK8d,KAEtF,GAbJ,SAAkC9d,GAC9B,OAAOh8B,GAAAA,CAAWg8B,EAAK+d,UAAY/5C,GAAAA,CAAWg8B,EAAKge,UAC/Ch6C,GAAAA,CAAWg8B,EAAKie,WAAaj6C,GAAAA,CAAWg8B,EAAKke,UAW7CC,CAAyBne,GACzB,MAAO,CACHI,OAAQJ,EAAK+d,UACb7d,OAAQF,EAAKie,WACb5d,OAAQL,EAAKge,UACb7d,OAAQH,EAAKke,YAGrB,GAAIl6C,GAAAA,CAAWg8B,EAAKoe,eAAiBp6C,GAAAA,CAAWg8B,EAAKqe,cAGjD,OAFAb,EAAKV,GAAU9c,EAAKoe,gBACpBb,EAAKT,GAAU9c,EAAKqe,gBACb,CAAEje,OAAQmd,EAAG,GAAIrd,OAAQqd,EAAG,GAAIld,OAAQmd,EAAG,GAAIrd,OAAQqd,EAAG,IAErE,GAAI3+C,MAAMF,QAAQqhC,IAAyB,IAAhBA,EAAKp/B,OAC5B,MAAO,CAAEw/B,OAAQJ,EAAK,GAAIE,OAAQF,EAAK,GAAIK,OAAQL,EAAK,GAAIG,OAAQH,EAAK,IAE7E,GAAInhC,MAAMF,QAAQqhC,IAAyB,IAAhBA,EAAKp/B,OAG5B,OAFA28C,EAAKT,GAAU9c,EAAK,IACpBwd,EAAKV,GAAU9c,EAAK,IACb,CAAEI,OAAQmd,EAAG,GAAIrd,OAAQqd,EAAG,GAAIld,OAAQmd,EAAG,GAAIrd,OAAQqd,EAAG,IAErE,GAAIrhB,GAAAA,CAAS6D,IAEW,KADpBA,EAAOA,EAAKse,OAAOjzC,MAAM,YAChBzK,OACL,MAAO,CACHw/B,OAAQ9D,WAAW0D,EAAK,IACxBE,OAAQ5D,WAAW0D,EAAK,IACxBK,OAAQ/D,WAAW0D,EAAK,IACxBG,OAAQ7D,WAAW0D,EAAK,KAIpC,MAAM,IAAI99B,UAAU,kBAAoB89B,EAAO,YAAcA,EAAO,qBAyBxE,SAASue,GAAkBthD,EAAOuhD,GAE9B,GAAIpf,GAAAA,CAAMniC,IAAoB,KAAVA,EAChB,MAAO,GAGX,GAAIuhD,EAAQvhD,GACR,OAAOA,EAGXA,EAAQA,EAAMqM,cAEd,IAAK,MAAMm1C,KAAYD,EACnB,GAAI/gD,OAAOQ,UAAUC,eAAeI,KAAKkgD,EAASC,IAA0B,iBAAbA,GAC3DhhD,OAAOQ,UAAUC,eAAeI,KAAKkgD,EAAQC,GAAUC,SAAUzhD,GAEjE,OAAOwhD,EAKf,OAFA7U,QAAQC,KAAK,8BAAgC5sC,EACzC,qBAAuBuhD,EAAQ1iB,aAAa7+B,MAAQ,2BACjDuhD,EAAQ1iB,aAAa7+B,MA8BhC,SAAS0hD,GAAsB1hD,GAC3B,MAAMwhC,EAAQqe,GAAU7/C,GACxB,OAAOy/C,GAAkBje,EAAM,IAAM,IAAMme,GAAmBne,EAAM,IAGxE,SAASmgB,GAAqB3hD,GAC1B,OAAIk/B,GAAAA,CAASl/B,IAAUA,EAAM+9B,QAAQ,WAAa,EApBtD,SAA0B/9B,GACtB,MAAMsE,EAAQtE,EAAMsE,MAAMi6B,GAC1B2B,KAAoB57B,GAAUA,EAAM,IAAOA,EAAM,IAAOA,EAAM,IAC1D,kBAAoBtE,EAAQ,YAAcA,EAAQ,eAEtD,MAAMyhC,EAAMpC,WAAW/6B,EAAM,IACvBo9B,EAAMrC,WAAW/6B,EAAM,IACvBs9C,EAASviB,WAAW/6B,EAAM,IAIhC,OAHA47B,IAAoB/nB,SAASspB,KAAStpB,SAASupB,GAC3C,kBAAoB1hC,EAAQ,YAAcA,EAAQ,eAE/C,UAAYyhC,EAAM,IAAMC,EAAM,IAAMkgB,EAAS,IAUzCC,CAAiB7hD,GAExB4B,MAAMF,QAAQ1B,IAA2B,IAAjBA,EAAM2D,OACvB,UAAY87C,GAAkBz/C,EAAM,IAAM,IAC7C2/C,GAAmB3/C,EAAM,IAAM,IAAMA,EAAM,GAAK,IAEjD0hD,GAAsB1hD,GAGjC,SAAS8hD,GAAyBC,GAC9B,MAAMC,EAAS,GACf,IAAK,MAAMxgB,KAASugB,EACZvhD,OAAOQ,UAAUC,eAAeI,KAAK0gD,EAAavgB,IAClDwgB,EAAO39C,KAAKq9C,GAAsBK,EAAYvgB,KAGtD,OAAOwgB,EAGX,SAASC,GAAgCzgB,GACrC,IAAKtC,GAAAA,CAASsC,GACV,OAAOA,EAGX,MAAM0gB,EAAa1gB,EAAMpzB,MAAM,KAE/B,MAAO,CACHy3B,SAAUqc,EAAW,GACrBtc,UAAWsc,EAAW,IAQvB,SAASC,GAAmBniD,GAC/B,OArHJ,SAA8B+iC,GAC1B,IAAIqf,EAAIrf,EAAKI,OAAQ5hC,EAAIwhC,EAAKK,OAAQ4U,EAAIjV,EAAKE,OAAQv3B,EAAIq3B,EAAKG,OAChE,GAAI3hC,EAAI6gD,EAAI,IACR7gD,EAAI,IACJ6gD,GAAK,QACF,CACH,GAAI7gD,EAAI,IAAK,CACT,MAAMq/C,EAAQ1yC,KAAKoK,KAAK8pC,EAAI,KAC5B7gD,GAAK,IAAMq/C,EACXwB,GAAK,IAAMxB,EAEf,GAAIwB,GAAK,IAAK,CACV,MAAM1B,EAAOxyC,KAAKoK,MAAM/W,EAAI,KAC5BA,GAAK,IAAMm/C,EACX0B,GAAK,IAAM1B,GAKnB,OAFA1I,EAAIA,GAAK,IAAM,GAAKA,EACpBtsC,EAAIA,EAAI,GAAK,GAAKA,EACX,CAAEy3B,OAAQif,EAAGnf,OAAQ+U,EAAG5U,OAAQ7hC,EAAG2hC,OAAQx3B,GAkG3C22C,CAAqBhC,GAAgBrgD,IAWzC,SAASwhC,GAAMxhC,GAClB,OAAO0hD,GAAsB1hD,GAG1B,SAASsiD,GAAStiD,GACrB,GAAIA,GAASA,aAAiBmL,KAC1B,OAAOnL,EAAMuiD,cAGjB,IAAKviD,IAAUk/B,GAAAA,CAASl/B,GACpB,MAAM,IAAIiF,UAAU,kBAAoBjF,EAAQ,YAAcA,EAAQ,wBAK1E,MAHc,QAAVA,IACAA,EAAQ,IAAImL,KAAKnL,GAAOuiD,eAErBviD,EAGJ,SAAS0kC,GAAa1kC,GACzB,IAAIwiD,EACJtiB,IAAoBlgC,IAAU4B,MAAMF,QAAQ1B,GACxC,kBAAoBA,EAAQ,YAAcA,EAAQ,8BAEtD,IAAK,MAAMyiD,KAAcziD,EACjBQ,OAAOQ,UAAUC,eAAeI,KAAKrB,EAAOyiD,KAC5CD,EAASxiD,EAAMyiD,GACK,YAAhBD,EAAO/gD,KACP+gD,EAAOE,SAAWZ,GAAyBU,EAAOE,UAC3B,WAAhBF,EAAO/gD,OACd+gD,EAAOryC,SAAWuxC,GAAsBc,EAAOryC,YAI3D,OAAOnQ,EAOJ,SAAS2iD,GAAe3iD,GAC3B,OAAOshD,GAAkBthD,EAAO4jC,GA0F7B,SAASgf,GAAe5iD,GAC3B,IAAKA,EACD,MAAO,GAEX,GAAIk/B,GAAAA,CAASl/B,GAET,OADAA,EAAQA,EAAMqhD,OAAO1+C,QAAQ,cAAe,MAC/ByL,MAAM,SAEvB,GAAIxM,MAAMF,QAAQ1B,GACd,OAAOA,EAEX,MAAM,IAAIiF,UAAU,kBAAoBjF,EAAQ,YAAcA,EAAQ,yBA8BnE,SAAS6iD,GAAyB7iD,GACrC,GAAIk/B,GAAAA,CAASl/B,GACT,OAAOA,EAGX,IAAK4B,MAAMF,QAAQ1B,GACf,MAAM,IAAIiF,UAAU,wBAExB,OAAOjF,EAAMwiC,KAAK,KAiBf,SAASsgB,GAAe9iD,GAC3B,GAAI4B,MAAMF,QAAQ1B,GACd,OAAOA,EAAMwiC,OAEb,MAAM,IAAIv9B,UAAU,wBAIrB,SAASsD,GAAMvI,GAClB,OAAO+iD,IAAAA,CAAU/iD,GCred,MCmGDgtC,GAAS,CACX7pC,IAAK,CACD0+B,WAAY,CAACmhB,IAGjBtgB,WAAY,CACRb,WAAY,CAACoM,IACbwN,YAAaC,GACb7c,aAAczyB,GAAAA,IASlB62C,cAAe,CACXphB,WAAY,CAACqhB,GAA0B,EAAG,OAC1CnhB,UAAU,GAOdohB,cAAe,CACXthB,WAAY,CAACuhB,EAAmB,CAAC,QAAS,oBA0C9CC,MAAO,CACHthB,UAAU,EACVyJ,WAAY,CF8Pb,SAAexY,GAClB,MAAO,CACHgvB,OAAQhvB,EAAOtqB,IAAIm3C,IAAWn3C,KAAK,IAAD,IAAE+4B,EAAKC,GAAP,QAAiB,CAAED,IAAAA,EAAKC,IAAAA,SE/P1DG,WAAY,CtD24Bb,SAAe7hC,GAClB,IAAIgiD,EAEJ,QAA4B,IAAjBhiD,EAAMgiD,OAGb,MAAM,IAAI/8C,UAAU,yCAGxB,GALI+8C,EAAShiD,EAAMgiD,OAKfA,KAAYpgD,MAAMF,QAAQsgD,IAAWA,EAAOr+C,OAAS,GACrD,MAAM,IAAIsB,UAAU,wBAChB+8C,EAAS,gEAGjB,OADAA,EAAO5yC,QAAQmyB,IACRvhC,IsDx5BHy7C,YAAaC,IAGjB2C,MAAO,CACHtc,UAAU,EACVF,WAAY,CAACsd,IACb1D,YAAaC,IASjBnX,MAAO,CACH1C,WAAY,CAACqhB,GAA0B,EAAG,MAG9CzhD,KAAM,CACFogC,WAAY,CAACsd,IACbtgB,aD5L0B,mBC6L1B4c,YAAaC,IAGjB4H,SAAU,CACNzhB,WAAY,CAACsd,KAGjBoE,YAAa,CACT1hB,WAAY,CAACsd,KAGjBpb,aAAc,CACVlC,WAAY,CAAC2hB,KAGjBC,WAAY,CACR5hB,WAAY,CAAC6hB,IAGjBC,WAAY,CACR9hB,WAAY,CAAC6hB,IAGjBE,aAAc,CACV/hB,WAAY,CAACuhB,EAAmB,CAAC,iBAAkB,4BAGvDS,SAAU,CACNhiB,WAAY,CAACuhB,EAAmB,CAAC,QAAS,wBAe9CU,OAAQ,CACJjiB,WAAY,CAACuhB,EAAmB,CAAC,aAAc,eAAgB,kBAAmB,YAWtFW,aAAc,CACVliB,WAAY,CAACmiB,KAGjB1mC,KAAM,CACFukB,WAAY,CAACsd,MAId,SAAS8E,GAAiBz5C,EAASkgC,GACtC,MAAMkT,EAAY,IAAInT,GAAUC,GAC1BwZ,EAAgB7G,GAA4BO,EAAUjqC,QAAQ,mBAC9DwwC,EAAepG,GAA2B,IAAK,CACjDQ,OAAQX,EAAUjqC,QAAQ,4BAC1B8qC,UAAWb,EAAUjqC,QAAQ,2BAC7B+qC,MAAOd,EAAUjqC,QAAQ,yBAY7B,OAAOy6B,GACHpB,GACA/P,EACA,oBAZsB,CAACp1B,EAAMsmC,IACtB+V,EAAclX,GAAQnlC,EAAMsmC,GAC9B16B,MAAKo0B,GAAYC,GAAcD,EAAUJ,QAEnB,CAAC5/B,EAAMsmC,IAC3BgW,EAAanX,GAAQnlC,EAAMsmC,GAC7B16B,MAAKo0B,GAAYC,GAAcD,EAAUJ,OAG3C2G,CAML5jC,EAASkgC,GCtRf,MAAM0Z,GACU,aADVA,GAEQ,WAFRA,GAGG,MAcT,SAASC,GAAclnB,GACnB,GAAIlhB,MAAMojB,WAAWlC,MAAUhlB,SAASglB,GACpC,MAAM,IAAI5xB,MAAM,8CAAgD4xB,EAAM,YAAcA,EAAM,WAOlG,SAASmnB,GAA0Bn4C,GAC/B,MAAMo4C,EAAwB,GAC9Bp4C,EAAIiD,SAAQ,SAAS4B,GACjB,MAAM8L,EAAO9L,EAAQ5C,MAAM,KAC3B,GAAoB,IAAhB0O,EAAKnZ,OACL,MAAM,IAAI4H,MAAM,mDAAqDyF,GAEzE,GAA8B,IAA1B8L,EAAK,GAAGukC,OAAO19C,OACf,MAAM,IAAI4H,MAAM,kCAEpB,GAA8B,IAA1BuR,EAAK,GAAGukC,OAAO19C,OACf,MAAM,IAAI4H,MAAM,wCAIpB,GAFA84C,GAAcvnC,EAAK,IACnBunC,GAAcvnC,EAAK,IACftc,OAAOQ,UAAUC,eAAeI,KAAKkjD,EAAuBllB,WAAWviB,EAAK,KAC5E,MAAM,IAAIvR,MAAM,oBAAsBuR,EAAK,IAE3CynC,EAAsBllB,WAAWviB,EAAK,KAAOuiB,WAAWviB,EAAK,OAGjEtc,OAAOmH,KAAK48C,GAAuB5gD,OAAS,GAzCpD,SAAwC4gD,GACpC,MAAMC,EAAahkD,OAAOmH,KAAK48C,GAAuBxU,MAAK,SAASvhC,EAAGs3B,GACnE,OAAOzG,WAAW7wB,GAAK6wB,WAAWyG,MAEhC2e,EAAaD,EAAW7gD,OAE9B,GAAI4gD,EAAsBC,EAAWC,EAAa,IAAMF,EAAsBC,EAAWC,EAAa,IAClG,MAAM,IAAIl5C,MAAM,2DAmChBm5C,CAA+BH,GAIvC,SAASI,GAAyB36C,EAAKvI,GACnC,GAAIuI,EAAI46C,mBAAqB56C,EAAI46C,oBAAsBnjD,GAAQA,IAAS2iD,GACpE,MAAM,IAAI74C,MAAM,sCAAwC9J,GAoBhE,SAASojD,GAA4B76C,EAAK86C,EAAYC,GAClD,IAAM/6C,EAAI86C,KAAe96C,EAAI+6C,GACzB,MAAM,IAAIx5C,MAAM,wDAA0Du5C,EAAa,KAAOC,GAetG,SAASC,GAAmBh7C,GACxB,GAAuB,YAAnBA,EAAIi7C,YAA+C,eAAnBj7C,EAAIi7C,WACpC,MAAM,IAAI15C,MAAM,4FAWxB,SAAS25C,GAA4Bl7C,GACjC,IAAKA,EAAIm7C,+CAAiDn7C,EAAIo7C,0CAC1D,MAAM,IAAI75C,MAAM,yFAmBjB,SAASs3C,GAAyBuB,GACrC,MAAO,CAACpkD,EAAOgK,KACX,GAAIhK,MAAAA,EACA,OAIJ,GAFAglD,GAAmBh7C,GACnB26C,GAAyB36C,EAAKo6C,IACzBllB,GAAAA,CAASl/B,GACV,MAAM,IAAIiF,UAAU,+CAExB,MAAMogD,EAAarlD,EAAMoO,MAAM,KAC/B,GAAIi3C,EAAW1hD,OAAS,GAAK0hD,EAAW1hD,OAAS,GAC7C,MAAM,IAAI4H,MAAM,iFACZvL,EAAM2D,QAEd2gD,GAA0Be,IAU3B,SAASC,GAAmBlB,EAAY7kB,GAC3C,OAAO,SAASv/B,EAAOgK,GACnB,GAAKhK,IAGLglD,GAAmBh7C,GACnBk7C,GAA4Bl7C,GAC5B26C,GAAyB36C,EAAKo6C,GAC9BC,GAAcrkD,GACVA,EAAQ,GACR,MAAM,IAAIuL,MAAMg0B,EAAY,+BA4BjC,SAASgmB,GAAoBT,EAAYC,GAC5C,OAAO,SAAS/kD,EAAOgK,GACdhK,IAGLglD,GAAmBh7C,GACnBk7C,GAA4Bl7C,GAC5B26C,GAAyB36C,EAAKo6C,IAC9BS,GAA4B76C,EAAK86C,EAAYC,GAK7CF,GAA4B76C,EAAK86C,EAAY,iBAKzC96C,EAAI46C,oBAAsBR,IAC1BS,GAA4B76C,EAAK86C,EAAY,sCA/HzD,SAAsC96C,EAAK86C,EAAYC,GACnD,GAAI/6C,EAAI86C,GAAc96C,EAAI+6C,GAAc,EACpC,MAAM,IAAIx5C,MAAM,cAAgBu5C,EAAa,QAAUC,EAAa,oBA+HpES,CAA6Bx7C,EAAK86C,EAAYC,GAC9CV,GAAcrkD,KAIf,SAASylD,GAAgBX,EAAYC,GACxC,OAAO,SAAS/kD,EAAOgK,GACdhK,IAGLglD,GAAmBh7C,GACnBk7C,GAA4Bl7C,GAC5B26C,GAAyB36C,EAAKo6C,IAC9BS,GAA4B76C,EAAK86C,EAAYC,GAC7CV,GAAcrkD,KAIf,SAAS0lD,GAAc9W,EAAG/mC,GAC7B,IAAI89C,EACAC,EAEJ,GADkD,aAA3B/9C,EAAK+8C,mBAIxB,GAFAe,EAAY99C,EAAKg+C,mBACjBD,EAAwB/9C,EAAKi+C,kBACzBF,EAAwBD,EACxB,MAAM,IAAIp6C,MAAM,8DAKpB,GAFAo6C,EAAY99C,EAAKk+C,oBACjBH,EAAwB/9C,EAAKm+C,mBACzBJ,EAAwBD,EACxB,MAAM,IAAIp6C,MAAM,qDAGxB,GAAIq6C,EAAwB,EACxB,MAAM,IAAIr6C,MAAM,+BAgBjB,SAAS06C,GAA+BjmD,EAAO6H,EAAM1E,GACxD,MAAM+iD,EAAsB,iDAAkDr+C,EACxEs+C,EAAqB,8CAA+Ct+C,EACpEu+C,EAA4C,aAA3Bv+C,EAAK+8C,kBAE5B,GAAY,sBAARzhD,GAA+BnD,EAAO,CACtC,IAAKomD,EACD,MAAM,IAAI76C,MAAM,kEAEpB,IAAK46C,EACD,MAAM,IAAI56C,MAAM,gEAEjB,GAAY,uBAARpI,GAAgCnD,EAAO,CAC9C,GAAIomD,EACA,MAAM,IAAI76C,MAAM,kFAEpB,IAAK26C,EACD,MAAM,IAAI36C,MAAM,8DAwBrB,SAAS86C,GAAiCC,EAAeC,GAC5D,OAAO,SAASvmD,EAAOgK,GACnB,GAAKhK,GAGDQ,OAAOQ,UAAUC,eAAeI,KAAK2I,EAAKu8C,IAC1CnpB,EAAapzB,EAAIu8C,IACjB,MAAM,IAAIh7C,MAAM+6C,EAAgB,iDAC5BC,IAKT,SAASC,GAA2BC,EAAeC,GACtD,OAAO,SAAS1mD,EAAOgK,GACnB,GAAKhK,IAGAQ,OAAOQ,UAAUC,eAAeI,KAAK2I,EAAK08C,GAC3C,MAAM,IAAIn7C,MAAMm7C,EAAqB,sCAAwCD,IAKlF,SAASE,GAAmC/X,EAAG/mC,GAClD,MAAM++C,EAAgBpJ,IAAAA,CAAQ31C,EAAKw2C,OAC7BwI,EAAmBrJ,IAAAA,CAAQ31C,EAAKy7C,UAChCwD,EAAsBtJ,IAAAA,CAAQ31C,EAAK07C,aACzC,GAAIqD,GAAiBC,GAAoBC,EACrC,MAAM,IAAIv7C,MAAM,wFAIjB,SAASw7C,GAAyCnY,EAAG/mC,GACxD,MAAMm/C,EAAqCn/C,EAAKm/C,mCAC1CC,EAAoCp/C,EAAKo/C,kCAK/C,GAHA5C,GAAc2C,GACd3C,GAAc4C,GAEVA,EAAoCD,EACpC,MAAM,IAAIz7C,MAAM,6FAIpB,GAAI07C,EAAoC,IACpC,MAAM,IAAI17C,MAAM,0DAGpB,GAAIy7C,EAAqC,EACrC,MAAM,IAAIz7C,MAAM,+DCnVxB,OACY,KACG,CACH27C,MAAO,CACHrlB,WAAY,CAAC8kB,KAEjBxjD,IAAK,CACD0+B,WAAY,CAACsd,KAEjBzc,WAAY,CACRb,WAAY,CAACoM,IACbwN,YAAaC,GACb7c,aAAczyB,GAAAA,IAElBiyC,MAAO,CACHxc,WAAY,CACRsd,IAEJ1D,YAAaC,GACb7c,aAAc,IAElBsoB,UAAW,CACPtlB,WAAY,CAACmiB,KAEjBzf,MAAO,CACH1C,WAAY,CAACulB,KAEjB18C,OAAQ,CACJm3B,WAAY,CAACwlB,IACb76C,KAAM,OAEVg1C,SAAU,CACN3f,WAAY,CAACylB,IACb9b,WAAY,CAAC+b,KAEjB1jB,WAAY,CACRhC,WAAY,CAAC2lB,KAEjB5F,OAAQ,CACJ/f,WAAY,CAAC4lB,KAEjBC,OAAQ,CACJlc,WAAY,CAACmc,IAAe9lB,WAAY,CAAC+lB,IACzCjL,KAAM,CAAC+K,EAAQhP,KACX,MAAMzR,EAAcygB,EAAOt5C,MAAM,KACjCsqC,EAAejX,IAAMwF,EAAY,GACjCyR,EAAehX,IAAMuF,EAAY,KAGzCxlC,KAAM,CACFogC,WAAY,CAACsd,IACbtgB,aHpEM,SGqEN4c,YAAaC,IAEjBmM,WAAY,CACRhmB,WAAY,CAACmiB,IACbrH,KAAM,CAACmL,EAAapP,KACXoP,IAGLpP,EAAenU,MAAQ,EACvBmU,EAAeqP,IAAM,KAG7BjU,SAAU,CACNjS,WAAY,CAACuhB,EAAmB,CAAC,OAAQ,SAAU,cAEvD4E,uBAAwB,CACpBnmB,WAAY,CAACsd,KAEjB7hC,KAAM,CACFukB,WAAY,CAACuhB,EAAmB,CAAC,KAAM,KAAM,KAAM,KAAM,UAAW,KAAM,KAAM,KAAM,MAAO,UAEjGE,SAAU,CACNzhB,WAAY,CAACsd,KAEjBoE,YAAa,CACT1hB,WAAY,CAACsd,KAEjBpb,aAAc,CACVlC,WAAY,CAAC2hB,KAEjBC,WAAY,CACR5hB,WAAY,CAAC6hB,IAEjBC,WAAY,CACR9hB,WAAY,CAAC6hB,IAEjBE,aAAc,CACV/hB,WAAY,CAACuhB,EAAmB,CAAC,iBAAkB,4BAEvDS,SAAU,CACNhiB,WAAY,CAACuhB,EAAmB,CAAC,QAAS,wBAE9Cnf,SAAU,CACNpC,WAAY,CAAComB,KAEjBjkB,QAAS,CACLnC,WAAY,CAACqmB,KAEjBC,YAAa,CACTtmB,WAAY,CAACuhB,EAAmB,CAAC,MAAO,QAAS,SAAU,OAAQ,mBAM5E,MAAM/c,GAAc,KAAM,CAC7BxE,WAAY,CAACiB,IACb0I,WAAY,CAAC2W,IACbxF,KAAM,CAACtW,EAAaqS,KAChBA,EAAe0P,QAAf,UAA4B/hB,EAAYnD,OAAxC,YAAkDmD,EAAYlD,QAC9DuV,EAAe2P,SAAf,UAA6BhiB,EAAYpD,OAAzC,YAAmDoD,EAAYjD,WChGhE,MAAMklB,GACT35C,YAAYnE,EAASkgC,GACjBplC,KAAKkF,QAAUA,EACflF,KAAKolC,kBAAoBA,EACzBplC,KAAKm5B,cAAgB3uB,EAAMy4C,MAC3BjjD,KAAK0nC,OAAS,GAGlBwb,kBACI,MAAM5K,EAAY,IAAInT,GAAUnlC,KAAKolC,mBACrC,MAAO,CACH5L,OAAQue,GAA4BO,EAAUjqC,QAAQ,mBACtD+qC,MAAOX,GAA2B,IAAK,CACnCQ,OAAQX,EAAUjqC,QAAQ,4BAC1B8qC,UAAWb,EAAUjqC,QAAQ,2BAC7B+qC,MAAOd,EAAUjqC,QAAQ,0BAKrC26B,uBAAuBzmC,EAAMsmC,GACzB,OAAO7oC,KAAKkjD,kBAAkB9J,MAAMp5C,KAAK0nC,OAAQnlC,EAAMsmC,GAClD16B,MAAKo0B,GAAYC,GAAcD,EAAUH,MAGlD2G,kBAAkB7jC,EAAS2jC,GACvB,OAAO7oC,KAAKkjD,kBAAkB1pB,OAAOx5B,KAAK0nC,OAAQxiC,EAAS2jC,GACtD16B,MAAM,IAAyB,IAAzB,KAAE5L,EAAF,WAAQ66B,GAAiB,EAC5B,OAAOoF,GAAc,CACjBjgC,KAAM2C,EAAQq9C,WAAahgD,EAAKw/B,QAAQ,GAAKx/B,EAC7C66B,WAAAA,GACD+E,OAIfghB,UAAUrc,GACN9mC,KAAK0nC,OAASxO,EAAUl5B,KAAK0nC,OAAQ1nC,KAAKm5B,eAS1C,OARgB2P,GACZ9oC,KAAK0nC,OACL/P,EACAmP,GAAe,SACf9mC,KAAK+oC,kBAAkBz6B,KAAKtO,MAC5BA,KAAKgpC,uBAAuB16B,KAAKtO,MAG9BojD,CAAQpjD,KAAKkF,QAASlF,KAAKolC,oBCX1C,MAAMie,WAAuBL,GACzB35C,YAAYnE,EAASkgC,GACjBhT,MAAMltB,EAASkgC,GAEfplC,KAAK0nC,OAAOvrC,KAAO,CACfo9B,aLtEmB,iBKuEnB+pB,SAAS,GAGbtjD,KAAK0nC,OAAO3G,YAAcA,MAI3B,SAASwiB,GAAer+C,EAASkgC,GACpC,OAAQ,IAAIie,GAAen+C,EAASkgC,GAAoB+d,UAAU,kBCdtE,MAAMzb,GAAS,CACX7pC,IAAK,CACD0+B,WAAY,CAACmhB,IAGjB8F,qBAAsB,CAClBjnB,WAAY,CAACsd,IACbpd,UAAU,GAGdW,WAAY,CACRb,WAAY,CAACoM,IACbwN,YAAaC,GACb7c,aAAczyB,GAAAA,IAElB23B,aAAc,CACVlC,WAAY,CAAC2hB,KAGjBC,WAAY,CACR5hB,WAAY,CAAC6hB,IAGjBC,WAAY,CACR9hB,WAAY,CAAC6hB,KAId,SAASqF,GAA+Bv+C,EAASkgC,GACpD,MAAMkT,EAAY,IAAInT,GAAUC,GAC1BwZ,EAAgB7G,GAA4BO,EAAUjqC,QAAQ,iCAC9DwwC,EAAepG,GAA2B,IAAK,CACjDQ,OAAQX,EAAUjqC,QAAQ,0CAC1B8qC,UAAWb,EAAUjqC,QAAQ,2BAC7B+qC,MAAOd,EAAUjqC,QAAQ,yBAU7B,OAAOy6B,GACHpB,GACA/P,EACA,wBAVJ,SAA2Bp1B,EAAMsmC,GAC7B,OAAO+V,EAAclX,GAAQnlC,EAAMsmC,GAAa16B,KAAKq0B,OAEzD,SAAgCjgC,EAAMsmC,GAClC,OAAOgW,EAAanX,GAAQnlC,EAAMsmC,GAAa16B,MAAKo0B,GAAYC,GAAcD,EAAUH,QAGrF0G,CAML5jC,EAASkgC,GCxCf,MAAMse,WAAoBV,GACtB35C,YAAYnE,EAASkgC,GACjBhT,MAAMltB,EAASkgC,GAEfplC,KAAK0nC,OAAOic,cAAgB,CACxBpnB,WAAY,CAACqnB,IACbrqB,aAAc,GAGlBv5B,KAAK0nC,OAAOmc,cAAgB,CACxBtnB,WAAY,CAACqnB,IACbrqB,aAAc,GAGlBv5B,KAAK0nC,OAAOoc,OAAS,CACjBvnB,WAAY,CAACsd,KAGjB75C,KAAK0nC,OAAOqc,cAAgB,CACxB7d,WAAY,CAAC8d,GAAcC,IAC3B1nB,WAAY,CAAC2nB,KAGjBlkD,KAAK0nC,OAAOyc,UAAY,CACpB5nB,WAAY,CAACsd,KAGjB75C,KAAK0nC,OAAOnI,WAAa,CACrBhD,WAAY,CAAC6nB,KAGjBpkD,KAAK0nC,OAAO3G,YAAcA,MAI3B,SAASsjB,GAAYn/C,EAASkgC,GACjC,OAAQ,IAAIse,GAAYx+C,EAASkgC,GAAoB+d,UAAU,eCRnE,MAAMmB,WAAuBtB,GACzB35C,YAAYnE,EAASkgC,GACjBhT,MAAMltB,EAASkgC,GAEfplC,KAAK0nC,OAAOvrC,KAAO,CACfo9B,aR3GmB,iBQ4GnB+pB,SAAS,EACTnN,YAAaC,IAGjBp2C,KAAK0nC,OAAO7pC,IAAM,CACd0+B,WAAY,CAACmhB,IAGjB19C,KAAK0nC,OAAOzI,MAAQ,CAChB1C,WAAY,CAACulB,KAGjB9hD,KAAK0nC,OAAOwU,SAAW,CACnB3f,WAAY,CAACylB,KAGjBhiD,KAAK0nC,OAAOtI,aAAe,CACvB7C,WAAY,CAACgoB,IACbre,WAAY,CAACse,IACbrO,YAAaC,IAGjBp2C,KAAK0nC,OAAOoc,OAAS,CACjBvnB,WAAY,CAACsd,KAGjB75C,KAAK0nC,OAAO8G,SAAW,CACnBjS,WAAY,CAACuhB,EAAmB,CAAC,OAAQ,SAAU,cAGvD99C,KAAK0nC,OAAOgb,uBAAyB,CACjCnmB,WAAY,CAACsd,KAGjB75C,KAAK0nC,OAAOqc,cAAgB,CACxB7d,WAAY,CAAC8d,GAAcC,IAC3B1nB,WAAY,CAAC2nB,KAGjBlkD,KAAK0nC,OAAO3G,YAAcA,MAI3B,SAAS0jB,GAAev/C,EAASkgC,GACpC,OAAQ,IAAIkf,GAAep/C,EAASkgC,GAAoB+d,UAAU,kBCjFtE,MAAMuB,WAAqB1B,GACvB35C,YAAYnE,EAASkgC,GACjBhT,MAAMltB,EAASkgC,GAEfplC,KAAK0nC,OAAOka,MAAQ,CAChBrlB,WAAY,IAGhBv8B,KAAK0nC,OAAOvrC,KAAO,CACfo9B,aT/EiB,eSgFjB+pB,SAAS,GAEbtjD,KAAK0nC,OAAOqR,MAAQ,CAChBuK,SAAS,GAEbtjD,KAAK0nC,OAAO0a,OAAS,CACjB3lB,UAAU,GAEdz8B,KAAK0nC,OAAO4U,OAAS,CACjB7f,UAAU,EACVF,WAAY,CAACG,GAAyB,EAAG,OAE7C18B,KAAK0nC,OAAOma,UAAY,CACpByB,SAAS,GAIjBJ,kBACI,MAAM5K,EAAY,IAAInT,GAAUnlC,KAAKolC,mBACrC,MAAO,CACH5L,OAAQue,GAA4BO,EAAUjqC,QAAQ,yBACtD+qC,MAAOX,GAA2B,IAAK,CACnCQ,OAAQX,EAAUjqC,QAAQ,kCAC1B8qC,UAAWb,EAAUjqC,QAAQ,2BAC7B+qC,MAAOd,EAAUjqC,QAAQ,2BAMlC,SAASs2C,GAAaz/C,EAASkgC,GAClC,OAAQ,IAAIsf,GAAax/C,EAASkgC,GAAoB+d,UAAU,gBC1CpE,MAAMzb,GAAS,CACX7pC,IAAK,CACD0+B,WAAY,CAACsd,KAEjBzc,WAAY,CACRb,WAAY,CAACoM,IACbwN,YAAaC,GACb7c,aAAczyB,GAAAA,IAOlB89C,SAAU,CACNroB,WAAY,CAACsd,IACbpd,UAAU,GAEdyf,SAAU,CACN3f,WAAY,CAACylB,IACb9b,WAAY,CAAC+b,KAEjBY,YAAa,CACTtmB,WAAY,CAACuhB,EAAmB,CAAC,MAAO,QAAS,SAAU,OAAQ,iBAEvEnf,SAAU,CACNpC,WAAY,CAAComB,KAEjBpE,SAAU,CACNhiB,WAAY,CAACuhB,EAAmB,CAAC,QAAS,wBAE9CQ,aAAc,CACV/hB,WAAY,CAACuhB,EAAmB,CAAC,iBAAkB,4BAEvD9lC,KAAM,CACFukB,WAAY,CAACuhB,EACT,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,UAAW,KAAM,KAAM,MACtD,WAIL,SAAS+G,GAAU3/C,EAASkgC,GAC/B,MAAMkT,EAAY,IAAInT,GAAUC,GAC1BwZ,EAAgB7G,GAA4BO,EAAUjqC,QAAQ,sBAOpE,OAAOy6B,GACHpB,GACA/P,EACA,aARsB,CAACp1B,EAAMsmC,IACtB+V,EAAclX,GAAQnlC,EAAMsmC,GAC9B16B,MAAKo0B,GAAYC,GAAcD,EAAUJ,OAG3C2G,CAKL5jC,EAASkgC,GC3Ef,MAAMsC,GAAS,CACX7pC,IAAK,CACD0+B,WAAY,CAACsd,KAEjBzc,WAAY,CACRb,WAAY,CAACoM,IACbwN,YAAaC,GACb7c,aAAczyB,GAAAA,IAElBo1C,SAAU,CACN3f,WAAY,CAACylB,MAId,SAAS8C,GAAc5/C,EAASkgC,GAMnC,OAAO0D,GACHpB,GACA/P,EACA,iBARsB,CAACp1B,EAAMsmC,KAC7B,MAAMyP,EAAY,IAAInT,GAAUC,GAEhC,OADsB2S,GAA4BO,EAAUjqC,QAAQ,yBAC7DuwC,CAAclX,GAAQnlC,EAAMsmC,GAAa16B,KAAKq0B,MAElDsG,CAKL5jC,EAASkgC,GCNf,MAAM2f,WAAkB/B,GACpB35C,YAAYnE,EAASkgC,GACjBhT,MAAMltB,EAASkgC,GAEfplC,KAAK0nC,OAAOvrC,KAAO,CACfo9B,aZ5Ec,YY6Ed+pB,SAAS,GAGbtjD,KAAK0nC,OAAO3G,YAAcA,MAI3B,SAASikB,GAAU9/C,EAASkgC,GAC/B,OAAQ,IAAI2f,GAAU7/C,EAASkgC,GAAoB+d,UAAU,aC7CjE,MAAMzb,GAAS,CACX7pC,IAAK,CACD0+B,WAAY,CAACsd,KAEjBzc,WAAY,CACRb,WAAY,CAACoM,IACbwN,YAAaC,GACb7c,aAAczyB,GAAAA,IAElBiyC,MAAO,CACHxc,WAAY,CAACsd,IACbpd,UAAU,EACV0Z,YAAaC,IAYjB8F,SAAU,CACN3f,WAAY,CAACylB,IACb9b,WAAY,CAAC+b,IACbxlB,UAAU,GAEdwC,MAAO,CACH1C,WAAY,CAACulB,KAEjBvjB,WAAY,CACRhC,WAAY,CAAC2lB,KAEjB5F,OAAQ,CACJ/f,WAAY,CAAC4lB,KAYjB8C,UAAW,CACP1oB,WAAY,CAACsd,KAEjBuI,OAAQ,CACJlc,WAAY,CAACmc,IACb9lB,WAAY,CAAC+lB,IACbjL,KAAM,CAAC+K,EAAQhP,KACX,MAAMzR,EAAcygB,EAAOt5C,MAAM,KACjCsqC,EAAejX,IAAMwF,EAAY,GACjCyR,EAAehX,IAAMuF,EAAY,KAGzCwiB,UAAW,CACP5nB,WAAY,CAACsd,KAEjBta,WAAY,CACRhD,WAAY,CAAC6nB,MAId,SAASc,GAAahgD,EAASkgC,GAClC,MAAMkT,EAAY,IAAInT,GAAUC,GAC1BwZ,EAAgB7G,GAA4BO,EAAUjqC,QAAQ,yBAOpE,OAAOy6B,GACHpB,GACA/P,EACA,gBARJ,SAA2Bp1B,EAAMsmC,GAC7B,OAAO+V,EAAclX,GAAQnlC,EAAMsmC,GAC9B16B,MAAKo0B,GAAYC,GAAcD,OAGjCuG,CAKL5jC,EAASkgC,GCzHf,MAAMxE,GAAc,IAAIZ,GAAY,CAChCS,UAAU,IAGR0kB,GAAgBrkB,IACdA,EAAKj2B,WACLi2B,EAAKj2B,SAAW+1B,GAAYX,QAAQa,EAAKj2B,WAGzCi2B,EAAKskB,SAAWtkB,EAAKskB,QAAQrkB,cAC7BD,EAAKskB,QAAQrkB,YAAYskB,UAAYzkB,GAAYX,QAAQa,EAAKskB,QAAQrkB,YAAYskB,WAClFvkB,EAAKskB,QAAQrkB,YAAYukB,UAAY1kB,GAAYX,QAAQa,EAAKskB,QAAQrkB,YAAYukB,aAInF,SAASC,GAAoB/Y,GAUhC,OARAA,EAAKgZ,UAAU17C,SAAQ5N,IACfI,MAAMF,QAAQF,IACdA,EAAO4N,SAAQnB,IACXw8C,GAAcx8C,MAGtBw8C,GAAcjpD,MAEXswC,ECzBJ,SAASpK,GAAW7/B,GACvB,OAAMA,EAAK8/B,sBAAsB/lC,OAIjCiG,EAAK8/B,WAAa9/B,EAAK8/B,WAAWj/B,KAAKk/B,GAC/BA,EAAUC,SAASj1B,MACZ,CAAEA,MAAOg1B,EAAUC,SAASj1B,OAE5Bi4C,GAAoBjjB,EAAUC,YAItChgC,GAXI,KCWf,SAASkjD,GAAmBvgD,EAASkgC,GACjCplC,KAAKkF,QAAUA,EACflF,KAAKolC,kBAAoBA,EACzBplC,KAAK0nC,OAAS,GAoClB,SAASge,GAA0BxgD,GAC/B,OAAQ,IAAIugD,GAAmBvgD,GAAUi+C,YAlC7CsC,GAAmB/pD,UAAUiqD,KAXf,CACVC,eAAgB,iBAChBC,kBAAmB,8BAUvBJ,GAAmB/pD,UAAUynD,UAAY,SAASrc,GAW9C,OARgBgC,GAFK5P,EAAUl5B,KAAK0nC,OAAQ1nC,KAAKm5B,eAI7CxB,EACAmP,GAAe,qBACf9mC,KAAK+oC,kBAAkBz6B,KAAKtO,MAC5BA,KAAKgpC,uBAAuB16B,KAAKtO,MAG9BojD,CAAQpjD,KAAKkF,QAASlF,KAAKolC,oBAGtCqgB,GAAmB/pD,UAAUqtC,kBAAoB,SAASxmC,EAAMsmC,GAC5D,MAAMyP,EAAY,IAAInT,GAAUnlC,KAAKolC,mBAErC,OADsB2S,GAA4BO,EAAUjqC,QAAQ,0BAC7DuwC,CAAc5+C,KAAK0nC,OAAQnlC,EAAMsmC,GACnC16B,MAAKo0B,GAAYC,GAAcD,EAAUgjB,OAGlDE,GAAmB/pD,UAAUstC,uBAAyB,SAASzmC,EAAMsmC,GACjE,MAAMyP,EAAY,IAAInT,GAAUnlC,KAAKolC,mBAMrC,OALqBqT,GAA2B,IAAK,CACjDQ,OAAQX,EAAUjqC,QAAQ,oCAC1B+qC,MAAOd,EAAUjqC,QAAQ,uBACzB8qC,UAAWb,EAAUjqC,QAAQ,4BAE1BwwC,CAAa7+C,KAAK0nC,OAAQnlC,EAAMsmC,GAClC16B,MAAKo0B,GAAYC,GAAcD,EAAUH,OAOlDsjB,GAA0BhqD,UAAU2N,YAAco8C,GC1D3C,MAAMK,GAAqB,iBACrBC,GAAwB,6BCa/BC,GAAoB,CACtBnoD,IAAK,CACD0+B,WAAY,CAACsd,KAEjBzc,WAAY,CACRb,WAAY,CAACoM,IACbwN,YAAaC,GACb7c,aAAczyB,GAAAA,IAElBo1C,SAAU,CACN3f,WAAY,CAACylB,KAEjBn3C,SAAU,CACNq7B,WAAY,CAACmc,IACb9lB,WAAY,CAAC+lB,IACb7lB,UAAU,EACV0Z,YAAaC,IAEjB6P,QAAS,CACL1pB,WAAY,CAAC6hB,IAEjB9B,OAAQ,CACJ/f,WAAY,CAAC4lB,KAEjB3T,SAAU,CACNjS,WAAY,CAACuhB,EAAmB,CAAC,OAAQ,SAAU,cAEvD9lC,KAAM,CACFukB,WAAY,CAACuhB,EAAmB,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,UAAW,KAAM,KAAM,MAAO,UAEjGoI,qBAAsB,CAClB3pB,WAAY,CAACmiB,MAIfyH,GAA0B,CAC5BhqD,KAAM,CACFo9B,aAAcusB,GACdxC,SAAS,EACTnN,YAAaC,IAGjBlX,WAAY,CACRgH,WAAY,CAAC8d,GAAcC,IAC3B1nB,WAAY,CAAC2nB,KAGjBkC,iBAAkB,CACd7pB,WAAY,CAACmiB,KAGjBz/C,OAAQ,CACJs9B,WAAY,CAACsd,KAGjBwM,cAAe,CACX9pB,WAAY,CAACmiB,KAGjB4H,QAAS,CACLpgB,WAAY,CnBkSb,SAAiBxrC,GACpB,GAAIk/B,GAAAA,CAASl/B,GACT,MAAO,KAAOA,EAAM2C,QAAQ,kBAAmB,IAAIyL,MAAM,UAAUo0B,KAAK,OAAS,KAErF,GAAI5gC,MAAMF,QAAQ1B,GAAQ,CACtB,IAAK,IAAI2K,EAAI,EAAGA,EAAI3K,EAAM2D,OAAQgH,GAAK,EACnC3K,EAAM2K,GAAKwG,OAAOnR,EAAM2K,IAAIhI,QAAQ,kBAAmB,IAE3D,MAAO,KAAO3C,EAAMwiC,KAAK,OAAS,KAEtC,MAAM,IAAIv9B,UAAU,kBAAoBjF,EAAQ,YAAcA,EAAQ,0BmB3SlE6hC,WAAY,CvEm0Bb,SAAiB7hC,GACpB,MAAM6rD,EAAgB,CAAC,gBAAiB,WAAY,WAAY,OAAQ,SAAU,eAClF3rB,IAAoBhB,GAAAA,CAASl/B,KAAWA,EAAMsE,MAAM,oBAChD,6BAA+BtE,EAAQ,aAAeA,EAAQ,WAElE,MAAMqW,EAAWrW,EAAM2C,QAAQ,UAAW,IAAIyL,MAAM,KACpD,IAAK,IAAIzD,EAAI,EAAGA,EAAI0L,EAAS1S,OAAQgH,GAAK,EACtCu1B,GAAmB2rB,EAAc9tB,QAAQ1nB,EAAS1L,IAAM,EACpD,aAAekhD,EAAgB,sBAAwB7rD,EACvD,aAAeA,EAAQ,WAE/B,OAAOA,KuE30BP8rD,aAAc,CACVjqB,WAAY,CAACsd,KAGjB4M,gBAAiB,CACblqB,WAAY,CAACmiB,KAGjB/f,SAAU,CACNpC,WAAY,CAAComB,KAGjB3F,SAAU,CACNzgB,WAAY,CvEmgCb,SAAkB7hC,GACrB,OAAOyiC,GAAiBziC,EAAO,gBuEhgC7BgsD,GAA0B,CAC5BvqD,KAAM,CACFo9B,aAAcwsB,GACdzC,SAAS,EACTnN,YAAaC,IAGjBnX,MAAO,CACH1C,WAAY,CAACulB,MAId,SAAS6E,GAAqBxqD,GACjC,GAAIA,IAAS2pD,GACT,OAAO5qD,OAAOmS,OAAO,GAAI24C,GAAmBG,IACzC,GAAIhqD,IAAS4pD,GAChB,OAAO7qD,OAAOmS,OAAO,GAAI24C,GAAmBU,IAEhD,MAAM,IAAIzgD,MAAM,6BAA+B9J,GCsB5C,SAASypD,GAAe1gD,EAASkgC,GACpC,MAAMwhB,EAA8BC,GAAAA,UAAAA,YAEpC,SAASC,EAAe5hD,EAASkgC,GAC7BwhB,EAA4B7qD,KAAKiE,KAAMkF,EAASkgC,GAChDplC,KAAK0nC,OAASif,GAAqBb,IAKvC,OAFAgB,EAAeprD,UAAY,IAAIkrD,EAC/BE,EAAeprD,UAAU2N,YAAcy9C,EAC/B,IAAIA,EAAe5hD,EAASkgC,GAAoB+d,UAAU,kBC/I/D,SAAS4D,GAAaxkD,GACzB,OAAKA,GAIDjG,MAAMF,QAAQmG,EAAKw/B,UACnBx/B,EAAKw/B,QAAQj4B,SAAQ5N,IACbI,MAAMF,QAAQF,GACdA,EAAO4N,SAAQnB,IACXk4B,GAAsBl4B,MAG1Bk4B,GAAsB3kC,MAKlC2kC,GAAsBt+B,GAEfrH,OAAOmS,OAAO9K,EAAM,CACvBs/B,UAAW,IAAMA,GAAUt/B,MAlBpBA,ECFR,SAAS6/B,GAAW7/B,GACvB,OAAMA,EAAK8/B,sBAAsB/lC,OAIjCiG,EAAK8/B,WAAa9/B,EAAK8/B,WAAWj/B,KAAKk/B,GAC/BA,EAAUC,SAASj1B,MACZ,CAAEA,MAAOg1B,EAAUC,SAASj1B,OAE5By5C,GAAazkB,EAAUC,YAG/BhgC,GAVI,KCWf,OACY,KACG,CACHmgD,uBAAwB,CACpBnmB,WAAY,CAACsd,KAEjB19C,KAAM,CACFo9B,aAAc,UACd4c,YAAaC,IAEjBv4C,IAAK,CACD0+B,WAAY,CAACsd,KAEjBzc,WAAY,CACRb,WAAY,CAACoM,IACbwN,YAAaC,GACb7c,aAAczyB,GAAAA,IAElBiyC,MAAO,CACHxc,WAAY,CAACsd,IACbpd,UAAU,EACV0Z,YAAaC,IAEjByL,UAAW,CACPtlB,WAAY,CAACmiB,KAEjBzf,MAAO,CACH1C,WAAY,CAACyqB,KAEjBhvC,KAAM,CACFukB,WAAY,CAACuhB,EACT,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,UAAW,KAAM,KAAM,MACtD,UAER14C,OAAQ,CACJm3B,WAAY,CAAC4lB,IACbj7C,KAAM,OAEVg1C,SAAU,CACN3f,WAAY,CAACylB,KAEjBjhB,YAAa,CACTxE,WAAY,CAACiB,IAAsB0I,WAAY,CAAC2W,IAChDxF,KAAM,CAACtW,EAAaqS,KAChBA,EAAe0P,QAAf,UAA4B/hB,EAAYnD,OAAxC,YAAkDmD,EAAYlD,QAC9DuV,EAAe2P,SAAf,UAA6BhiB,EAAYpD,OAAzC,YAAmDoD,EAAYjD,UAGvEskB,OAAQ,CACJlc,WAAY,CAACmc,IACb9lB,WAAY,CAAC+lB,IACbjL,KAAM,CAAC+K,EAAQhP,KACX,MAAMzR,EAAcygB,EAAOt5C,MAAM,KACjCsqC,EAAejX,IAAMwF,EAAY,GACjCyR,EAAehX,IAAMuF,EAAY,KAGzCpD,WAAY,CACRhC,WAAY,CAAC2lB,KAEjB5F,OAAQ,CACJ/f,WAAY,CAAC4lB,KAEjBI,WAAY,CACRhmB,WAAY,CAACmiB,IACbrH,KAAM,CAACmL,EAAapP,KACXoP,IAGLpP,EAAenU,MAAQ,EACvBmU,EAAeqP,IAAM,KAG7BjU,SAAU,CACNjS,WAAY,CAACuhB,EAAmB,CAAC,OAAQ,SAAU,cAEvDS,SAAU,CACNhiB,WAAY,CAACuhB,EAAmB,CAAC,QAAS,wBAE9CiG,cAAe,CACX7d,WAAY,CAAC8d,GAAcC,IAC3B1nB,WAAY,CAAC2nB,OCzB7B,MAAMxc,GAASuf,KAER,SAASC,GAAQhiD,EAASkgC,GAC7B,MAAMkT,EAAY,IAAInT,GAAUC,GAC1BwZ,EAAgB7G,GAA4BO,EAAUjqC,QAAQ,oBAC9DwwC,EAAepG,GAA2B,IAAK,CACjDQ,OAAQX,EAAUjqC,QAAQ,4BAC1B8qC,UAAWb,EAAUjqC,QAAQ,2BAC7B+qC,MAAOd,EAAUjqC,QAAQ,yBAe7B,OAAOy6B,GACHpB,GAAQ/P,EACR,WAdJ,SAA2Byb,EAAgBvK,GACvC,OAAO+V,EAAclX,GAAQ0L,EAAgBvK,GACxC16B,MAAM,IAAyB,IAAzB,KAAE5L,EAAF,WAAQ66B,GAAiB,EAC5B,OAAOoF,GAAc,CACjBjgC,KAAM6wC,EAAemP,WAAahgD,EAAKw/B,QAAQ,GAAKx/B,EACpD66B,WAAAA,GACD2pB,UAGf,SAAgCxkD,EAAMsmC,GAClC,OAAOgW,EAAanX,GAAQnlC,EAAMsmC,GAAa16B,MAAK4zB,GAAWS,GAAcT,EAASK,QAEnF0G,CAKL5jC,EAASkgC,GCtBR,SAASygB,GAAkB3gD,EAASkgC,GACvC,MAAMwhB,EAA8BC,GAAAA,UAAAA,YAEpC,SAASM,EAAkBjiD,EAASkgC,GAChCwhB,EAA4B7qD,KAAKiE,KAAMkF,EAASkgC,GAEhDplC,KAAK0nC,OAASif,GAAqBZ,IAKvC,OAFAoB,EAAkBzrD,UAAY,IAAIkrD,EAClCO,EAAkBzrD,UAAU2N,YAAc89C,EAClC,IAAIA,EAAkBjiD,EAASkgC,GAAoB+d,UAAU,qBCpBzE,MAAMzb,GC1DK,CACH7pC,IAAK,CACD0+B,WAAY,CAACsd,KAEjBzc,WAAY,CACRb,WAAY,CAACoM,IACbwN,YAAaC,GACb7c,aAAczyB,GAAAA,IAElBo3B,YAAa,CACT3B,WAAY,CAAC6qB,IACb3qB,UAAU,GAEdwC,MAAO,CACH1C,WAAY,CAACulB,KAEjB9pC,KAAM,CACFukB,WAAY,CAACuhB,EACT,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,UAAW,KAAM,KAAM,MACtD,UAER14C,OAAQ,CACJo3B,UAAW,CAAC2lB,IACZj7C,KAAM,OAEVg1C,SAAU,CACN3f,WAAY,CAACylB,KASjBwE,aAAc,CACVjqB,WAAY,CAACsd,KASjBwN,WAAY,CACR9qB,WAAY,CAACsd,KASjByN,YAAa,CACT/qB,WAAY,CAACsd,KASjB0N,aAAc,CACVhrB,WAAY,CAACsd,KASjB2N,wBAAyB,CACrBjrB,WAAY,CAACsd,KASjB4N,2BAA4B,CACxBlrB,WAAY,CAACsd,KASjB6N,4BAA6B,CACzBnrB,WAAY,CAACsd,KASjB8N,mBAAoB,CAChBprB,WAAY,CAACsd,KASjB+N,WAAY,CACRrrB,WAAY,CAACsd,KAGjBrL,SAAU,CACNjS,WAAY,CAACuhB,EAAmB,CAAC,OAAQ,SAAU,cAEvDyE,WAAY,CACRhmB,WAAY,CAACmiB,KAEjBH,SAAU,CACNhiB,WAAY,CAACuhB,EAAmB,CAAC,QAAS,wBAE9C4E,uBAAwB,CACpBnmB,WAAY,CAACsd,KAEjBkK,cAAe,CACX7d,WAAY,CAAC8d,GAAcC,IAC3B1nB,WAAY,CAAC2nB,MDnEzB,SAAS2D,GAAoBtlD,GACzB,MAAMggD,EAPV,SAAyBhgD,GACrB,MAAMrG,EAASmwB,QAAQ9pB,EAAKggD,YAE5B,cADOhgD,EAAKggD,WACLrmD,EAIY4rD,CAAgBvlD,GAC/BggD,IACAhgD,EAAK08B,MAAQ,EACb18B,EAAK6C,OAAS,GAIf,SAAS2iD,GAAkB7iD,EAASkgC,GACvC,MAAMkT,EAAY,IAAInT,GAAUC,GAC1ByZ,EAAepG,GAA2B,IAAK,CACjDQ,OAAQX,EAAUjqC,QAAQ,uCAC1B+qC,MAAOd,EAAUjqC,QAAQ,uBACzB8qC,UAAWb,EAAUjqC,QAAQ,6BAE3BuwC,EAAgB7G,GAA4BO,EAAUjqC,QAAQ,8BAmBpE,OAAOy6B,GACHpB,GACA/P,EACA,qBAfJ,SAA2Bp1B,EAAMsmC,GAC7B,MAAM0Z,EAAal2B,QAAQ9pB,EAAKggD,YAEhC,OADAsF,GAAoBtlD,GACbq8C,EAAclX,GAAQnlC,EAAMsmC,GAC9B16B,MAAM,IAAyB,IAAzB,KAAE5L,EAAF,WAAQ66B,GAAiB,EAC5B,OAAOoF,GAAc,CACjBjgC,KAAMggD,EAAahgD,EAAKw/B,QAAQ,GAAKx/B,EACrC66B,WAAAA,GACD2pB,UAbf,SAAgCxkD,EAAMsmC,GAElC,OADAtmC,EAAK8/B,WAAWv4B,QAAQ+9C,IACjBhJ,EAAanX,GAAQnlC,EAAMsmC,GAAa16B,MAAKo0B,GAAYC,GAAcD,EAAUH,QAerF0G,CAML5jC,EAASkgC,GE1FR,MAAMsC,GAAS,CAClB7pC,IAAK,CACD0+B,WAAY,CAACmhB,IAEjBtgB,WAAY,CACRb,WAAY,CAACoM,IACbwN,YAAaC,GACb7c,aAAczyB,GAAAA,IAkBlBkhD,UAAW,CACPzrB,WAAY,CAACuhB,EAAmB,CAAC,UAAW,WAAY,MAAO,aAAc,gBAejFmK,QAAS,CACL1rB,WAAY,CAACmiB,KAmBjBwJ,MAAO,CACH3rB,WAAY,CAAC4rB,GAAsB,CAAC,YAAa,YAAa,UAAW,eAAgB,WACrF,oBACD,UACHjiB,WAAY,CAACkiB,KAcjBC,SAAU,CACN9rB,WAAY,ChFw0Bb,SAAkB7hC,GACrB,GAAc,QAAVA,GAAmB8/B,GAAc9/B,IAAUmL,KAAKC,MAAQD,KAAKygC,MAAM5rC,GACnE,OAAOA,EAEP,MAAM,IAAIiF,UAAU,8EAChBjF,EAAQ,YAAcA,EAAQ,agF50BlCwrC,WAAY,CAACoiB,KAcjBC,SAAU,CACNhsB,WAAY,ChFy0Bb,SAAkB7hC,GACrB,GAAI8/B,GAAc9/B,IAAUmL,KAAKC,MAAQD,KAAKygC,MAAM5rC,GAChD,OAAOA,EAEP,MAAM,IAAIiF,UAAU,uEAChBjF,EAAQ,YAAcA,EAAQ,agF70BlCwrC,WAAY,CAACoiB,KAejB3I,WAAY,CACRpjB,WAAY,CAACuhB,EAAmB,CAAC,MAAO,QAAS,OAAQ,MAAO,MAAO,aAAc,UACjF,cACD,iBAUP0K,UAAW,CACPjsB,WAAY,CAACuhB,EAAmB,CAAC,MAAO,SAAU,QAAS,eAU/D2K,YAAa,CACTlsB,WAAY,CAACuhB,EAAmB,CAAC,MAAO,SAAU,QAAS,iBAe/D4K,OAAQ,CACJnsB,WAAY,CAACuhB,EAAmB,CAAC,qBAAsB,YAU3DwB,kBAAmB,CACf/iB,WAAY,CAACuhB,EAAmB,CAAC,aAAc,YAAa,yBAWhE6K,gBAAiB,CACbpsB,WAAY,CAAC4lB,KAUjByG,cAAe,CACXrsB,WAAY,CACR4lB,GzBlEL,SAAuBznD,EAAOgK,GACjC,GA9EJ,SAAmCA,GAC/B,OAAOA,EAAImkD,wBACPnkD,EAAIokD,wBACJpkD,EAAIqkD,kBACJrkD,EAAIskD,mBA0EJC,CAA0BvkD,SAAkBzJ,IAAVP,EAClC,MAAM,IAAIuL,MAAM,kFyB4EpBijD,kBAAmB,CACf3sB,WAAY,CAAC4lB,KAUjBgH,cAAe,CACX5sB,WAAY,CAACG,GAAyB,EAAG9pB,OAAO4oB,aAUpD4tB,aAAc,CACV7sB,WAAY,CAACG,GAAyB,EAAG9pB,OAAO4oB,aAUpD6tB,cAAe,CACX9sB,WAAY,CAACG,GAAyB,EAAG9pB,OAAO4oB,aAUpD8tB,kBAAmB,CACf/sB,WAAY,CAACmiB,KA6BjB6K,gBAAiB,CACbhtB,WAAY,CAAC4rB,GAAsB,CAAC,iBAAkB,iBAAkB,iBACpE,iBAAkB,iBAAkB,iBAAkB,iBAAkB,iBACxE,iBAAkB,uBAAwB,qBAAsB,6BAEpE,sBACAjiB,WAAY,CAACkiB,KAwBjBvI,6CAA8C,CAC1CtjB,WAAY,CACRghB,GAAyB,eAE7BrX,WAAY,CAACsjB,KAOjB/I,oBAAqB,CACjBlkB,WAAY,CACRyjB,GAAmB,aAAc,yBAUzCyJ,8BAA+B,CAC3BltB,WAAY,CACRyjB,GAAmB,aAAc,mCAWzC0J,mCAAoC,CAChCntB,WAAY,CzBtMb,SAA4C7hC,EAAOgK,GACjDhK,IAGLglD,GAAmBh7C,GACnBq6C,GAAcrkD,GACdklD,GAA4Bl7C,GAC5B26C,GAAyB36C,EAAK,cAlHlC,SAAqCA,EAAKu1B,GACtC,KAAMnC,EAAapzB,EAAImkD,yBACnB/wB,EAAapzB,EAAIokD,yBACjBhxB,EAAapzB,EAAIqkD,mBACjBjxB,EAAapzB,EAAIskD,qBACjB,MAAM,IAAI/iD,MAAM,iDAAmDg0B,GA8GvE0vB,CAA4BjlD,EAAK,0CyB2MjCmkD,uBAAwB,CACpBtsB,WAAY,CACR0jB,GAAoB,yBAA0B,4BAWtD6I,uBAAwB,CACpBvsB,WAAY,CACR0jB,GAAoB,yBAA0B,4BAWtD8I,iBAAkB,CACdxsB,WAAY,CACR0jB,GAAoB,mBAAoB,wBAWhD+I,mBAAoB,CAChBzsB,WAAY,CACR0jB,GAAoB,qBAAsB,sBAyBlDH,0CAA2C,CACvCvjB,WAAY,CACRghB,GAAyB,aAE7BrX,WAAY,CAACsjB,KAOjBjJ,mBAAoB,CAChBhkB,WAAY,CACR4jB,GAAgB,qBAAsB,oBAS9CyJ,eAAgB,CACZrtB,WAAY,CACR4jB,GAAgB,iBAAkB,wBAS1C0J,mBAAoB,CAChBttB,WAAY,CACRyjB,GAAmB,WAAY,wBAUvCxR,SAAU,CACNjS,WAAY,CAACuhB,EAAmB,CAAC,OAAQ,SAAU,cA4BvDgM,WAAY,CACR5jB,WAAY,C5B3Db,SAAoBxrC,GACvB,IAAK4B,MAAMF,QAAQ1B,GACf,MAAM,IAAIiF,UAAU,wBAExB,MAAO,CACHoqD,WAAYrvD,EAAM0I,KAAK4mD,IACZ,CACHC,gBAAiBtN,GAAgCP,GAAsB4N,EAAKC,kBAC5EC,gBAAiBvN,GAAgCP,GAAsB4N,EAAKE,yB4BoDpF/T,YAAaC,IAYjB+T,cAAe,CACX5tB,WAAY,CACR6tB,GAAAA,UAA8B,GAAM,GACpCrJ,GAAiC,gBAAiB,kBAEtD7a,WAAY,CAACkiB,IACbjS,YAAaC,IAcjBiU,cAAe,CACX9tB,WAAY,CACR6tB,GAAAA,UAA8B,GAAM,GACpCrJ,GAAiC,gBAAiB,kBAEtD7a,WAAY,CAACkiB,IACbjS,YAAaC,IAejBsL,mCAAoC,CAChCnlB,WAAY,CACR2kB,GACI,qCACA,qCAEJO,KAgBRE,kCAAmC,CAC/BplB,WAAY,CACR2kB,GACI,oCACA,sCAEJO,KAqBR6I,gCAAiC,CAC7B/tB,WAAY,CAACuhB,EAAmB,CAAC,IAAK,IAAK,IAAK,KAAM,sCChmB9D,IAAIpW,GAAS,CACTka,MAAO,CACHrlB,WAAY,C1B0Ob,SAAwB+M,EAAG/mC,GAC9B,MAIMgoD,EAAoB,CAJX,uBAAwBhoD,EACzB,sBAAuBA,EACrB,oBAAqBA,EACtB,2BAA4BA,GACgBoH,QAAO6gD,GAAUA,IAAQnsD,OACpF,GAA0B,IAAtBksD,GAA2BA,EAAoB,EAC/C,MAAM,IAAItkD,MAAM,kHA2BjB,SAAmBqjC,EAAG/mC,GACzB,MAAMkoD,EAAiB,mBAGvB,GAAI,UAAWloD,GAAQA,EAAK2lD,MAAMzvB,QAAQgyB,IAAmB,EACzD,MAAM,IAAIxkD,MAAMwkD,EAAAA,mFAIpB,GAAI,eAAgBloD,GAPG,CAAC,UAAW,cAOQk2B,QAAQl2B,EAAKo9C,aAAe,EACnE,MAAM,IAAI15C,MAAM1D,EAAKo9C,WAALp9C,wFAIpB,GAAI,aAAcA,EACd,MAAM,IAAI0D,MAAM,8E0BpQpB5L,OAAQ,CACJkiC,WAAY,CAAC+lB,IACbpc,WAAY,CAACmc,IACblM,YAAaC,IAWjBsK,mBAAoB,CAChBnkB,WAAY,CACRokB,GACAP,KAYRI,kBAAmB,CACfjkB,WAAY,CACRokB,GACAP,KAWRsK,uBAAwB,CACpBnuB,WAAY,CAACG,GAAyB,EAAG9pB,OAAO4oB,aAWpDmvB,gBAAiB,CACbpuB,WAAY,CAACG,GAAyB,EAAG9pB,OAAO4oB,cAKxDkM,GAASrP,EAAOqP,GAAQkjB,ICrGxB,MAAMhqB,GAAc,IAAIZ,GAaxB,OAAgBz9B,IACRA,EAAKsoD,gBACLtoD,EAAKsoD,eAAe7f,UACpB1uC,MAAMF,QAAQmG,EAAKsoD,eAAe7f,YAGlCzoC,EAAKsoD,eAAe7f,SAAWpK,GAAYX,QAAQ19B,EAAKsoD,eAAe7f,UACvEzoC,EAAKsoD,eAAezI,OAASxhB,GAAYX,QAAQ19B,EAAKsoD,eAAezI,SAGlElnD,OAAOmS,OAAO9K,EAAM,CACvBs/B,UAAW,IAtBAt/B,CAAAA,IAER,CACHpG,KAAM,UACNulC,SAAU,CACNvlC,KAAM,UACNwlC,YAAa,CALDp/B,EAAKsoD,eAAe7f,SAAS5nC,KAAIu+B,GAAe,CAACA,EAAYtF,IAAKsF,EAAYxF,WAqB7E0F,CAAUt/B,MCxBnC,GAAgBA,GACPjG,MAAMF,QAAQmG,EAAK8/B,aAGxB9/B,EAAK8/B,WAAa9/B,EAAK8/B,WAAWj/B,KAAKk/B,GAC/BA,EAAUC,SAASj1B,MACZ,CAAEA,MAAOg1B,EAAUC,SAASj1B,OAE5Bw9C,GAAoBxoB,EAAUC,YAItChgC,GAVI,KCyEf,MAAMmlC,GH4BN,CAAgBqjB,IACZ,MAAM7uD,EAASsO,EAAMk9B,IAOrB,OANIqjB,aAAwBzuD,OACxByuD,EAAajhD,SAAQ,SAAS0J,UACnBtX,EAAOsX,MAIftX,GGpCI8uD,GAGR,SAASC,GAAwB/lD,EAASkgC,GAC7C,MAAMkT,EAAY,IAAInT,GAAUC,GAC1BwZ,EAAgB7G,GAA4BO,EAAUjqC,QAAQ,oCAC9DwwC,EAAepG,GALa,IAK6C,CAC3EU,UAAWb,EAAUjqC,QAAQ,4BAC7B+qC,MAAOd,EAAUjqC,QAAQ,wBACzB4qC,OAAQX,EAAUjqC,QAAQ,sCAa9B,OAAOy6B,GACHpB,GACA/P,EACA,2BAbsB,CAACp1B,EAAMsmC,IACtB+V,EAAclX,GAAQnlC,EAAMsmC,GAC9B16B,MAAKo0B,GAAYC,GAAcD,EAAUuoB,QAGnB,CAACvoD,EAAMsmC,IAC3BgW,EAAanX,GAAQnlC,EAAMsmC,GAC7B16B,MAAKo0B,GAAYC,GAAcD,EAAU2oB,OAG3CpiB,CAML5jC,EAASkgC,GClGf,SAAS+lB,GAAezO,GACpB,MAAM/a,EAAc,GACpB,IAAK,IAAIt8B,EAAI,EAAGA,EAAIq3C,EAAOr+C,OAAQgH,GAAK,EACpCs8B,EAAY5iC,KAAK,CAAC29C,EAAOr3C,GAAGg3B,IAAKqgB,EAAOr3C,GAAG82B,MAE/C,OAAOwF,EAGJ,SAASypB,GAAgBrN,GAC5B,MAAMsN,EAAoBtN,EAAMuN,KAAKjtD,OAAS,EAExCojC,EAlBV,SAAoBsc,GAChB,MAAO,CACH5hD,KAAM,UACNmlC,WAAY,CAACH,QAAS4c,EAAM5c,QAASoqB,SAAUxN,EAAMwN,SAAUC,eAAgB,KAenE5pB,CAAWmc,GAC3B,IAAK,IAAI14C,EAAI,EAAGA,EAAI04C,EAAMuN,KAAKjtD,OAAQgH,GAAK,EACxCo8B,EAAQH,WAAWkqB,eAAezsD,KAAKg/C,EAAMuN,KAAKjmD,GAAG87B,SAEjD4c,EAAMuN,KAAKjmD,GAAGq3C,SACdjb,EAAQC,SAAWD,EAAQC,UAAY,CACnCC,YAAa,IAGb0pB,GACA5pB,EAAQC,SAASvlC,KAAO,kBACxBslC,EAAQC,SAASC,YAAY5iC,KAAKosD,GAAepN,EAAMuN,KAAKjmD,GAAGq3C,WAE/Djb,EAAQC,SAASvlC,KAAO,aACxBslC,EAAQC,SAASC,YAAcwpB,GAAepN,EAAMuN,KAAKjmD,GAAGq3C,UAOxE,OAHIqB,EAAM0N,WACNhqB,EAAQH,WAAWmqB,SAAW1N,EAAM0N,UAEjChqB,ECnCX,MAAMb,GAAc,IAAIZ,GAWlBwB,GAAc,CAACF,EAAYC,EAAc7mC,KACvCA,IACA4mC,EAAWC,GAAgB7mC,IAwD5B,SAASgxD,GAAoBnpD,GAChC,MAAMopD,EAASppD,EAAKopD,OAWpB,OARIA,GAAUA,EAAOttD,QACjBstD,EAAO7hD,SAAQi0C,IACXA,EAAMuN,KAAKxhD,SAAQ8hD,IACfA,EAAIlP,OAAS9b,GAAYX,QAAQ2rB,EAAIlP,cAK1CxhD,OAAOmS,OAAO9K,EAAM,CACvBs/B,UAAW,IAjEAt/B,CAAAA,IACf,MAAMrG,EnFoBC,CACHC,KAAM,oBACN2lC,SAAU,ImFrBd,IAAKv/B,IAASA,EAAKopD,OACf,OAAOzvD,EAEX,IAAK,IAAImJ,EAAI,EAAGA,EAAI9C,EAAKopD,OAAOttD,OAAQgH,GAAK,EACzCnJ,EAAO4lC,SAAS/iC,KAAKqsD,GAAgB7oD,EAAKopD,OAAOtmD,KAErD,OAAOnJ,GAyDc2lC,CAAUt/B,GAC3BspD,0BAA2B,IAvDAtpD,CAAAA,IAC/B,MAAMw/B,EAAU,GAEhB,OAAKx/B,GAASA,EAAKopD,QAInBppD,EAAKopD,OAAO7hD,SAAQi0C,IAChB,MAAMrB,EAAS,GAEf,IAAK,IAAIr3C,EAAI,EAAGA,EAAI04C,EAAMuN,KAAKjtD,OAAQgH,GAAK,EACxCq3C,EAAO39C,QAAQg/C,EAAMuN,KAAKjmD,GAAGq3C,QAGjC,MAAMoP,EnFJH,CACH3vD,KAAM,oBACN2lC,SAAU,ImFGVic,EAAMwN,SAASzhD,SAAQiiD,IACnB,IAAIpqB,EAAc+a,EAAOl/C,MAAMuuD,EAAQC,gBAAiBD,EAAQE,cAAgB,GAChFtqB,EAAcA,EAAYv+B,KAAI8oD,GAAU,CAACA,EAAO7vB,IAAK6vB,EAAO/vB,OAE5D,MAAMgwB,EA7CP,CACHhwD,KAAM,UACNulC,SAAU,CACNvlC,KAAM,cAEVmlC,WAAY,IA0CR6qB,EAAWzqB,SAASC,YAAcA,EAElCH,GAAY2qB,EAAW7qB,WAAY,cAAeyqB,EAAQK,aAC1D5qB,GAAY2qB,EAAW7qB,WAAY,aAAcyqB,EAAQpM,YACzDne,GAAY2qB,EAAW7qB,WAAY,cAAeyqB,EAAQ7tB,aAC1DsD,GAAY2qB,EAAW7qB,WAAY,iBAAkByqB,EAAQM,gBAC7D7qB,GAAY2qB,EAAW7qB,WAAY,sBAAuByqB,EAAQO,qBAClE9qB,GAAY2qB,EAAW7qB,WAAY,iBAAkByqB,EAAQQ,gBAC7D/qB,GAAY2qB,EAAW7qB,WAAY,mBAAoByqB,EAAQQ,gBAC/D/qB,GAAY2qB,EAAW7qB,WAAY,MAAOyqB,EAAQS,KAElDV,EAAkBhqB,SAAS/iC,KAAKotD,MAGpCpqB,EAAQhjC,KAAK+sD,MAGV/pB,GAlCIA,GAmD0B8pB,CAA0BtpD,KCrF5D,SAASkqD,GAAyBlqD,GACrC,OAAKjG,MAAMF,QAAQmG,EAAK8/B,aAIxB9/B,EAAK8/B,WAAa9/B,EAAK8/B,WAAWj/B,KAAKk/B,GAC/BA,EAAUC,SAASj1B,MACZ,CAAEA,MAAOg1B,EAAUC,SAASj1B,OAE5Bo/C,GAAapqB,EAAUC,YAI/BhgC,GAXI,KCkBf,IAAIoqD,GAAoB,CAgBpBC,gBAAiB,CACbrwB,WAAY,CAACuhB,EAAmB,CAAC,WAAY,eAAgB,qBAyBjE+O,UAAW,CACPtwB,WAAY,CxFq6Bb,SAA0B7hC,GAC7B,MAAMwhC,EAAQlD,EACV8zB,EAAS7zB,EAETv+B,EAAM2O,YAAYxN,WAAW48B,QAAQ,UAAY,IACjD/9B,EAAQA,EAAMwiC,KAAK,MAGvB,MAAM6vB,EAAkB,IAAI/qD,OAAO,IAAMk6B,EAAMpV,OAAS,UAAYoV,EAAMpV,OAAS,IAC/EgmC,EAAOhmC,OAAS,OAASoV,EAAMpV,OAAS,KAC5C,IAAKpsB,EAAMsE,MAAM+tD,GACb,MAAM,IAAIptD,UAAU,qCAAuCjF,EAAQ,YAAcA,EAAQ,WAE7F,OAAOA,IwFj7BHwrC,WAAY,CpC6Qb,SAA0BxrC,GAC7B,MAAM6nC,EAAW,GACjB,GAAI3I,GAAAA,CAASl/B,GACT,OAAOA,EACFoO,MAAM,KACN1F,KAAK84B,GAAUA,EAAMpzB,MAAM,KAAK0xC,UAAUtd,KAAK,OAC/CA,KAAK,KAEd,GAAI5gC,MAAMF,QAAQ1B,GAAQ,CACtBkgC,GAAmBlgC,EAAM2D,OAAS,EAC9B,kBAAoB3D,EAAQ,YAAcA,EAAQ,iCAGtD6nC,EAASxjC,KAAKq9C,GAAsB1hD,EAAM,KAG1C,IAAK,IAAI2K,EAAI,EAAGA,EAAI3K,EAAM2D,OAAS,EAAGgH,GAAK,EACvCk9B,EAASxjC,KAAKs9C,GAAqB3hD,EAAM2K,KAO7C,OAHAk9B,EAASxjC,KAAKq9C,GAAsB1hD,EAAMA,EAAM2D,OAAS,KAGlDkkC,EAASrF,KAAK,KAEzB,MAAM,IAAIv9B,UAAU,kBAAoBjF,EAAQ,YAAcA,EAAQ,mCoCtSlE+hC,UAAU,EACV0Z,YAAaC,IAYjB4W,gBAAiB,CACbzwB,WAAY,CAACG,GAAyB,EAAG,KAkB7CuwB,iBAAkB,CACd1wB,WAAY,CAACuhB,EAAmB,CAAC,QAAS,OAAQ,UAAW,uBAejE5B,SAAU,CACN3f,WAAY,CxFw1Bb,SAAiC7hC,GACpC,MAAMwyD,EAAgChyD,OAAOmH,KAAK8qD,GAGlD,OAAO70B,EAA2B59B,EAAOwyD,EAFzB,iEACZA,EAAgC,UAAYxyD,EAAQ,YAAcA,EAAQ,awF11B1EwrC,WAAY,CpC8Mb,SAAiCxrC,GACpC,OAAOshD,GAAkBthD,EAAOyyD,MoCjMhCC,iBAAkB,CACd7wB,WAAY,CAACmiB,KAcjB2O,oBAAqB,CACjB9wB,WAAY,CAACuhB,EAAmB,CAAC,WAAY,QAAS,0BAe1DwP,qBAAsB,CAClB/wB,WAAY,CAACuhB,EAAmB,CAAC,OAAQ,OAAQ,6BAWrDyP,eAAgB,CACZhxB,WAAY,CAACqhB,GAA0B,EAAG,OAW9C4P,qBAAsB,CAClBjxB,WAAY,CACR4lB,GACApB,GAAiC,uBAAwB,YACzDG,GAA2B,uBAAwB,sBAY3DuM,iBAAkB,CACdlxB,WAAY,CACR4lB,GACApB,GAAiC,mBAAoB,YACrDG,GAA2B,mBAAoB,sBAgDvDwM,iBAAkB,CACdnxB,WAAY,CxFw0Bb,SAA0B7hC,GAC7B,IAAK4B,MAAMF,QAAQ1B,GACf,MAAM,IAAIiF,UAAU,kDAExB,IAAKjF,EAAM2D,QAAU3D,EAAM2D,OAAS,EAChC,MAAM,IAAIsB,UAAU,kDAExB,OAAOjF,IwF90BHwrC,WAAY,CpCkLb,SAA0BxrC,GAC7B,MAAMizD,EAAgB,GAItB,GAHI/zB,GAAAA,CAASl/B,KACTA,EAAQA,EAAMoO,MAAM,MAEpBxM,MAAMF,QAAQ1B,GAGd,IAAK,IAAI2K,EAAI,EAAGA,EAAI3K,EAAM2D,OAAQgH,IAC9BsoD,EAAc5uD,KAAKq9C,GAAsB1hD,EAAM2K,UAGnDsoD,EAAc5uD,KAAKq9C,GAAsB1hD,IAE7C,OAzLJ,SAAiCgzD,GAC7B,OAAOA,EAAiBtqD,IAAIu5C,IAwLrBiR,CAAwBD,KoC/L3BxX,YAAaC,IAsBjBgW,YAAa,CACT7vB,WAAY,CAAC4rB,GAAsB,CAC/B,WAAY,UAAW,QAAS,WAAY,aAAc,WAAY,eACtE,aAAc,SAAU,UAAW,UAAW,QAAS,WACxD,gBACHjiB,WAAY,CAACkiB,MAId,SAASyF,GAAqB9C,GACjC4B,GAAoBt0B,EAAOs0B,GAAmB/B,IAC9C,MAAM1uD,EAASsO,EAAMmiD,IAOrB,OANI5B,aAAwBzuD,OACxByuD,EAAajhD,SAAQ,SAAS0J,UACnBtX,EAAOsX,MAIftX,ECvNJ,SAAS4xD,GAAe5oD,EAASkgC,GACpC,MAAMsC,EAASmmB,KAETvV,EAAY,IAAInT,GAAUC,GAC1BwZ,EAAgB7G,GAA4BO,EAAUjqC,QAAQ,oBAC9DwwC,EAAepG,GAHiB,IAGyC,CAC3EU,UAAWb,EAAUjqC,QAAQ,4BAC7B+qC,MAAOd,EAAUjqC,QAAQ,wBACzB4qC,OAAQX,EAAUjqC,QAAQ,+BAY9B,OAAOy6B,GACHpB,EACA/P,EACA,kBAZJ,SAA2Bp1B,EAAMsmC,GAC7B,OAAO+V,EAAclX,EAAQnlC,EAAMsmC,GAC9B16B,MAAKo0B,GAAYC,GAAcD,EAAUmpB,SAElD,SAAgCnpD,EAAMsmC,GAClC,OAAOgW,EAAanX,EAAQnlC,EAAMsmC,GAC7B16B,MAAKo0B,GAAYC,GAAcD,EAAUkqB,QAG3C3jB,CAML5jC,EAASkgC,GCzFf,MAAM2lB,GAAe,CAAC,WAAY,aAAc,uBAAwB,kBACpE,kBAAmB,mBAAoB,WAAY,mBAAoB,sBACvE,mBAAoB,uBAAwB,mBAAoB,+CAChE,sBAAuB,qCAAsC,YAAa,cAAe,YACzF,oBAAqB,qBAAsB,iBAAkB,6CAE3DgD,GAAiB,CAyBnBlE,mBAAoB,CAChBttB,WAAY,CACRyjB,GAAmB,WAAY,wBA2EvCF,0CAA2C,CACvCvjB,WAAY,CACRghB,GAAyB,aAE7BrX,WAAY,CAACsjB,IACb/sB,UAAU,GAOd8jB,mBAAoB,CAChBhkB,WAAY,CACR4jB,GAAgB,qBAAsB,mBAE1C1jB,UAAU,GAmCdmtB,eAAgB,CACZrtB,WAAY,CACR4jB,GAAgB,iBAAkB,uBAEtC1jB,UAAU,GAqEd6iB,kBAAmB,CACf/iB,WAAY,CAACuhB,EAAmB,CAAC,YAAa,sBAC9CrhB,UAAU,GAqFduxB,cAAe,CACXzxB,WAAY,C1F2ab,SAAuByxB,GAC1B,GAAIA,EAAc3vD,OAAS,GACvB,MAAM,IAAI4H,MAAM,6DAOpB,OAJA+nD,EAAclkD,SAAS4B,IACnBqvB,GAAkBrvB,MAGfsiD,I0FnbHvxB,UAAU,EACV0Z,YAAaC,IAQjB6X,4BAA6B,CACzB1xB,WAAY,CAACG,GAAyB,EAAG9pB,OAAO4oB,YAChDiB,UAAU,GAQdyxB,8BAA+B,CAC3B3xB,WAAY,CAACG,GAAyB,EAAG9pB,OAAO4oB,YAChDiB,UAAU,GAcdilB,mCAAoC,CAChCnlB,WAAY,CACR2kB,GACI,qCACA,qCAEJO,KAgBRE,kCAAmC,CAC/BplB,WAAY,CACR2kB,GACI,oCACA,sCAEJO,KAqBR6I,gCAAiC,CAC7B/tB,WAAY,CAACuhB,EAAmB,CAAC,IAAK,IAAK,IAAK,KAAM,qCAU1D6B,WAAY,CACRpjB,WAAY,CAACuhB,EAAmB,CAAC,OAAQ,kBCzS1C,SAASqQ,GAAsBjpD,EAASkgC,GAC3C,MAAMsC,ED8SCrP,EADQw1B,GAAqB9C,IACdgD,IC7ShBzV,EAAY,IAAInT,GAAUC,GAC1BwZ,EAAgB7G,GAA4BO,EAAUjqC,QAAQ,kCAKpE,OAAOy6B,GACHpB,EACA/P,EACA,yBAPsB,CAACp1B,EAAMsmC,IACtB+V,EAAclX,EAAQnlC,EAAMsmC,GAC9B16B,MAAKo0B,GAAYC,GAAcD,EAAUmpB,OAE3C5iB,CAKL5jC,EAASkgC,GCxJR,SAASgpB,GAAmB7rD,GAC/B,OAAIA,EAAK+K,MACE,CAAEA,MAAO/K,EAAK+K,OAErB/K,EAAK8rD,OACE9rD,EAEJ,KCoYX,MAAMwoD,GAAe,CAAC,YAAa,kBAAmB,mBAClD,WAAY,mBAAoB,sBAAuB,iBAAkB,SACzE,WAAY,mBAAoB,uBAAwB,kBACxD,cAAe,mBAAoB,gBAAiB,aAAc,YAClE,oCAAqC,sCAGnCuD,GAAyB,CAC3B/xB,WAAY,C7FwdT,SAAiBr3B,GACpB,OAAQwoB,IACJA,EAAO5jB,SAASpP,GAAU4hC,GAAcp3B,EAASxK,KAC1CgzB,G6F3dE6gC,CAAgB,CACzBryB,MAAO,CACHK,WAAY,E7FkfCr3B,G6FlfiB,CAC1Bq7B,SAAU,CACNhE,WAAY,C7F6CzB,SAAkB7hC,GACrB,OAAOshC,GAActhC,K6F7CL+hC,UAAU,GAEd6D,UAAW,CACP/D,WAAY,C7F8BzB,SAAmB7hC,GACtB,OAAOogC,GAAepgC,K6F9BN+hC,UAAU,I7F4elB/hC,IACJ4hC,GAAcp3B,GAASxK,GAChBA,S6FzeXwrC,WAAY,CzCxCT,SAAiBhhC,GACpB,OAAQwoB,IACJA,EAAO5jB,SAASpP,IACZ,IAAK,MAAMmD,KAAOnD,EACVQ,OAAOQ,UAAUC,eAAeI,KAAKrB,EAAOmD,IACxC3C,OAAOQ,UAAUC,eAAeI,KAAKmJ,EAASrH,IAC9CvB,MAAMF,QAAQ8I,EAAQrH,GAAKqoC,aAC/BhhC,EAAQrH,GAAKqoC,WAAWp8B,SAASq+B,IACzB1mC,GAAAA,CAAW0mC,KACXztC,EAAMmD,GAAOsqC,EAAUztC,EAAMmD,WAM1C6vB,GyCyBE8gC,CAAe,CACxBtyB,MAAO,CACHgK,WAAY,CzCvBjB,SAAkBhhC,GACrB,OAAQxK,IACJ,IAAK,MAAMmD,KAAOnD,EACVQ,OAAOQ,UAAUC,eAAeI,KAAKrB,EAAOmD,IACxC3C,OAAOQ,UAAUC,eAAeI,KAAKmJ,EAASrH,IAC9C4D,GAAAA,CAAWyD,EAAQrH,GAAKsqC,aAE5BztC,EAAMmD,GAAOqH,EAAQrH,GAAKsqC,UAAUztC,EAAMmD,KAGlD,OAAOnD,GyCaU+zD,CAAgB,CACzBluB,SAAU,CACN2F,WAAY,CzClJzB,SAAkBxrC,GACrB,OAAOy/C,GAAkBz/C,KyCkJT+hC,UAAU,GAEd6D,UAAW,CACP4F,WAAY,CzC1JzB,SAAmBxrC,GACtB,OAAO2/C,GAAmB3/C,KyC0JV+hC,UAAU,UAK1BA,UAAU,EACV0Z,YAAaC,I7FudV,IAAkBlxC,G8F/yBlB,SAASwpD,GAAcxpD,EAASkgC,GACnC,MAAMsC,ED0VH,SAA0BinB,GAC7B,MAAMjnB,EAASmmB,GAAqB9C,IASpCrjB,EAAO6R,QAAU+U,GAYjB5mB,EAAO8R,aAAe8U,GAUtB5mB,EAAOgB,UAAY,CACfyN,YAAaC,IAUjB1O,EAAOpI,gBAAkB,CACrB6W,YAAaC,GACb7Z,WAAY,CAACqyB,KAEjB,MAAM1yD,EAASsO,EAAMk9B,GAOrB,OANIinB,aAA6BryD,OAC7BqyD,EAAkB7kD,SAAQ,SAAS0J,UACxBtX,EAAOsX,MAIftX,EChZQ2yD,GAETvW,EAAY,IAAInT,GAAUC,GAC1B0pB,E5CzDH,SAAuBpW,EAA+BqW,GACzD,MAAO,CAACrnB,EAAQxiC,EAAS2jC,KACrB,MAAMmmB,EAAgB1X,GAAoB5P,EAAQxiC,GAC5CqwC,EAAa+D,GAAc0V,EAAcvX,YACzCD,EAAcwX,EAAcxX,YAC5BhM,EAAUwjB,EAAcrX,aAM9B,OAAOU,GAAqB,CACxB3P,UALcxjC,EAAQwjC,YACrB6M,EAAWgE,QAAQl7C,OAASk3C,EAAWiE,aAAan7C,QAAUq6C,EAC3D,OAAS,YAIblN,QAAAA,EACAlM,gBAAiBp6B,EAAQo6B,gBACzBkY,YAAaA,EACbjC,WAAYA,EACZ+C,UAAW,CACPC,KAAMwW,EAAgBxW,KACtBluC,MAAO0kD,EAAgB1kD,OAE3Bw+B,YAAAA,K4CoCcomB,CAFgB,IAE6B,CAC/D1W,KAAMD,EAAUjqC,QAAQ,6BACxBhE,MAAOiuC,EAAUjqC,QAAQ,2BAM7B,OAAOy6B,GACHpB,EACA/P,EACA,iBAPsB,CAACp1B,EAAMsmC,IACtBimB,EAAcpnB,EAAQnlC,EAAMsmC,GAAa16B,MAAKo0B,GAAYC,GAAcD,EAAU6rB,OAGtFtlB,CAKL5jC,EAASkgC,GC1Df,MAAMsC,GAAS,CACX7pC,IAAK,CACD0+B,WAAY,CAACmhB,IAEjBtgB,WAAY,CACRb,WAAY,CAACoM,IACbwN,YAAaC,GACb7c,aAAczyB,GAAAA,IAElB0nC,SAAU,CACNjS,WAAY,CAACuhB,EAAmB,CAAC,OAAQ,SAAU,cAEvDqG,UAAW,CACP5nB,WAAY,CAACsd,MAId,SAASqV,GAAiBhqD,EAASkgC,GACtC,MAAMkT,EAAY,IAAInT,GAAUC,GAC1BwZ,EAAgB7G,GAA4BO,EAAUjqC,QAAQ,6BAMpE,OAAOy6B,GACHpB,GACA/P,EACA,oBAPJ,SAA2Bp1B,EAAMsmC,GAC7B,OAAO+V,EAAclX,GAAQnlC,EAAMsmC,GAAa16B,KAAKq0B,MAGlDsG,CAKL5jC,EAASkgC,gsBC7ER,SAAS+pB,GAAqB5sD,GACjC,MAAMo/B,EAAcp/B,EAAK6sD,gBAAgBztB,YAAY0tB,WAAWjsD,KAAIisD,IACzD,CACHlzB,IAAKkzB,EAAW9uB,SAChBlE,IAAKgzB,EAAW/uB,cAIxB,OAAOplC,OAAOmS,OAAO9K,EAAM,CAAE6sD,gBAAiB,SAAI7sD,EAAK6sD,iBAAX,IAA4BztB,YAAa,CAAC0tB,WAAY1tB,OC2BtG,MAAM+F,GAAS,CACX7pC,IAAK,CACD0+B,WAAY,CAACsd,KAEjBzc,WAAY,CACRb,WAAY,CAACoM,IACbwN,YAAaC,GACb7c,aAAczyB,GAAAA,IAQlBwoD,KAAM,CACF/yB,WAAY,CjGofb,SAAmBgzB,GACtB,OAAOxyB,GAAsB,EAAG,GAAI,iCAA7BA,CAA+DwyB,KiGpflE9yB,UAAU,EACV0Z,YAAaC,IAQjBoZ,MAAO,CACHjzB,WAAY,CAACuhB,EAAmB,CAC5B,WACA,WACA,iBACA,YACA,iBACA,uBACD,uBACHrhB,UAAU,EACV0Z,YAAaC,IAQjBla,MAAO,CACHgK,WAAY,CAACmc,IACb9lB,WAAY,CAAC+lB,IACb7lB,UAAU,GAOdgzB,KAAM,CACFlzB,WAAY,CAACuhB,EAAmB,CAAC,OAAQ,UAO7C4R,UAAW,CACPnzB,WAAY,CAACG,GAAyB,EAAG,MAO7CizB,OAAQ,CACJpzB,WAAY,CAACmiB,MAId,SAASkR,GAAuB1qD,EAASkgC,GAC5C,MAAMkT,EAAY,IAAInT,GAAUC,GAC1BwZ,EAAgB7G,GAA4BO,EAAUjqC,QAAQ,4BAKpE,OAAOy6B,GACHpB,GACA/P,EACA,0BANsB,CAACp1B,EAAMsmC,IACtB+V,EAAclX,GAAQnlC,EAAMsmC,GAAa16B,MAAKo0B,GAAYC,GAAcD,EAAU4sB,OAEtFrmB,CAKL5jC,EAASkgC,GChEf,MAAMsC,GAAS,CACX7pC,IAAK,CACD0+B,WAAY,CAACmhB,IAEjBtgB,WAAY,CACRb,WAAY,CAACoM,IACbwN,YAAaC,GACb7c,aAAczyB,GAAAA,IA0BlBi6B,YAAa,CACTtE,UAAU,EACVF,WAAY,CAACiB,IACb0I,WAAY,CAAC2W,IACbxF,KAAM,CAACtW,EAAaqS,KAChBA,EAAe3V,KAAf,UAAyBsD,EAAYlD,OAArC,YAA+CkD,EAAYpD,OAA3D,YAAqEoD,EAAYjD,OAAjF,YAA2FiD,EAAYnD,UA4C/G8J,OAAQ,CACJnL,WAAY,CAACsd,GlG89Bd,SAAsCn/C,GACzC,MAAMm1D,EAAkBn3B,EAA6B6B,IAC/Cu1B,EAAap3B,EAA6Bh+B,GAE1Cq1D,EAAoB,CAACC,EAAWC,KAClC/0D,OAAOmH,KAAK2tD,GAAWlmD,SAAQ,SAASjM,GACpC,IAAIoyD,EAAat0D,eAAekC,WACpBmyD,EAAUnyD,WAAgBoyD,EAAapyD,GAK/C,MAAM,IAAI8B,UAAU,mBAAY9B,EAAZ,mCAAmD08B,IAJzC,iBAAnBy1B,EAAUnyD,IACjBkyD,EAAkBC,EAAUnyD,GAAMoyD,EAAapyD,QAS/D,OAFAkyD,EAAkBD,EAAYD,GAEvBn1D,IkG/+BHwrC,WAAY,C9C0Vb,SAA2BxrC,GAC9B,GAAqB,iBAAVA,EACP,OAAOA,EAAM2C,QAAQ,MAAO,IAE5B,MAAM,IAAIsC,UAAU,2B8CnVxB4I,EAAG,CACCg0B,WAAY,CAACsd,KAajBqC,SAAU,CACN3f,WAAY,CAACylB,IACb9b,WAAY,C9C8Jb,SAAmCxrC,GACtC,OAAOshD,GAAkBthD,EAAOw1D,O8C3J7B,SAASC,GAAkBjrD,EAASkgC,GACvC,MAAMkT,EAAY,IAAInT,GAAUC,GAC1BwZ,EAAgB7G,GAA4BO,EAAUjqC,QAAQ,8BAKpE,OAAOy6B,GACHpB,GACA/P,EACA,qBAPJ,SAA2Byb,EAAgBvK,GACvC,OAAO+V,EAAclX,GAAQ0L,EAAgBvK,GAAa16B,KAAKq0B,MAG5DsG,CAKL5jC,EAASkgC,GC5If,MAEMgrB,GAAoC,CACtC,MAAS,CAAC,MAAO,OAAQ,OACzB,OAAU,CAAC,OACX,OAAU,CAAC,QAGT1oB,GAAS,CAKX2oB,MAAO,CACH9zB,WAAY,CAACuhB,EAAmB,CAAC,QAAS,SAAU,UAAW,WAC/DvkB,aAAc,SAOlBi2B,MAAO,CACHjzB,WAAY,CAACuhB,EAAmB,CAAC,OAAQ,SAAU,WACnDvkB,aAAc,QAOlB6W,OAAQ,CACJ7T,WAAY,CAACuhB,EAAmB,CAAC,MAAO,MAAO,QAAS,YACxDvkB,aAAc,OAGlB17B,IAAK,CACD0+B,WAAY,CAACmhB,IAOjB4R,KAAM,CACF/yB,WAAY,CAACqhB,GAA0B,EAAG,KAC1C1X,WAAY,C/CmVb,SAAiBxrC,GACpB,OAAOkO,KAAK0nD,MAAM19C,OAAOlY,O+C7UzB0nD,OAAQ,CACJlc,WAAY,CAACmc,IACb9lB,WAAY,CAAC+lB,KAOjBiO,MAAO,CACHh0B,WAAY,CAACqhB,GAA0B,EA/D7B,QAsEd4S,OAAQ,CACJj0B,WAAY,CAACqhB,GAA0B,EAtE5B,QA6EfngB,KAAM,CACFlB,WAAY,CAACiB,IACb0I,WAAY,CAAC2W,KAGjB7kC,KAAM,CACFukB,WAAY,CAACuhB,EACT,CAAC,UAAW,KAAM,KAAM,KAAM,KAAM,KAAM,SAAU,KAAM,KAAM,MAChE,UAWR5B,SAAU,CACN3f,WAAY,CnGo0Bb,SAAsB7hC,GAGzB,OAAO49B,EAA2B59B,EAAO2/B,EAFzB,qDAChBA,EAAgB,UAAY3/B,EAAQ,YAAcA,EAAQ,emG7wB9D,SAAS+1D,GAAMC,EAASnuD,GASpB,OAAOmuD,EAAU,IARKx1D,OAAOmH,KAAKqlC,IAAQtR,QAAO,SAASu6B,EAAUpvB,GAChE,IAAIqvB,EAAgBruD,EAAKg/B,GAKzB,YAJsBtmC,IAAlB21D,IACAA,EAxBZ,SAAsCrvB,EAAcqvB,GAChD,GAAqB,SAAjBrvB,EACAqvB,GANqBnzB,EAMemzB,GAL5B/yB,OAAS,IAAMJ,EAAKE,OAAS,IAAMF,EAAKK,OAAS,IAAML,EAAKG,WAMjE,IAAqB,SAAjB2D,EACP,OAAO11B,OAAO3O,SAAS0zD,EAAe,KACnC,GAAqB,WAAjBrvB,EAA2B,CAClC,MAAMsvB,EAAcD,EAAc9nD,MAAM,KAClCgoD,EAAe,CAAC/2B,WAAW82B,EAAY,IAAK92B,WAAW82B,EAAY,KACzE,OAAOC,EAAa,GAAK,IAAMA,EAAa,IAZpD,IAA6BrzB,EAczB,OAAOmzB,EAciBG,CAA6BxvB,EAAcqvB,GAC3DD,EAAS5xD,KAAKwiC,EAAe,IAAMyvB,UAAUJ,KAE1CD,IACR,IACkCzzB,KAAK,KAGvC,SAAS+zB,GAAY/rD,EAASkgC,GACjC,MAAMkT,EAAY,IAAInT,GAAUC,GAKhC,OAAO0D,GACHpB,GACA/P,EACA,eAPJ,SAA2Bp1B,GAEvB,OA/DR,SAAmCA,GAG/B,IAAK6tD,GAAkC7tD,EAAK8tD,SACgC,IAAxED,GAAkC7tD,EAAK8tD,OAAO53B,QAAQl2B,EAAK6tC,QAC3D,MAAM,IAAInqC,MAAM,+DAGpB,GAAI1D,EAAKk7B,MAAQl7B,EAAK6/C,OAElB,MAAM,IAAIn8C,MAAM,0DAGpB,IAAK1D,EAAKk7B,OAASl7B,EAAK6/C,OACpB,MAAM,IAAIn8C,MAAM,mDAGpB,GAAI1D,EAAKk7B,OAAS7F,EAAcr1B,EAAKguD,QAAU34B,EAAcr1B,EAAKiuD,SAE9D,MAAM,IAAIvqD,MAAM,iEA2ChBirD,CAA0B3uD,GACnBkuD,GAAMnY,EAAUjqC,QAAQ,0BAA2B9L,KAEvDumC,CAKL5jC,EAASkgC,GCxKf,MAAMsC,GAAS,CACX7pC,IAAK,CACD0+B,WAAY,CAACsd,KAEjBzc,WAAY,CACRb,WAAY,CAACoM,IACbwN,YAAaC,GACb7c,aAAczyB,GAAAA,KAIf,SAASqqD,GAAajsD,EAASkgC,GAClC,MAAMkT,EAAY,IAAInT,GAAUC,GAC1BwZ,EAAgB7G,GAA4BO,EAAUjqC,QAAQ,yBAOpE,OAAOy6B,GACHpB,GACA/P,EACA,cARJ,SAA2Byb,EAAgBvK,GAEvC,OADAuK,EAAepF,YAAc,OACtB4Q,EAAclX,GAAQ0L,EAAgBvK,GAAa16B,KAAKq0B,MAG5DsG,CAKL5jC,EAASkgC,GC5Bf,MAAMsC,GAAS,CACX7pC,IAAK,CACD0+B,WAAY,CAACmhB,IAEjBtgB,WAAY,CACRb,WAAY,CAACoM,IACbwN,YAAaC,GACb7c,aAAczyB,GAAAA,KAIf,SAASsqD,GAAoBlsD,EAASkgC,GACzC,MAAMkT,EAAY,IAAInT,GAAUC,GAC1BwZ,EAAgB7G,GAA4BO,EAAUjqC,QAAQ,sBAKpE,OAAOy6B,GACHpB,GACA/P,EACA,uBAPJ,SAA2Bp1B,EAAMsmC,GAC7B,OAAO+V,EAAclX,GAAQnlC,EAAMsmC,GAAa16B,KAAKq0B,MAGlDsG,CAKL5jC,EAASkgC,gsBC6Cf,QACInO,QAhHY,CACZ9vB,QAAS+vB,IAAAA,gBAgHTm6B,e7G1G0B,CAACC,EAAWC,KACtC,IAAKD,EACD,MAAM,IAAIrrD,MAAM,6BAEpB,MAAMurD,EAAcD,GAAqC,IAAnBA,EAAuB,IAAMA,EAAiB,GACpFn6B,IAAqBI,YAAc85B,EAAYE,G6GsG/CC,SA9Ga,kBACVC,GACAC,GACAC,GACAC,GAJO,IAKVC,WAAUA","sources":["webpack:///webpack/runtime/require chunk loading","webpack:///../sdk/services/dist/mainConfig.js","webpack:///../sdk/services/node_modules/lodash/isFunction.js","webpack:///../sdk/services/node_modules/lodash/_baseGetTag.js","webpack:///../sdk/services/node_modules/lodash/_Symbol.js","webpack:///../sdk/services/node_modules/lodash/_root.js","webpack:///../sdk/services/node_modules/lodash/_freeGlobal.js","webpack:///../sdk/services/node_modules/lodash/_getRawTag.js","webpack:///../sdk/services/node_modules/lodash/_objectToString.js","webpack:///../sdk/services/node_modules/lodash/isObject.js","webpack:///../sdk/services/node_modules/lodash/isString.js","webpack:///../sdk/services/node_modules/lodash/isArray.js","webpack:///../sdk/services/node_modules/lodash/isObjectLike.js","webpack:///../sdk/services/node_modules/lodash/isNil.js","webpack:///../sdk/services/node_modules/lodash/isInteger.js","webpack:///../sdk/services/node_modules/lodash/toInteger.js","webpack:///../sdk/services/node_modules/lodash/toFinite.js","webpack:///../sdk/services/node_modules/lodash/toNumber.js","webpack:///../sdk/services/node_modules/lodash/isSymbol.js","webpack:///../sdk/services/node_modules/lodash/has.js","webpack:///../sdk/services/node_modules/lodash/_baseHas.js","webpack:///../sdk/services/node_modules/lodash/_hasPath.js","webpack:///../sdk/services/node_modules/lodash/_castPath.js","webpack:///../sdk/services/node_modules/lodash/_isKey.js","webpack:///../sdk/services/node_modules/lodash/_stringToPath.js","webpack:///../sdk/services/node_modules/lodash/_memoizeCapped.js","webpack:///../sdk/services/node_modules/lodash/memoize.js","webpack:///../sdk/services/node_modules/lodash/_MapCache.js","webpack:///../sdk/services/node_modules/lodash/_mapCacheClear.js","webpack:///../sdk/services/node_modules/lodash/_Hash.js","webpack:///../sdk/services/node_modules/lodash/_hashClear.js","webpack:///../sdk/services/node_modules/lodash/_nativeCreate.js","webpack:///../sdk/services/node_modules/lodash/_getNative.js","webpack:///../sdk/services/node_modules/lodash/_baseIsNative.js","webpack:///../sdk/services/node_modules/lodash/_isMasked.js","webpack:///../sdk/services/node_modules/lodash/_coreJsData.js","webpack:///../sdk/services/node_modules/lodash/_toSource.js","webpack:///../sdk/services/node_modules/lodash/_getValue.js","webpack:///../sdk/services/node_modules/lodash/_hashDelete.js","webpack:///../sdk/services/node_modules/lodash/_hashGet.js","webpack:///../sdk/services/node_modules/lodash/_hashHas.js","webpack:///../sdk/services/node_modules/lodash/_hashSet.js","webpack:///../sdk/services/node_modules/lodash/_ListCache.js","webpack:///../sdk/services/node_modules/lodash/_listCacheClear.js","webpack:///../sdk/services/node_modules/lodash/_listCacheDelete.js","webpack:///../sdk/services/node_modules/lodash/_assocIndexOf.js","webpack:///../sdk/services/node_modules/lodash/eq.js","webpack:///../sdk/services/node_modules/lodash/_listCacheGet.js","webpack:///../sdk/services/node_modules/lodash/_listCacheHas.js","webpack:///../sdk/services/node_modules/lodash/_listCacheSet.js","webpack:///../sdk/services/node_modules/lodash/_Map.js","webpack:///../sdk/services/node_modules/lodash/_mapCacheDelete.js","webpack:///../sdk/services/node_modules/lodash/_getMapData.js","webpack:///../sdk/services/node_modules/lodash/_isKeyable.js","webpack:///../sdk/services/node_modules/lodash/_mapCacheGet.js","webpack:///../sdk/services/node_modules/lodash/_mapCacheHas.js","webpack:///../sdk/services/node_modules/lodash/_mapCacheSet.js","webpack:///../sdk/services/node_modules/lodash/toString.js","webpack:///../sdk/services/node_modules/lodash/_baseToString.js","webpack:///../sdk/services/node_modules/lodash/_arrayMap.js","webpack:///../sdk/services/node_modules/lodash/isArguments.js","webpack:///../sdk/services/node_modules/lodash/_baseIsArguments.js","webpack:///../sdk/services/node_modules/lodash/_isIndex.js","webpack:///../sdk/services/node_modules/lodash/isLength.js","webpack:///../sdk/services/node_modules/lodash/_toKey.js","webpack:///../sdk/services/node_modules/uuid/dist/index.js","webpack:///../sdk/services/node_modules/uuid/dist/v1.js","webpack:///../sdk/services/node_modules/uuid/dist/rng.js","webpack:///external node-commonjs \"crypto\"","webpack:///../sdk/services/node_modules/uuid/dist/stringify.js","webpack:///../sdk/services/node_modules/uuid/dist/validate.js","webpack:///../sdk/services/node_modules/uuid/dist/regex.js","webpack:///../sdk/services/node_modules/uuid/dist/v3.js","webpack:///../sdk/services/node_modules/uuid/dist/v35.js","webpack:///../sdk/services/node_modules/uuid/dist/parse.js","webpack:///../sdk/services/node_modules/uuid/dist/md5.js","webpack:///../sdk/services/node_modules/uuid/dist/v4.js","webpack:///../sdk/services/node_modules/uuid/dist/v5.js","webpack:///../sdk/services/node_modules/uuid/dist/sha1.js","webpack:///../sdk/services/node_modules/uuid/dist/nil.js","webpack:///../sdk/services/node_modules/uuid/dist/version.js","webpack:///../sdk/services/node_modules/lodash/isUndefined.js","webpack:///../sdk/services/node_modules/formdata-polyfill/esm.min.js","webpack:///../sdk/services/node_modules/fetch-blob/index.js","webpack:///../sdk/services/node_modules/fetch-blob/streams.cjs","webpack:///external node-commonjs \"node:process\"","webpack:///external node-commonjs \"node:stream/web\"","webpack:///../sdk/services/node_modules/web-streams-polyfill/dist/ponyfill.es2018.js","webpack:///external node-commonjs \"buffer\"","webpack:///../sdk/services/node_modules/fetch-blob/file.js","webpack:///external node-commonjs \"node:fs\"","webpack:///external node-commonjs \"node:path\"","webpack:///../sdk/services/node_modules/fetch-blob/from.js","webpack:///../sdk/services/node_modules/node-domexception/index.js","webpack:///external node-commonjs \"worker_threads\"","webpack:///../sdk/services/node_modules/lodash/isEmpty.js","webpack:///../sdk/services/node_modules/lodash/_baseKeys.js","webpack:///../sdk/services/node_modules/lodash/_isPrototype.js","webpack:///../sdk/services/node_modules/lodash/_nativeKeys.js","webpack:///../sdk/services/node_modules/lodash/_overArg.js","webpack:///../sdk/services/node_modules/lodash/_getTag.js","webpack:///../sdk/services/node_modules/lodash/_DataView.js","webpack:///../sdk/services/node_modules/lodash/_Promise.js","webpack:///../sdk/services/node_modules/lodash/_Set.js","webpack:///../sdk/services/node_modules/lodash/_WeakMap.js","webpack:///../sdk/services/node_modules/lodash/isArrayLike.js","webpack:///../sdk/services/node_modules/lodash/isBuffer.js","webpack:///../sdk/services/node_modules/lodash/stubFalse.js","webpack:///../sdk/services/node_modules/lodash/isTypedArray.js","webpack:///../sdk/services/node_modules/lodash/_baseIsTypedArray.js","webpack:///../sdk/services/node_modules/lodash/_baseUnary.js","webpack:///../sdk/services/node_modules/lodash/_nodeUtil.js","webpack:///../sdk/services/node_modules/lodash/castArray.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/ensure chunk","webpack:///webpack/runtime/get javascript chunk filename","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/node module decorator","webpack:///./services/requester/analytics.js","webpack:///./core/serviceTypes.js","webpack:///./services/services/utils.js","webpack:///./services/config/language/mappings.js","webpack:///./services/services/validators/key.js","webpack:///./services/services/validators/number.js","webpack:///./services/services/validators/oneOfValue.js","webpack:///./services/services/validators.js","webpack:///./services/model/pointFacade.js","webpack:///./services/utils/pointUtils.js","webpack:///./services/model/modelUtils.js","webpack:///./services/model/search/search.js","webpack:///./services/model/search/batchModel.js","webpack:///./services/common/parameterApplications.js","webpack:///./services/model/modelResponse.js","webpack:///./services/endpoints/endpoints.js","webpack:///./services/endpoints/endpointsManager.js","webpack:///./services/error/ValidationError.js","webpack:///./services/model/Field.js","webpack:///./services/services/deprecationHandler.js","webpack:///./services/services/service.js","webpack:///./services/services/serviceFactory.js","webpack:///./services/requester/template.js","webpack:///external node-commonjs \"node:http\"","webpack:///external node-commonjs \"node:https\"","webpack:///external node-commonjs \"node:zlib\"","webpack:///external node-commonjs \"node:stream\"","webpack:///external node-commonjs \"node:buffer\"","webpack:///../sdk/services/node_modules/data-uri-to-buffer/dist/index.js","webpack:///external node-commonjs \"node:util\"","webpack:///../sdk/services/node_modules/node-fetch/src/errors/base.js","webpack:///../sdk/services/node_modules/node-fetch/src/errors/fetch-error.js","webpack:///../sdk/services/node_modules/node-fetch/src/utils/is.js","webpack:///../sdk/services/node_modules/node-fetch/src/body.js","webpack:///../sdk/services/node_modules/node-fetch/src/headers.js","webpack:///../sdk/services/node_modules/node-fetch/src/utils/is-redirect.js","webpack:///../sdk/services/node_modules/node-fetch/src/response.js","webpack:///external node-commonjs \"node:url\"","webpack:///external node-commonjs \"node:net\"","webpack:///../sdk/services/node_modules/node-fetch/src/utils/referrer.js","webpack:///../sdk/services/node_modules/node-fetch/src/request.js","webpack:///../sdk/services/node_modules/node-fetch/src/utils/get-search.js","webpack:///../sdk/services/node_modules/node-fetch/src/errors/abort-error.js","webpack:///../sdk/services/node_modules/node-fetch/src/index.js","webpack:///./services/requester/fetch/nodeFetch.js","webpack:///./services/requester/helpers.js","webpack:///./services/requester/json.js","webpack:///./services/requester/text.js","webpack:///./services/requester/requester.js","webpack:///./services/rest/request/requestParamsFactory.js","webpack:///./services/rest/request/contentTypeConfigurer.js","webpack:///./services/rest/request/singleRequestServiceFactory.js","webpack:///./services/rest/utils.js","webpack:///./services/requester/urlBuilder.js","webpack:///./services/rest/request/batchRequestStrategy.js","webpack:///./services/rest/request/asyncRedirectModeFactory.js","webpack:///./services/rest/request/batchRequestServiceFactory.js","webpack:///./services/rest/request/matrixFactory.js","webpack:///./services/services/search/additionalData.js","webpack:///./services/services/converters.js","webpack:///./services/common/searchTypes.js","webpack:///./services/services/search/alongRouteSearch.js","webpack:///./services/services/postValidators.js","webpack:///./services/services/search/searchParameters.js","webpack:///./services/services/search/search.js","webpack:///./services/services/search/categorySearch.js","webpack:///./services/services/search/evChargingStationsAvailability.js","webpack:///./services/services/search/fuzzySearch.js","webpack:///./services/services/search/geometrySearch.js","webpack:///./services/services/search/nearbySearch.js","webpack:///./services/services/search/placeById.js","webpack:///./services/services/search/poiCategories.js","webpack:///./services/services/search/poiSearch.js","webpack:///./services/services/search/autocomplete.js","webpack:///./services/model/reverseGeocode/reverseGeocode.js","webpack:///./services/model/reverseGeocode/batchReverseGeocode.js","webpack:///./services/services/reverseGeocode/reverseGeocodeBase.js","webpack:///./services/services/reverseGeocode/types.js","webpack:///./services/services/reverseGeocode/reverseGeocodeParameters.js","webpack:///./services/services/reverseGeocode/reverseGeocode.js","webpack:///./services/model/geocode/geocode.js","webpack:///./services/model/geocode/batchGeocode.js","webpack:///./services/services/geocode/geocodeParameters.js","webpack:///./services/services/geocode/geocode.js","webpack:///./services/services/reverseGeocode/crossStreetLookup.js","webpack:///./services/services/structuredGeocode/structuredGeocode.js","webpack:///./services/services/structuredGeocode/structureGeocodeParameters.js","webpack:///./services/services/routing/commonRoutingParameters.js","webpack:///./services/services/routing/calculateReachableRangeParameters.js","webpack:///./services/model/routing/calculateReachableRange.js","webpack:///./services/model/routing/batchCalculateReachableRange.js","webpack:///./services/services/routing/calculateReachableRange.js","webpack:///./services/model/routing/helpers/getRouteFeature.js","webpack:///./services/model/routing/calculateRoute.js","webpack:///./services/model/routing/batchCalculateRoute.js","webpack:///./services/services/routing/routingParameters.js","webpack:///./services/services/routing/calculateRoute.js","webpack:///./services/services/routing/longDistanceEVRoutingParameters.js","webpack:///./services/services/routing/longDistanceEVRouting.js","webpack:///./services/model/routing/matrixRouting.js","webpack:///./services/services/routing/matrixParameters.js","webpack:///./services/services/routing/matrixRouting.js","webpack:///./services/services/incidentViewport.js","webpack:///./services/model/traffic/flowSegmentData.js","webpack:///./services/services/trafficFlowSegmentData.js","webpack:///./services/services/incidentDetailsV5.js","webpack:///./services/services/staticImage/staticImage.js","webpack:///./services/services/copyrights/copyrightsV2.js","webpack:///./services/services/copyrights/copyrightsCaptionV2.js","webpack:///./services/index.js"],"sourcesContent":["// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"loaded\", otherwise not loaded yet\nvar installedChunks = {\n\t0: 1\n};\n\n// no on chunks loaded\n\nvar installChunk = function(chunk) {\n\tvar moreModules = chunk.modules, chunkIds = chunk.ids, runtime = chunk.runtime;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tfor(var i = 0; i < chunkIds.length; i++)\n\t\tinstalledChunks[chunkIds[i]] = 1;\n\n};\n\n// require() chunk loading for javascript\n__webpack_require__.f.require = function(chunkId, promises) {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\tinstallChunk(require(\"./\" + __webpack_require__.u(chunkId)));\n\t\t} else installedChunks[chunkId] = 1;\n\t}\n};\n\n// no external install chunk\n\n// no HMR\n\n// no HMR manifest","/* eslint-disable max-len */\nconst origin = 'api.tomtom.com';\nconst hostedStylesVersion = '21.1.0-*';\n\nmodule.exports = {\n    'sdk.name': 'MapsWebSDK',\n    'sdk.version': '6.22.1',\n    'sdk.examples.version': 'SDK-${version}',\n\n    'analytics.header.name': 'TomTom-User-Agent',\n    'analytics.header.sdkName': 'MapsWebSDK',\n\n    // copyrights\n    'endpoints.copyrightsV2': `${origin}/map/2/copyrights`,\n    'endpoints.captionV2': `${origin}/map/2/copyrights/caption.{contentType}`,\n\n    // search\n    'endpoints.geocode': `${origin}/search/2/geocode/{query}.{contentType}`,\n    'endpoints.structuredGeocode': `${origin}/search/2/structuredGeocode.{contentType}`,\n    'endpoints.search': `${origin}/search/2/{type}/{query}.{contentType}`,\n    'endpoints.nearbySearch': `${origin}/search/2/nearbySearch/.{contentType}`,\n    'endpoints.batchNearbySearchQuery': '/{type}/.{contentType}',\n    'endpoints.batchSearch': `${origin}/search/2/batch.{contentType}`,\n    'endpoints.batchSyncSearch': `${origin}/search/2/batch/sync.{contentType}`,\n    'endpoints.batchSearchQuery': '/{type}/{query}.{contentType}',\n    'endpoints.batchStructuredGeocodeQuery': '/structuredGeocode.{contentType}',\n    'endpoints.adp': `${origin}/search/2/additionalData.{contentType}`,\n    'endpoints.batchAdpQuery': '/additionalData.{contentType}',\n    'endpoints.reverseGeocode': `${origin}/search/2/{type}/{position}.{contentType}`,\n    'endpoints.batchReverseGeocodeQuery': '/{type}/{position}.{contentType}',\n    'endpoints.autocomplete': `${origin}/search/2/autocomplete/{query}.{contentType}`,\n    'endpoints.poiCategories': `${origin}/search/2/poiCategories.{contentType}`,\n    'endpoints.chargingAvailability': `${origin}/search/2/chargingAvailability.{contentType}`,\n    'endpoints.batchChargingAvailabilityQuery': '/chargingAvailability.{contentType}',\n    'endpoints.placeById': `${origin}/search/2/place.{contentType}`,\n\n    // traffic\n    'endpoints.incidentDetailsV5': `${origin}/traffic/services/5/incidentDetails`,\n    'endpoints.incidentViewport': `${origin}/traffic/services/4/incidentViewport/0,0,.1,.1/0/0,0,.1,.1/0/false/{contentType}`,\n    'endpoints.flowSegmentData': `${origin}/traffic/services/4/flowSegmentData/{style}/{zoom}/{contentType}`,\n    'endpoints.incidentRegions': `${origin}/traffic/services/4/incidentRegions/{contentType}`,\n\n    // layers\n    'endpoints.rasterTrafficIncidentTilesLayer': `{s}.${origin}/traffic/map/4/tile/incidents/{style}/{z}/{x}/{y}.png?tileSize={tileSize}`,\n    'endpoints.vectorTrafficIncidentTilesLayer': `{s}.${origin}/traffic/map/4/tile/incidents/{z}/{x}/{y}.pbf`,\n    'endpoints.rasterTrafficFlowTilesLayer': `{s}.${origin}/traffic/map/4/tile/flow/{style}/{z}/{x}/{y}.png`,\n    'endpoints.vectorTrafficFlowTilesLayer': `{s}.${origin}/traffic/map/4/tile/flow/{style}/{z}/{x}/{y}.pbf`,\n    'endpoints.tileLayer': `{s}.${origin}/map/1/tile/{layer}/{style}/{z}/{x}/{y}.png?tileSize={tileSize}`,\n    'endpoints.wmsLayer': `{s}.${origin}/map/1/wms/?service=WMS&version=1.1.1&request=GetMap&bbox={bbox-epsg-3857}&srs=EPSG:3857&width=512&height=512&layers=basic&styles=&format={format}`,\n    'endpoints.vectorTileLayer': `{s}.${origin}/map/1/tile/{layer}/{style}/{z}/{x}/{y}.pbf`,\n\n    // routing\n    'endpoints.routing': `${origin}/routing/1/calculateRoute/{locations}/{contentType}`,\n    'endpoints.calculateReachableRange': `${origin}/routing/1/calculateReachableRange/{origin}/{contentType}`,\n    'endpoints.batchRouting': `${origin}/routing/1/batch/{contentType}`,\n    'endpoints.batchSyncRouting': `${origin}/routing/1/batch/sync/{contentType}`,\n    'endpoints.batchRoutingQuery': '/calculateRoute/{locations}/{contentType}',\n    'endpoints.batchReachableRangeQuery': '/calculateReachableRange/{origin}/{contentType}',\n    'endpoints.matrixRouting': `${origin}/routing/1/matrix/{contentType}`,\n    'endpoints.matrixSyncRouting': `${origin}/routing/1/matrix/sync/{contentType}`,\n    'endpoints.longDistanceEVRouting': `${origin}/routing/1/calculateLongDistanceEVRoute/{locations}/{contentType}`,\n\n    //static map image\n    'endpoints.staticImage': `https://${origin}/map/1/staticimage`,\n\n    'vector.glyphs': 'https://' + origin + '/maps-sdk-js/6.22.1/glyphs/{fontstack}/{range}.pbf',\n    'vector.sprites': 'https://' + origin + '/maps-sdk-js/6.22.1/sprites/sprite',\n\n    //hosted styles\n    'endpoints.styles': `https://${origin}/style/1/style/{version}?map=basic_main&traffic_incidents=incidents_day&traffic_flow=flow_relative0&poi=poi_main`,\n\n    'origin': origin,\n    'hostedStylesVersion': hostedStylesVersion\n};\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nmodule.exports = isString;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","/**\n * Checks if `value` is `null` or `undefined`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n * @example\n *\n * _.isNil(null);\n * // => true\n *\n * _.isNil(void 0);\n * // => true\n *\n * _.isNil(NaN);\n * // => false\n */\nfunction isNil(value) {\n  return value == null;\n}\n\nmodule.exports = isNil;\n","var toInteger = require('./toInteger');\n\n/**\n * Checks if `value` is an integer.\n *\n * **Note:** This method is based on\n * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n * @example\n *\n * _.isInteger(3);\n * // => true\n *\n * _.isInteger(Number.MIN_VALUE);\n * // => false\n *\n * _.isInteger(Infinity);\n * // => false\n *\n * _.isInteger('3');\n * // => false\n */\nfunction isInteger(value) {\n  return typeof value == 'number' && value == toInteger(value);\n}\n\nmodule.exports = isInteger;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseHas = require('./_baseHas'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nmodule.exports = has;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nmodule.exports = baseHas;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"v1\", {\n  enumerable: true,\n  get: function () {\n    return _v.default;\n  }\n});\nObject.defineProperty(exports, \"v3\", {\n  enumerable: true,\n  get: function () {\n    return _v2.default;\n  }\n});\nObject.defineProperty(exports, \"v4\", {\n  enumerable: true,\n  get: function () {\n    return _v3.default;\n  }\n});\nObject.defineProperty(exports, \"v5\", {\n  enumerable: true,\n  get: function () {\n    return _v4.default;\n  }\n});\nObject.defineProperty(exports, \"NIL\", {\n  enumerable: true,\n  get: function () {\n    return _nil.default;\n  }\n});\nObject.defineProperty(exports, \"version\", {\n  enumerable: true,\n  get: function () {\n    return _version.default;\n  }\n});\nObject.defineProperty(exports, \"validate\", {\n  enumerable: true,\n  get: function () {\n    return _validate.default;\n  }\n});\nObject.defineProperty(exports, \"stringify\", {\n  enumerable: true,\n  get: function () {\n    return _stringify.default;\n  }\n});\nObject.defineProperty(exports, \"parse\", {\n  enumerable: true,\n  get: function () {\n    return _parse.default;\n  }\n});\n\nvar _v = _interopRequireDefault(require(\"./v1.js\"));\n\nvar _v2 = _interopRequireDefault(require(\"./v3.js\"));\n\nvar _v3 = _interopRequireDefault(require(\"./v4.js\"));\n\nvar _v4 = _interopRequireDefault(require(\"./v5.js\"));\n\nvar _nil = _interopRequireDefault(require(\"./nil.js\"));\n\nvar _version = _interopRequireDefault(require(\"./version.js\"));\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nvar _stringify = _interopRequireDefault(require(\"./stringify.js\"));\n\nvar _parse = _interopRequireDefault(require(\"./parse.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _stringify = _interopRequireDefault(require(\"./stringify.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || _rng.default)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || (0, _stringify.default)(b);\n}\n\nvar _default = v1;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = rng;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\n\nfunction rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    _crypto.default.randomFillSync(rnds8Pool);\n\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}","module.exports = require(\"crypto\");","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  const uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nvar _default = stringify;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regex = _interopRequireDefault(require(\"./regex.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex.default.test(uuid);\n}\n\nvar _default = validate;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _md = _interopRequireDefault(require(\"./md5.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v3 = (0, _v.default)('v3', 0x30, _md.default);\nvar _default = v3;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\nexports.URL = exports.DNS = void 0;\n\nvar _stringify = _interopRequireDefault(require(\"./stringify.js\"));\n\nvar _parse = _interopRequireDefault(require(\"./parse.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nconst DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexports.DNS = DNS;\nconst URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexports.URL = URL;\n\nfunction _default(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = (0, _parse.default)(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return (0, _stringify.default)(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction parse(uuid) {\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  let v;\n  const arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nvar _default = parse;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction md5(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return _crypto.default.createHash('md5').update(bytes).digest();\n}\n\nvar _default = md5;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _stringify = _interopRequireDefault(require(\"./stringify.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n\n  const rnds = options.random || (options.rng || _rng.default)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return (0, _stringify.default)(rnds);\n}\n\nvar _default = v4;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _sha = _interopRequireDefault(require(\"./sha1.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v5 = (0, _v.default)('v5', 0x50, _sha.default);\nvar _default = v5;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction sha1(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return _crypto.default.createHash('sha1').update(bytes).digest();\n}\n\nvar _default = sha1;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = '00000000-0000-0000-0000-000000000000';\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction version(uuid) {\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nvar _default = version;\nexports.default = _default;","/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nmodule.exports = isUndefined;\n","/*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */\n\nimport C from 'fetch-blob'\nimport F from 'fetch-blob/file.js'\n\nvar {toStringTag:t,iterator:i,hasInstance:h}=Symbol,\nr=Math.random,\nm='append,set,get,getAll,delete,keys,values,entries,forEach,constructor'.split(','),\nf=(a,b,c)=>(a+='',/^(Blob|File)$/.test(b && b[t])?[(c=c!==void 0?c+'':b[t]=='File'?b.name:'blob',a),b.name!==c||b[t]=='blob'?new F([b],c,b):b]:[a,b+'']),\ne=(c,f)=>(f?c:c.replace(/\\r?\\n|\\r/g,'\\r\\n')).replace(/\\n/g,'%0A').replace(/\\r/g,'%0D').replace(/\"/g,'%22'),\nx=(n, a, e)=>{if(a.length<e){throw new TypeError(`Failed to execute '${n}' on 'FormData': ${e} arguments required, but only ${a.length} present.`)}}\n\nexport const File = F\n\n/** @type {typeof globalThis.FormData} */\nexport const FormData = class FormData {\n#d=[];\nconstructor(...a){if(a.length)throw new TypeError(`Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.`)}\nget [t]() {return 'FormData'}\n[i](){return this.entries()}\nstatic [h](o) {return o&&typeof o==='object'&&o[t]==='FormData'&&!m.some(m=>typeof o[m]!='function')}\nappend(...a){x('append',arguments,2);this.#d.push(f(...a))}\ndelete(a){x('delete',arguments,1);a+='';this.#d=this.#d.filter(([b])=>b!==a)}\nget(a){x('get',arguments,1);a+='';for(var b=this.#d,l=b.length,c=0;c<l;c++)if(b[c][0]===a)return b[c][1];return null}\ngetAll(a,b){x('getAll',arguments,1);b=[];a+='';this.#d.forEach(c=>c[0]===a&&b.push(c[1]));return b}\nhas(a){x('has',arguments,1);a+='';return this.#d.some(b=>b[0]===a)}\nforEach(a,b){x('forEach',arguments,1);for(var [c,d]of this)a.call(b,d,c,this)}\nset(...a){x('set',arguments,2);var b=[],c=!0;a=f(...a);this.#d.forEach(d=>{d[0]===a[0]?c&&(c=!b.push(a)):b.push(d)});c&&b.push(a);this.#d=b}\n*entries(){yield*this.#d}\n*keys(){for(var[a]of this)yield a}\n*values(){for(var[,a]of this)yield a}}\n\n/** @param {FormData} F */\nexport function formDataToBlob (F,B=C){\nvar b=`${r()}${r()}`.replace(/\\./g, '').slice(-28).padStart(32, '-'),c=[],p=`--${b}\\r\\nContent-Disposition: form-data; name=\"`\nF.forEach((v,n)=>typeof v=='string'\n?c.push(p+e(n)+`\"\\r\\n\\r\\n${v.replace(/\\r(?!\\n)|(?<!\\r)\\n/g, '\\r\\n')}\\r\\n`)\n:c.push(p+e(n)+`\"; filename=\"${e(v.name, 1)}\"\\r\\nContent-Type: ${v.type||\"application/octet-stream\"}\\r\\n\\r\\n`, v, '\\r\\n'))\nc.push(`--${b}--`)\nreturn new B(c,{type:\"multipart/form-data; boundary=\"+b})}\n","/*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */\n\n// TODO (jimmywarting): in the feature use conditional loading with top level await (requires 14.x)\n// Node has recently added whatwg stream into core\n\nimport './streams.cjs'\n\n// 64 KiB (same size chrome slice theirs blob into Uint8array's)\nconst POOL_SIZE = 65536\n\n/** @param {(Blob | Uint8Array)[]} parts */\nasync function * toIterator (parts, clone = true) {\n  for (const part of parts) {\n    if ('stream' in part) {\n      yield * (/** @type {AsyncIterableIterator<Uint8Array>} */ (part.stream()))\n    } else if (ArrayBuffer.isView(part)) {\n      if (clone) {\n        let position = part.byteOffset\n        const end = part.byteOffset + part.byteLength\n        while (position !== end) {\n          const size = Math.min(end - position, POOL_SIZE)\n          const chunk = part.buffer.slice(position, position + size)\n          position += chunk.byteLength\n          yield new Uint8Array(chunk)\n        }\n      } else {\n        yield part\n      }\n    /* c8 ignore next 10 */\n    } else {\n      // For blobs that have arrayBuffer but no stream method (nodes buffer.Blob)\n      let position = 0, b = (/** @type {Blob} */ (part))\n      while (position !== b.size) {\n        const chunk = b.slice(position, Math.min(b.size, position + POOL_SIZE))\n        const buffer = await chunk.arrayBuffer()\n        position += buffer.byteLength\n        yield new Uint8Array(buffer)\n      }\n    }\n  }\n}\n\nconst _Blob = class Blob {\n  /** @type {Array.<(Blob|Uint8Array)>} */\n  #parts = []\n  #type = ''\n  #size = 0\n  #endings = 'transparent'\n\n  /**\n   * The Blob() constructor returns a new Blob object. The content\n   * of the blob consists of the concatenation of the values given\n   * in the parameter array.\n   *\n   * @param {*} blobParts\n   * @param {{ type?: string, endings?: string }} [options]\n   */\n  constructor (blobParts = [], options = {}) {\n    if (typeof blobParts !== 'object' || blobParts === null) {\n      throw new TypeError('Failed to construct \\'Blob\\': The provided value cannot be converted to a sequence.')\n    }\n\n    if (typeof blobParts[Symbol.iterator] !== 'function') {\n      throw new TypeError('Failed to construct \\'Blob\\': The object must have a callable @@iterator property.')\n    }\n\n    if (typeof options !== 'object' && typeof options !== 'function') {\n      throw new TypeError('Failed to construct \\'Blob\\': parameter 2 cannot convert to dictionary.')\n    }\n\n    if (options === null) options = {}\n\n    const encoder = new TextEncoder()\n    for (const element of blobParts) {\n      let part\n      if (ArrayBuffer.isView(element)) {\n        part = new Uint8Array(element.buffer.slice(element.byteOffset, element.byteOffset + element.byteLength))\n      } else if (element instanceof ArrayBuffer) {\n        part = new Uint8Array(element.slice(0))\n      } else if (element instanceof Blob) {\n        part = element\n      } else {\n        part = encoder.encode(`${element}`)\n      }\n\n      this.#size += ArrayBuffer.isView(part) ? part.byteLength : part.size\n      this.#parts.push(part)\n    }\n\n    this.#endings = `${options.endings === undefined ? 'transparent' : options.endings}`\n    const type = options.type === undefined ? '' : String(options.type)\n    this.#type = /^[\\x20-\\x7E]*$/.test(type) ? type : ''\n  }\n\n  /**\n   * The Blob interface's size property returns the\n   * size of the Blob in bytes.\n   */\n  get size () {\n    return this.#size\n  }\n\n  /**\n   * The type property of a Blob object returns the MIME type of the file.\n   */\n  get type () {\n    return this.#type\n  }\n\n  /**\n   * The text() method in the Blob interface returns a Promise\n   * that resolves with a string containing the contents of\n   * the blob, interpreted as UTF-8.\n   *\n   * @return {Promise<string>}\n   */\n  async text () {\n    // More optimized than using this.arrayBuffer()\n    // that requires twice as much ram\n    const decoder = new TextDecoder()\n    let str = ''\n    for await (const part of toIterator(this.#parts, false)) {\n      str += decoder.decode(part, { stream: true })\n    }\n    // Remaining\n    str += decoder.decode()\n    return str\n  }\n\n  /**\n   * The arrayBuffer() method in the Blob interface returns a\n   * Promise that resolves with the contents of the blob as\n   * binary data contained in an ArrayBuffer.\n   *\n   * @return {Promise<ArrayBuffer>}\n   */\n  async arrayBuffer () {\n    // Easier way... Just a unnecessary overhead\n    // const view = new Uint8Array(this.size);\n    // await this.stream().getReader({mode: 'byob'}).read(view);\n    // return view.buffer;\n\n    const data = new Uint8Array(this.size)\n    let offset = 0\n    for await (const chunk of toIterator(this.#parts, false)) {\n      data.set(chunk, offset)\n      offset += chunk.length\n    }\n\n    return data.buffer\n  }\n\n  stream () {\n    const it = toIterator(this.#parts, true)\n\n    return new globalThis.ReadableStream({\n      // @ts-ignore\n      type: 'bytes',\n      async pull (ctrl) {\n        const chunk = await it.next()\n        chunk.done ? ctrl.close() : ctrl.enqueue(chunk.value)\n      },\n\n      async cancel () {\n        await it.return()\n      }\n    })\n  }\n\n  /**\n   * The Blob interface's slice() method creates and returns a\n   * new Blob object which contains data from a subset of the\n   * blob on which it's called.\n   *\n   * @param {number} [start]\n   * @param {number} [end]\n   * @param {string} [type]\n   */\n  slice (start = 0, end = this.size, type = '') {\n    const { size } = this\n\n    let relativeStart = start < 0 ? Math.max(size + start, 0) : Math.min(start, size)\n    let relativeEnd = end < 0 ? Math.max(size + end, 0) : Math.min(end, size)\n\n    const span = Math.max(relativeEnd - relativeStart, 0)\n    const parts = this.#parts\n    const blobParts = []\n    let added = 0\n\n    for (const part of parts) {\n      // don't add the overflow to new blobParts\n      if (added >= span) {\n        break\n      }\n\n      const size = ArrayBuffer.isView(part) ? part.byteLength : part.size\n      if (relativeStart && size <= relativeStart) {\n        // Skip the beginning and change the relative\n        // start & end position as we skip the unwanted parts\n        relativeStart -= size\n        relativeEnd -= size\n      } else {\n        let chunk\n        if (ArrayBuffer.isView(part)) {\n          chunk = part.subarray(relativeStart, Math.min(size, relativeEnd))\n          added += chunk.byteLength\n        } else {\n          chunk = part.slice(relativeStart, Math.min(size, relativeEnd))\n          added += chunk.size\n        }\n        relativeEnd -= size\n        blobParts.push(chunk)\n        relativeStart = 0 // All next sequential parts should start at 0\n      }\n    }\n\n    const blob = new Blob([], { type: String(type).toLowerCase() })\n    blob.#size = span\n    blob.#parts = blobParts\n\n    return blob\n  }\n\n  get [Symbol.toStringTag] () {\n    return 'Blob'\n  }\n\n  static [Symbol.hasInstance] (object) {\n    return (\n      object &&\n      typeof object === 'object' &&\n      typeof object.constructor === 'function' &&\n      (\n        typeof object.stream === 'function' ||\n        typeof object.arrayBuffer === 'function'\n      ) &&\n      /^(Blob|File)$/.test(object[Symbol.toStringTag])\n    )\n  }\n}\n\nObject.defineProperties(_Blob.prototype, {\n  size: { enumerable: true },\n  type: { enumerable: true },\n  slice: { enumerable: true }\n})\n\n/** @type {typeof globalThis.Blob} */\nexport const Blob = _Blob\nexport default Blob\n","/* c8 ignore start */\n// 64 KiB (same size chrome slice theirs blob into Uint8array's)\nconst POOL_SIZE = 65536\n\nif (!globalThis.ReadableStream) {\n  // `node:stream/web` got introduced in v16.5.0 as experimental\n  // and it's preferred over the polyfilled version. So we also\n  // suppress the warning that gets emitted by NodeJS for using it.\n  try {\n    const process = require('node:process')\n    const { emitWarning } = process\n    try {\n      process.emitWarning = () => {}\n      Object.assign(globalThis, require('node:stream/web'))\n      process.emitWarning = emitWarning\n    } catch (error) {\n      process.emitWarning = emitWarning\n      throw error\n    }\n  } catch (error) {\n    // fallback to polyfill implementation\n    Object.assign(globalThis, require('web-streams-polyfill/dist/ponyfill.es2018.js'))\n  }\n}\n\ntry {\n  // Don't use node: prefix for this, require+node: is not supported until node v14.14\n  // Only `import()` can use prefix in 12.20 and later\n  const { Blob } = require('buffer')\n  if (Blob && !Blob.prototype.stream) {\n    Blob.prototype.stream = function name (params) {\n      let position = 0\n      const blob = this\n\n      return new ReadableStream({\n        type: 'bytes',\n        async pull (ctrl) {\n          const chunk = blob.slice(position, Math.min(blob.size, position + POOL_SIZE))\n          const buffer = await chunk.arrayBuffer()\n          position += buffer.byteLength\n          ctrl.enqueue(new Uint8Array(buffer))\n\n          if (position === blob.size) {\n            ctrl.close()\n          }\n        }\n      })\n    }\n  }\n} catch (error) {}\n/* c8 ignore end */\n","module.exports = require(\"node:process\");","module.exports = require(\"node:stream/web\");","/**\n * web-streams-polyfill v3.2.1\n */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.WebStreamsPolyfill = {}));\n}(this, (function (exports) { 'use strict';\n\n    /// <reference lib=\"es2015.symbol\" />\n    const SymbolPolyfill = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ?\n        Symbol :\n        description => `Symbol(${description})`;\n\n    /// <reference lib=\"dom\" />\n    function noop() {\n        return undefined;\n    }\n    function getGlobals() {\n        if (typeof self !== 'undefined') {\n            return self;\n        }\n        else if (typeof window !== 'undefined') {\n            return window;\n        }\n        else if (typeof global !== 'undefined') {\n            return global;\n        }\n        return undefined;\n    }\n    const globals = getGlobals();\n\n    function typeIsObject(x) {\n        return (typeof x === 'object' && x !== null) || typeof x === 'function';\n    }\n    const rethrowAssertionErrorRejection = noop;\n\n    const originalPromise = Promise;\n    const originalPromiseThen = Promise.prototype.then;\n    const originalPromiseResolve = Promise.resolve.bind(originalPromise);\n    const originalPromiseReject = Promise.reject.bind(originalPromise);\n    function newPromise(executor) {\n        return new originalPromise(executor);\n    }\n    function promiseResolvedWith(value) {\n        return originalPromiseResolve(value);\n    }\n    function promiseRejectedWith(reason) {\n        return originalPromiseReject(reason);\n    }\n    function PerformPromiseThen(promise, onFulfilled, onRejected) {\n        // There doesn't appear to be any way to correctly emulate the behaviour from JavaScript, so this is just an\n        // approximation.\n        return originalPromiseThen.call(promise, onFulfilled, onRejected);\n    }\n    function uponPromise(promise, onFulfilled, onRejected) {\n        PerformPromiseThen(PerformPromiseThen(promise, onFulfilled, onRejected), undefined, rethrowAssertionErrorRejection);\n    }\n    function uponFulfillment(promise, onFulfilled) {\n        uponPromise(promise, onFulfilled);\n    }\n    function uponRejection(promise, onRejected) {\n        uponPromise(promise, undefined, onRejected);\n    }\n    function transformPromiseWith(promise, fulfillmentHandler, rejectionHandler) {\n        return PerformPromiseThen(promise, fulfillmentHandler, rejectionHandler);\n    }\n    function setPromiseIsHandledToTrue(promise) {\n        PerformPromiseThen(promise, undefined, rethrowAssertionErrorRejection);\n    }\n    const queueMicrotask = (() => {\n        const globalQueueMicrotask = globals && globals.queueMicrotask;\n        if (typeof globalQueueMicrotask === 'function') {\n            return globalQueueMicrotask;\n        }\n        const resolvedPromise = promiseResolvedWith(undefined);\n        return (fn) => PerformPromiseThen(resolvedPromise, fn);\n    })();\n    function reflectCall(F, V, args) {\n        if (typeof F !== 'function') {\n            throw new TypeError('Argument is not a function');\n        }\n        return Function.prototype.apply.call(F, V, args);\n    }\n    function promiseCall(F, V, args) {\n        try {\n            return promiseResolvedWith(reflectCall(F, V, args));\n        }\n        catch (value) {\n            return promiseRejectedWith(value);\n        }\n    }\n\n    // Original from Chromium\n    // https://chromium.googlesource.com/chromium/src/+/0aee4434a4dba42a42abaea9bfbc0cd196a63bc1/third_party/blink/renderer/core/streams/SimpleQueue.js\n    const QUEUE_MAX_ARRAY_SIZE = 16384;\n    /**\n     * Simple queue structure.\n     *\n     * Avoids scalability issues with using a packed array directly by using\n     * multiple arrays in a linked list and keeping the array size bounded.\n     */\n    class SimpleQueue {\n        constructor() {\n            this._cursor = 0;\n            this._size = 0;\n            // _front and _back are always defined.\n            this._front = {\n                _elements: [],\n                _next: undefined\n            };\n            this._back = this._front;\n            // The cursor is used to avoid calling Array.shift().\n            // It contains the index of the front element of the array inside the\n            // front-most node. It is always in the range [0, QUEUE_MAX_ARRAY_SIZE).\n            this._cursor = 0;\n            // When there is only one node, size === elements.length - cursor.\n            this._size = 0;\n        }\n        get length() {\n            return this._size;\n        }\n        // For exception safety, this method is structured in order:\n        // 1. Read state\n        // 2. Calculate required state mutations\n        // 3. Perform state mutations\n        push(element) {\n            const oldBack = this._back;\n            let newBack = oldBack;\n            if (oldBack._elements.length === QUEUE_MAX_ARRAY_SIZE - 1) {\n                newBack = {\n                    _elements: [],\n                    _next: undefined\n                };\n            }\n            // push() is the mutation most likely to throw an exception, so it\n            // goes first.\n            oldBack._elements.push(element);\n            if (newBack !== oldBack) {\n                this._back = newBack;\n                oldBack._next = newBack;\n            }\n            ++this._size;\n        }\n        // Like push(), shift() follows the read -> calculate -> mutate pattern for\n        // exception safety.\n        shift() { // must not be called on an empty queue\n            const oldFront = this._front;\n            let newFront = oldFront;\n            const oldCursor = this._cursor;\n            let newCursor = oldCursor + 1;\n            const elements = oldFront._elements;\n            const element = elements[oldCursor];\n            if (newCursor === QUEUE_MAX_ARRAY_SIZE) {\n                newFront = oldFront._next;\n                newCursor = 0;\n            }\n            // No mutations before this point.\n            --this._size;\n            this._cursor = newCursor;\n            if (oldFront !== newFront) {\n                this._front = newFront;\n            }\n            // Permit shifted element to be garbage collected.\n            elements[oldCursor] = undefined;\n            return element;\n        }\n        // The tricky thing about forEach() is that it can be called\n        // re-entrantly. The queue may be mutated inside the callback. It is easy to\n        // see that push() within the callback has no negative effects since the end\n        // of the queue is checked for on every iteration. If shift() is called\n        // repeatedly within the callback then the next iteration may return an\n        // element that has been removed. In this case the callback will be called\n        // with undefined values until we either \"catch up\" with elements that still\n        // exist or reach the back of the queue.\n        forEach(callback) {\n            let i = this._cursor;\n            let node = this._front;\n            let elements = node._elements;\n            while (i !== elements.length || node._next !== undefined) {\n                if (i === elements.length) {\n                    node = node._next;\n                    elements = node._elements;\n                    i = 0;\n                    if (elements.length === 0) {\n                        break;\n                    }\n                }\n                callback(elements[i]);\n                ++i;\n            }\n        }\n        // Return the element that would be returned if shift() was called now,\n        // without modifying the queue.\n        peek() { // must not be called on an empty queue\n            const front = this._front;\n            const cursor = this._cursor;\n            return front._elements[cursor];\n        }\n    }\n\n    function ReadableStreamReaderGenericInitialize(reader, stream) {\n        reader._ownerReadableStream = stream;\n        stream._reader = reader;\n        if (stream._state === 'readable') {\n            defaultReaderClosedPromiseInitialize(reader);\n        }\n        else if (stream._state === 'closed') {\n            defaultReaderClosedPromiseInitializeAsResolved(reader);\n        }\n        else {\n            defaultReaderClosedPromiseInitializeAsRejected(reader, stream._storedError);\n        }\n    }\n    // A client of ReadableStreamDefaultReader and ReadableStreamBYOBReader may use these functions directly to bypass state\n    // check.\n    function ReadableStreamReaderGenericCancel(reader, reason) {\n        const stream = reader._ownerReadableStream;\n        return ReadableStreamCancel(stream, reason);\n    }\n    function ReadableStreamReaderGenericRelease(reader) {\n        if (reader._ownerReadableStream._state === 'readable') {\n            defaultReaderClosedPromiseReject(reader, new TypeError(`Reader was released and can no longer be used to monitor the stream's closedness`));\n        }\n        else {\n            defaultReaderClosedPromiseResetToRejected(reader, new TypeError(`Reader was released and can no longer be used to monitor the stream's closedness`));\n        }\n        reader._ownerReadableStream._reader = undefined;\n        reader._ownerReadableStream = undefined;\n    }\n    // Helper functions for the readers.\n    function readerLockException(name) {\n        return new TypeError('Cannot ' + name + ' a stream using a released reader');\n    }\n    // Helper functions for the ReadableStreamDefaultReader.\n    function defaultReaderClosedPromiseInitialize(reader) {\n        reader._closedPromise = newPromise((resolve, reject) => {\n            reader._closedPromise_resolve = resolve;\n            reader._closedPromise_reject = reject;\n        });\n    }\n    function defaultReaderClosedPromiseInitializeAsRejected(reader, reason) {\n        defaultReaderClosedPromiseInitialize(reader);\n        defaultReaderClosedPromiseReject(reader, reason);\n    }\n    function defaultReaderClosedPromiseInitializeAsResolved(reader) {\n        defaultReaderClosedPromiseInitialize(reader);\n        defaultReaderClosedPromiseResolve(reader);\n    }\n    function defaultReaderClosedPromiseReject(reader, reason) {\n        if (reader._closedPromise_reject === undefined) {\n            return;\n        }\n        setPromiseIsHandledToTrue(reader._closedPromise);\n        reader._closedPromise_reject(reason);\n        reader._closedPromise_resolve = undefined;\n        reader._closedPromise_reject = undefined;\n    }\n    function defaultReaderClosedPromiseResetToRejected(reader, reason) {\n        defaultReaderClosedPromiseInitializeAsRejected(reader, reason);\n    }\n    function defaultReaderClosedPromiseResolve(reader) {\n        if (reader._closedPromise_resolve === undefined) {\n            return;\n        }\n        reader._closedPromise_resolve(undefined);\n        reader._closedPromise_resolve = undefined;\n        reader._closedPromise_reject = undefined;\n    }\n\n    const AbortSteps = SymbolPolyfill('[[AbortSteps]]');\n    const ErrorSteps = SymbolPolyfill('[[ErrorSteps]]');\n    const CancelSteps = SymbolPolyfill('[[CancelSteps]]');\n    const PullSteps = SymbolPolyfill('[[PullSteps]]');\n\n    /// <reference lib=\"es2015.core\" />\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isFinite#Polyfill\n    const NumberIsFinite = Number.isFinite || function (x) {\n        return typeof x === 'number' && isFinite(x);\n    };\n\n    /// <reference lib=\"es2015.core\" />\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/trunc#Polyfill\n    const MathTrunc = Math.trunc || function (v) {\n        return v < 0 ? Math.ceil(v) : Math.floor(v);\n    };\n\n    // https://heycam.github.io/webidl/#idl-dictionaries\n    function isDictionary(x) {\n        return typeof x === 'object' || typeof x === 'function';\n    }\n    function assertDictionary(obj, context) {\n        if (obj !== undefined && !isDictionary(obj)) {\n            throw new TypeError(`${context} is not an object.`);\n        }\n    }\n    // https://heycam.github.io/webidl/#idl-callback-functions\n    function assertFunction(x, context) {\n        if (typeof x !== 'function') {\n            throw new TypeError(`${context} is not a function.`);\n        }\n    }\n    // https://heycam.github.io/webidl/#idl-object\n    function isObject(x) {\n        return (typeof x === 'object' && x !== null) || typeof x === 'function';\n    }\n    function assertObject(x, context) {\n        if (!isObject(x)) {\n            throw new TypeError(`${context} is not an object.`);\n        }\n    }\n    function assertRequiredArgument(x, position, context) {\n        if (x === undefined) {\n            throw new TypeError(`Parameter ${position} is required in '${context}'.`);\n        }\n    }\n    function assertRequiredField(x, field, context) {\n        if (x === undefined) {\n            throw new TypeError(`${field} is required in '${context}'.`);\n        }\n    }\n    // https://heycam.github.io/webidl/#idl-unrestricted-double\n    function convertUnrestrictedDouble(value) {\n        return Number(value);\n    }\n    function censorNegativeZero(x) {\n        return x === 0 ? 0 : x;\n    }\n    function integerPart(x) {\n        return censorNegativeZero(MathTrunc(x));\n    }\n    // https://heycam.github.io/webidl/#idl-unsigned-long-long\n    function convertUnsignedLongLongWithEnforceRange(value, context) {\n        const lowerBound = 0;\n        const upperBound = Number.MAX_SAFE_INTEGER;\n        let x = Number(value);\n        x = censorNegativeZero(x);\n        if (!NumberIsFinite(x)) {\n            throw new TypeError(`${context} is not a finite number`);\n        }\n        x = integerPart(x);\n        if (x < lowerBound || x > upperBound) {\n            throw new TypeError(`${context} is outside the accepted range of ${lowerBound} to ${upperBound}, inclusive`);\n        }\n        if (!NumberIsFinite(x) || x === 0) {\n            return 0;\n        }\n        // TODO Use BigInt if supported?\n        // let xBigInt = BigInt(integerPart(x));\n        // xBigInt = BigInt.asUintN(64, xBigInt);\n        // return Number(xBigInt);\n        return x;\n    }\n\n    function assertReadableStream(x, context) {\n        if (!IsReadableStream(x)) {\n            throw new TypeError(`${context} is not a ReadableStream.`);\n        }\n    }\n\n    // Abstract operations for the ReadableStream.\n    function AcquireReadableStreamDefaultReader(stream) {\n        return new ReadableStreamDefaultReader(stream);\n    }\n    // ReadableStream API exposed for controllers.\n    function ReadableStreamAddReadRequest(stream, readRequest) {\n        stream._reader._readRequests.push(readRequest);\n    }\n    function ReadableStreamFulfillReadRequest(stream, chunk, done) {\n        const reader = stream._reader;\n        const readRequest = reader._readRequests.shift();\n        if (done) {\n            readRequest._closeSteps();\n        }\n        else {\n            readRequest._chunkSteps(chunk);\n        }\n    }\n    function ReadableStreamGetNumReadRequests(stream) {\n        return stream._reader._readRequests.length;\n    }\n    function ReadableStreamHasDefaultReader(stream) {\n        const reader = stream._reader;\n        if (reader === undefined) {\n            return false;\n        }\n        if (!IsReadableStreamDefaultReader(reader)) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * A default reader vended by a {@link ReadableStream}.\n     *\n     * @public\n     */\n    class ReadableStreamDefaultReader {\n        constructor(stream) {\n            assertRequiredArgument(stream, 1, 'ReadableStreamDefaultReader');\n            assertReadableStream(stream, 'First parameter');\n            if (IsReadableStreamLocked(stream)) {\n                throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n            }\n            ReadableStreamReaderGenericInitialize(this, stream);\n            this._readRequests = new SimpleQueue();\n        }\n        /**\n         * Returns a promise that will be fulfilled when the stream becomes closed,\n         * or rejected if the stream ever errors or the reader's lock is released before the stream finishes closing.\n         */\n        get closed() {\n            if (!IsReadableStreamDefaultReader(this)) {\n                return promiseRejectedWith(defaultReaderBrandCheckException('closed'));\n            }\n            return this._closedPromise;\n        }\n        /**\n         * If the reader is active, behaves the same as {@link ReadableStream.cancel | stream.cancel(reason)}.\n         */\n        cancel(reason = undefined) {\n            if (!IsReadableStreamDefaultReader(this)) {\n                return promiseRejectedWith(defaultReaderBrandCheckException('cancel'));\n            }\n            if (this._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('cancel'));\n            }\n            return ReadableStreamReaderGenericCancel(this, reason);\n        }\n        /**\n         * Returns a promise that allows access to the next chunk from the stream's internal queue, if available.\n         *\n         * If reading a chunk causes the queue to become empty, more data will be pulled from the underlying source.\n         */\n        read() {\n            if (!IsReadableStreamDefaultReader(this)) {\n                return promiseRejectedWith(defaultReaderBrandCheckException('read'));\n            }\n            if (this._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('read from'));\n            }\n            let resolvePromise;\n            let rejectPromise;\n            const promise = newPromise((resolve, reject) => {\n                resolvePromise = resolve;\n                rejectPromise = reject;\n            });\n            const readRequest = {\n                _chunkSteps: chunk => resolvePromise({ value: chunk, done: false }),\n                _closeSteps: () => resolvePromise({ value: undefined, done: true }),\n                _errorSteps: e => rejectPromise(e)\n            };\n            ReadableStreamDefaultReaderRead(this, readRequest);\n            return promise;\n        }\n        /**\n         * Releases the reader's lock on the corresponding stream. After the lock is released, the reader is no longer active.\n         * If the associated stream is errored when the lock is released, the reader will appear errored in the same way\n         * from now on; otherwise, the reader will appear closed.\n         *\n         * A reader's lock cannot be released while it still has a pending read request, i.e., if a promise returned by\n         * the reader's {@link ReadableStreamDefaultReader.read | read()} method has not yet been settled. Attempting to\n         * do so will throw a `TypeError` and leave the reader locked to the stream.\n         */\n        releaseLock() {\n            if (!IsReadableStreamDefaultReader(this)) {\n                throw defaultReaderBrandCheckException('releaseLock');\n            }\n            if (this._ownerReadableStream === undefined) {\n                return;\n            }\n            if (this._readRequests.length > 0) {\n                throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');\n            }\n            ReadableStreamReaderGenericRelease(this);\n        }\n    }\n    Object.defineProperties(ReadableStreamDefaultReader.prototype, {\n        cancel: { enumerable: true },\n        read: { enumerable: true },\n        releaseLock: { enumerable: true },\n        closed: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableStreamDefaultReader.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableStreamDefaultReader',\n            configurable: true\n        });\n    }\n    // Abstract operations for the readers.\n    function IsReadableStreamDefaultReader(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_readRequests')) {\n            return false;\n        }\n        return x instanceof ReadableStreamDefaultReader;\n    }\n    function ReadableStreamDefaultReaderRead(reader, readRequest) {\n        const stream = reader._ownerReadableStream;\n        stream._disturbed = true;\n        if (stream._state === 'closed') {\n            readRequest._closeSteps();\n        }\n        else if (stream._state === 'errored') {\n            readRequest._errorSteps(stream._storedError);\n        }\n        else {\n            stream._readableStreamController[PullSteps](readRequest);\n        }\n    }\n    // Helper functions for the ReadableStreamDefaultReader.\n    function defaultReaderBrandCheckException(name) {\n        return new TypeError(`ReadableStreamDefaultReader.prototype.${name} can only be used on a ReadableStreamDefaultReader`);\n    }\n\n    /// <reference lib=\"es2018.asynciterable\" />\n    /* eslint-disable @typescript-eslint/no-empty-function */\n    const AsyncIteratorPrototype = Object.getPrototypeOf(Object.getPrototypeOf(async function* () { }).prototype);\n\n    /// <reference lib=\"es2018.asynciterable\" />\n    class ReadableStreamAsyncIteratorImpl {\n        constructor(reader, preventCancel) {\n            this._ongoingPromise = undefined;\n            this._isFinished = false;\n            this._reader = reader;\n            this._preventCancel = preventCancel;\n        }\n        next() {\n            const nextSteps = () => this._nextSteps();\n            this._ongoingPromise = this._ongoingPromise ?\n                transformPromiseWith(this._ongoingPromise, nextSteps, nextSteps) :\n                nextSteps();\n            return this._ongoingPromise;\n        }\n        return(value) {\n            const returnSteps = () => this._returnSteps(value);\n            return this._ongoingPromise ?\n                transformPromiseWith(this._ongoingPromise, returnSteps, returnSteps) :\n                returnSteps();\n        }\n        _nextSteps() {\n            if (this._isFinished) {\n                return Promise.resolve({ value: undefined, done: true });\n            }\n            const reader = this._reader;\n            if (reader._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('iterate'));\n            }\n            let resolvePromise;\n            let rejectPromise;\n            const promise = newPromise((resolve, reject) => {\n                resolvePromise = resolve;\n                rejectPromise = reject;\n            });\n            const readRequest = {\n                _chunkSteps: chunk => {\n                    this._ongoingPromise = undefined;\n                    // This needs to be delayed by one microtask, otherwise we stop pulling too early which breaks a test.\n                    // FIXME Is this a bug in the specification, or in the test?\n                    queueMicrotask(() => resolvePromise({ value: chunk, done: false }));\n                },\n                _closeSteps: () => {\n                    this._ongoingPromise = undefined;\n                    this._isFinished = true;\n                    ReadableStreamReaderGenericRelease(reader);\n                    resolvePromise({ value: undefined, done: true });\n                },\n                _errorSteps: reason => {\n                    this._ongoingPromise = undefined;\n                    this._isFinished = true;\n                    ReadableStreamReaderGenericRelease(reader);\n                    rejectPromise(reason);\n                }\n            };\n            ReadableStreamDefaultReaderRead(reader, readRequest);\n            return promise;\n        }\n        _returnSteps(value) {\n            if (this._isFinished) {\n                return Promise.resolve({ value, done: true });\n            }\n            this._isFinished = true;\n            const reader = this._reader;\n            if (reader._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('finish iterating'));\n            }\n            if (!this._preventCancel) {\n                const result = ReadableStreamReaderGenericCancel(reader, value);\n                ReadableStreamReaderGenericRelease(reader);\n                return transformPromiseWith(result, () => ({ value, done: true }));\n            }\n            ReadableStreamReaderGenericRelease(reader);\n            return promiseResolvedWith({ value, done: true });\n        }\n    }\n    const ReadableStreamAsyncIteratorPrototype = {\n        next() {\n            if (!IsReadableStreamAsyncIterator(this)) {\n                return promiseRejectedWith(streamAsyncIteratorBrandCheckException('next'));\n            }\n            return this._asyncIteratorImpl.next();\n        },\n        return(value) {\n            if (!IsReadableStreamAsyncIterator(this)) {\n                return promiseRejectedWith(streamAsyncIteratorBrandCheckException('return'));\n            }\n            return this._asyncIteratorImpl.return(value);\n        }\n    };\n    if (AsyncIteratorPrototype !== undefined) {\n        Object.setPrototypeOf(ReadableStreamAsyncIteratorPrototype, AsyncIteratorPrototype);\n    }\n    // Abstract operations for the ReadableStream.\n    function AcquireReadableStreamAsyncIterator(stream, preventCancel) {\n        const reader = AcquireReadableStreamDefaultReader(stream);\n        const impl = new ReadableStreamAsyncIteratorImpl(reader, preventCancel);\n        const iterator = Object.create(ReadableStreamAsyncIteratorPrototype);\n        iterator._asyncIteratorImpl = impl;\n        return iterator;\n    }\n    function IsReadableStreamAsyncIterator(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_asyncIteratorImpl')) {\n            return false;\n        }\n        try {\n            // noinspection SuspiciousTypeOfGuard\n            return x._asyncIteratorImpl instanceof\n                ReadableStreamAsyncIteratorImpl;\n        }\n        catch (_a) {\n            return false;\n        }\n    }\n    // Helper functions for the ReadableStream.\n    function streamAsyncIteratorBrandCheckException(name) {\n        return new TypeError(`ReadableStreamAsyncIterator.${name} can only be used on a ReadableSteamAsyncIterator`);\n    }\n\n    /// <reference lib=\"es2015.core\" />\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN#Polyfill\n    const NumberIsNaN = Number.isNaN || function (x) {\n        // eslint-disable-next-line no-self-compare\n        return x !== x;\n    };\n\n    function CreateArrayFromList(elements) {\n        // We use arrays to represent lists, so this is basically a no-op.\n        // Do a slice though just in case we happen to depend on the unique-ness.\n        return elements.slice();\n    }\n    function CopyDataBlockBytes(dest, destOffset, src, srcOffset, n) {\n        new Uint8Array(dest).set(new Uint8Array(src, srcOffset, n), destOffset);\n    }\n    // Not implemented correctly\n    function TransferArrayBuffer(O) {\n        return O;\n    }\n    // Not implemented correctly\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    function IsDetachedBuffer(O) {\n        return false;\n    }\n    function ArrayBufferSlice(buffer, begin, end) {\n        // ArrayBuffer.prototype.slice is not available on IE10\n        // https://www.caniuse.com/mdn-javascript_builtins_arraybuffer_slice\n        if (buffer.slice) {\n            return buffer.slice(begin, end);\n        }\n        const length = end - begin;\n        const slice = new ArrayBuffer(length);\n        CopyDataBlockBytes(slice, 0, buffer, begin, length);\n        return slice;\n    }\n\n    function IsNonNegativeNumber(v) {\n        if (typeof v !== 'number') {\n            return false;\n        }\n        if (NumberIsNaN(v)) {\n            return false;\n        }\n        if (v < 0) {\n            return false;\n        }\n        return true;\n    }\n    function CloneAsUint8Array(O) {\n        const buffer = ArrayBufferSlice(O.buffer, O.byteOffset, O.byteOffset + O.byteLength);\n        return new Uint8Array(buffer);\n    }\n\n    function DequeueValue(container) {\n        const pair = container._queue.shift();\n        container._queueTotalSize -= pair.size;\n        if (container._queueTotalSize < 0) {\n            container._queueTotalSize = 0;\n        }\n        return pair.value;\n    }\n    function EnqueueValueWithSize(container, value, size) {\n        if (!IsNonNegativeNumber(size) || size === Infinity) {\n            throw new RangeError('Size must be a finite, non-NaN, non-negative number.');\n        }\n        container._queue.push({ value, size });\n        container._queueTotalSize += size;\n    }\n    function PeekQueueValue(container) {\n        const pair = container._queue.peek();\n        return pair.value;\n    }\n    function ResetQueue(container) {\n        container._queue = new SimpleQueue();\n        container._queueTotalSize = 0;\n    }\n\n    /**\n     * A pull-into request in a {@link ReadableByteStreamController}.\n     *\n     * @public\n     */\n    class ReadableStreamBYOBRequest {\n        constructor() {\n            throw new TypeError('Illegal constructor');\n        }\n        /**\n         * Returns the view for writing in to, or `null` if the BYOB request has already been responded to.\n         */\n        get view() {\n            if (!IsReadableStreamBYOBRequest(this)) {\n                throw byobRequestBrandCheckException('view');\n            }\n            return this._view;\n        }\n        respond(bytesWritten) {\n            if (!IsReadableStreamBYOBRequest(this)) {\n                throw byobRequestBrandCheckException('respond');\n            }\n            assertRequiredArgument(bytesWritten, 1, 'respond');\n            bytesWritten = convertUnsignedLongLongWithEnforceRange(bytesWritten, 'First parameter');\n            if (this._associatedReadableByteStreamController === undefined) {\n                throw new TypeError('This BYOB request has been invalidated');\n            }\n            if (IsDetachedBuffer(this._view.buffer)) ;\n            ReadableByteStreamControllerRespond(this._associatedReadableByteStreamController, bytesWritten);\n        }\n        respondWithNewView(view) {\n            if (!IsReadableStreamBYOBRequest(this)) {\n                throw byobRequestBrandCheckException('respondWithNewView');\n            }\n            assertRequiredArgument(view, 1, 'respondWithNewView');\n            if (!ArrayBuffer.isView(view)) {\n                throw new TypeError('You can only respond with array buffer views');\n            }\n            if (this._associatedReadableByteStreamController === undefined) {\n                throw new TypeError('This BYOB request has been invalidated');\n            }\n            if (IsDetachedBuffer(view.buffer)) ;\n            ReadableByteStreamControllerRespondWithNewView(this._associatedReadableByteStreamController, view);\n        }\n    }\n    Object.defineProperties(ReadableStreamBYOBRequest.prototype, {\n        respond: { enumerable: true },\n        respondWithNewView: { enumerable: true },\n        view: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableStreamBYOBRequest.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableStreamBYOBRequest',\n            configurable: true\n        });\n    }\n    /**\n     * Allows control of a {@link ReadableStream | readable byte stream}'s state and internal queue.\n     *\n     * @public\n     */\n    class ReadableByteStreamController {\n        constructor() {\n            throw new TypeError('Illegal constructor');\n        }\n        /**\n         * Returns the current BYOB pull request, or `null` if there isn't one.\n         */\n        get byobRequest() {\n            if (!IsReadableByteStreamController(this)) {\n                throw byteStreamControllerBrandCheckException('byobRequest');\n            }\n            return ReadableByteStreamControllerGetBYOBRequest(this);\n        }\n        /**\n         * Returns the desired size to fill the controlled stream's internal queue. It can be negative, if the queue is\n         * over-full. An underlying byte source ought to use this information to determine when and how to apply backpressure.\n         */\n        get desiredSize() {\n            if (!IsReadableByteStreamController(this)) {\n                throw byteStreamControllerBrandCheckException('desiredSize');\n            }\n            return ReadableByteStreamControllerGetDesiredSize(this);\n        }\n        /**\n         * Closes the controlled readable stream. Consumers will still be able to read any previously-enqueued chunks from\n         * the stream, but once those are read, the stream will become closed.\n         */\n        close() {\n            if (!IsReadableByteStreamController(this)) {\n                throw byteStreamControllerBrandCheckException('close');\n            }\n            if (this._closeRequested) {\n                throw new TypeError('The stream has already been closed; do not close it again!');\n            }\n            const state = this._controlledReadableByteStream._state;\n            if (state !== 'readable') {\n                throw new TypeError(`The stream (in ${state} state) is not in the readable state and cannot be closed`);\n            }\n            ReadableByteStreamControllerClose(this);\n        }\n        enqueue(chunk) {\n            if (!IsReadableByteStreamController(this)) {\n                throw byteStreamControllerBrandCheckException('enqueue');\n            }\n            assertRequiredArgument(chunk, 1, 'enqueue');\n            if (!ArrayBuffer.isView(chunk)) {\n                throw new TypeError('chunk must be an array buffer view');\n            }\n            if (chunk.byteLength === 0) {\n                throw new TypeError('chunk must have non-zero byteLength');\n            }\n            if (chunk.buffer.byteLength === 0) {\n                throw new TypeError(`chunk's buffer must have non-zero byteLength`);\n            }\n            if (this._closeRequested) {\n                throw new TypeError('stream is closed or draining');\n            }\n            const state = this._controlledReadableByteStream._state;\n            if (state !== 'readable') {\n                throw new TypeError(`The stream (in ${state} state) is not in the readable state and cannot be enqueued to`);\n            }\n            ReadableByteStreamControllerEnqueue(this, chunk);\n        }\n        /**\n         * Errors the controlled readable stream, making all future interactions with it fail with the given error `e`.\n         */\n        error(e = undefined) {\n            if (!IsReadableByteStreamController(this)) {\n                throw byteStreamControllerBrandCheckException('error');\n            }\n            ReadableByteStreamControllerError(this, e);\n        }\n        /** @internal */\n        [CancelSteps](reason) {\n            ReadableByteStreamControllerClearPendingPullIntos(this);\n            ResetQueue(this);\n            const result = this._cancelAlgorithm(reason);\n            ReadableByteStreamControllerClearAlgorithms(this);\n            return result;\n        }\n        /** @internal */\n        [PullSteps](readRequest) {\n            const stream = this._controlledReadableByteStream;\n            if (this._queueTotalSize > 0) {\n                const entry = this._queue.shift();\n                this._queueTotalSize -= entry.byteLength;\n                ReadableByteStreamControllerHandleQueueDrain(this);\n                const view = new Uint8Array(entry.buffer, entry.byteOffset, entry.byteLength);\n                readRequest._chunkSteps(view);\n                return;\n            }\n            const autoAllocateChunkSize = this._autoAllocateChunkSize;\n            if (autoAllocateChunkSize !== undefined) {\n                let buffer;\n                try {\n                    buffer = new ArrayBuffer(autoAllocateChunkSize);\n                }\n                catch (bufferE) {\n                    readRequest._errorSteps(bufferE);\n                    return;\n                }\n                const pullIntoDescriptor = {\n                    buffer,\n                    bufferByteLength: autoAllocateChunkSize,\n                    byteOffset: 0,\n                    byteLength: autoAllocateChunkSize,\n                    bytesFilled: 0,\n                    elementSize: 1,\n                    viewConstructor: Uint8Array,\n                    readerType: 'default'\n                };\n                this._pendingPullIntos.push(pullIntoDescriptor);\n            }\n            ReadableStreamAddReadRequest(stream, readRequest);\n            ReadableByteStreamControllerCallPullIfNeeded(this);\n        }\n    }\n    Object.defineProperties(ReadableByteStreamController.prototype, {\n        close: { enumerable: true },\n        enqueue: { enumerable: true },\n        error: { enumerable: true },\n        byobRequest: { enumerable: true },\n        desiredSize: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableByteStreamController.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableByteStreamController',\n            configurable: true\n        });\n    }\n    // Abstract operations for the ReadableByteStreamController.\n    function IsReadableByteStreamController(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_controlledReadableByteStream')) {\n            return false;\n        }\n        return x instanceof ReadableByteStreamController;\n    }\n    function IsReadableStreamBYOBRequest(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_associatedReadableByteStreamController')) {\n            return false;\n        }\n        return x instanceof ReadableStreamBYOBRequest;\n    }\n    function ReadableByteStreamControllerCallPullIfNeeded(controller) {\n        const shouldPull = ReadableByteStreamControllerShouldCallPull(controller);\n        if (!shouldPull) {\n            return;\n        }\n        if (controller._pulling) {\n            controller._pullAgain = true;\n            return;\n        }\n        controller._pulling = true;\n        // TODO: Test controller argument\n        const pullPromise = controller._pullAlgorithm();\n        uponPromise(pullPromise, () => {\n            controller._pulling = false;\n            if (controller._pullAgain) {\n                controller._pullAgain = false;\n                ReadableByteStreamControllerCallPullIfNeeded(controller);\n            }\n        }, e => {\n            ReadableByteStreamControllerError(controller, e);\n        });\n    }\n    function ReadableByteStreamControllerClearPendingPullIntos(controller) {\n        ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n        controller._pendingPullIntos = new SimpleQueue();\n    }\n    function ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor) {\n        let done = false;\n        if (stream._state === 'closed') {\n            done = true;\n        }\n        const filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n        if (pullIntoDescriptor.readerType === 'default') {\n            ReadableStreamFulfillReadRequest(stream, filledView, done);\n        }\n        else {\n            ReadableStreamFulfillReadIntoRequest(stream, filledView, done);\n        }\n    }\n    function ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor) {\n        const bytesFilled = pullIntoDescriptor.bytesFilled;\n        const elementSize = pullIntoDescriptor.elementSize;\n        return new pullIntoDescriptor.viewConstructor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, bytesFilled / elementSize);\n    }\n    function ReadableByteStreamControllerEnqueueChunkToQueue(controller, buffer, byteOffset, byteLength) {\n        controller._queue.push({ buffer, byteOffset, byteLength });\n        controller._queueTotalSize += byteLength;\n    }\n    function ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) {\n        const elementSize = pullIntoDescriptor.elementSize;\n        const currentAlignedBytes = pullIntoDescriptor.bytesFilled - pullIntoDescriptor.bytesFilled % elementSize;\n        const maxBytesToCopy = Math.min(controller._queueTotalSize, pullIntoDescriptor.byteLength - pullIntoDescriptor.bytesFilled);\n        const maxBytesFilled = pullIntoDescriptor.bytesFilled + maxBytesToCopy;\n        const maxAlignedBytes = maxBytesFilled - maxBytesFilled % elementSize;\n        let totalBytesToCopyRemaining = maxBytesToCopy;\n        let ready = false;\n        if (maxAlignedBytes > currentAlignedBytes) {\n            totalBytesToCopyRemaining = maxAlignedBytes - pullIntoDescriptor.bytesFilled;\n            ready = true;\n        }\n        const queue = controller._queue;\n        while (totalBytesToCopyRemaining > 0) {\n            const headOfQueue = queue.peek();\n            const bytesToCopy = Math.min(totalBytesToCopyRemaining, headOfQueue.byteLength);\n            const destStart = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n            CopyDataBlockBytes(pullIntoDescriptor.buffer, destStart, headOfQueue.buffer, headOfQueue.byteOffset, bytesToCopy);\n            if (headOfQueue.byteLength === bytesToCopy) {\n                queue.shift();\n            }\n            else {\n                headOfQueue.byteOffset += bytesToCopy;\n                headOfQueue.byteLength -= bytesToCopy;\n            }\n            controller._queueTotalSize -= bytesToCopy;\n            ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesToCopy, pullIntoDescriptor);\n            totalBytesToCopyRemaining -= bytesToCopy;\n        }\n        return ready;\n    }\n    function ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, size, pullIntoDescriptor) {\n        pullIntoDescriptor.bytesFilled += size;\n    }\n    function ReadableByteStreamControllerHandleQueueDrain(controller) {\n        if (controller._queueTotalSize === 0 && controller._closeRequested) {\n            ReadableByteStreamControllerClearAlgorithms(controller);\n            ReadableStreamClose(controller._controlledReadableByteStream);\n        }\n        else {\n            ReadableByteStreamControllerCallPullIfNeeded(controller);\n        }\n    }\n    function ReadableByteStreamControllerInvalidateBYOBRequest(controller) {\n        if (controller._byobRequest === null) {\n            return;\n        }\n        controller._byobRequest._associatedReadableByteStreamController = undefined;\n        controller._byobRequest._view = null;\n        controller._byobRequest = null;\n    }\n    function ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller) {\n        while (controller._pendingPullIntos.length > 0) {\n            if (controller._queueTotalSize === 0) {\n                return;\n            }\n            const pullIntoDescriptor = controller._pendingPullIntos.peek();\n            if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor)) {\n                ReadableByteStreamControllerShiftPendingPullInto(controller);\n                ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableByteStream, pullIntoDescriptor);\n            }\n        }\n    }\n    function ReadableByteStreamControllerPullInto(controller, view, readIntoRequest) {\n        const stream = controller._controlledReadableByteStream;\n        let elementSize = 1;\n        if (view.constructor !== DataView) {\n            elementSize = view.constructor.BYTES_PER_ELEMENT;\n        }\n        const ctor = view.constructor;\n        // try {\n        const buffer = TransferArrayBuffer(view.buffer);\n        // } catch (e) {\n        //   readIntoRequest._errorSteps(e);\n        //   return;\n        // }\n        const pullIntoDescriptor = {\n            buffer,\n            bufferByteLength: buffer.byteLength,\n            byteOffset: view.byteOffset,\n            byteLength: view.byteLength,\n            bytesFilled: 0,\n            elementSize,\n            viewConstructor: ctor,\n            readerType: 'byob'\n        };\n        if (controller._pendingPullIntos.length > 0) {\n            controller._pendingPullIntos.push(pullIntoDescriptor);\n            // No ReadableByteStreamControllerCallPullIfNeeded() call since:\n            // - No change happens on desiredSize\n            // - The source has already been notified of that there's at least 1 pending read(view)\n            ReadableStreamAddReadIntoRequest(stream, readIntoRequest);\n            return;\n        }\n        if (stream._state === 'closed') {\n            const emptyView = new ctor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, 0);\n            readIntoRequest._closeSteps(emptyView);\n            return;\n        }\n        if (controller._queueTotalSize > 0) {\n            if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor)) {\n                const filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n                ReadableByteStreamControllerHandleQueueDrain(controller);\n                readIntoRequest._chunkSteps(filledView);\n                return;\n            }\n            if (controller._closeRequested) {\n                const e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n                ReadableByteStreamControllerError(controller, e);\n                readIntoRequest._errorSteps(e);\n                return;\n            }\n        }\n        controller._pendingPullIntos.push(pullIntoDescriptor);\n        ReadableStreamAddReadIntoRequest(stream, readIntoRequest);\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n    }\n    function ReadableByteStreamControllerRespondInClosedState(controller, firstDescriptor) {\n        const stream = controller._controlledReadableByteStream;\n        if (ReadableStreamHasBYOBReader(stream)) {\n            while (ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n                const pullIntoDescriptor = ReadableByteStreamControllerShiftPendingPullInto(controller);\n                ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor);\n            }\n        }\n    }\n    function ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, pullIntoDescriptor) {\n        ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesWritten, pullIntoDescriptor);\n        if (pullIntoDescriptor.bytesFilled < pullIntoDescriptor.elementSize) {\n            return;\n        }\n        ReadableByteStreamControllerShiftPendingPullInto(controller);\n        const remainderSize = pullIntoDescriptor.bytesFilled % pullIntoDescriptor.elementSize;\n        if (remainderSize > 0) {\n            const end = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n            const remainder = ArrayBufferSlice(pullIntoDescriptor.buffer, end - remainderSize, end);\n            ReadableByteStreamControllerEnqueueChunkToQueue(controller, remainder, 0, remainder.byteLength);\n        }\n        pullIntoDescriptor.bytesFilled -= remainderSize;\n        ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableByteStream, pullIntoDescriptor);\n        ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n    }\n    function ReadableByteStreamControllerRespondInternal(controller, bytesWritten) {\n        const firstDescriptor = controller._pendingPullIntos.peek();\n        ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n        const state = controller._controlledReadableByteStream._state;\n        if (state === 'closed') {\n            ReadableByteStreamControllerRespondInClosedState(controller);\n        }\n        else {\n            ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, firstDescriptor);\n        }\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n    }\n    function ReadableByteStreamControllerShiftPendingPullInto(controller) {\n        const descriptor = controller._pendingPullIntos.shift();\n        return descriptor;\n    }\n    function ReadableByteStreamControllerShouldCallPull(controller) {\n        const stream = controller._controlledReadableByteStream;\n        if (stream._state !== 'readable') {\n            return false;\n        }\n        if (controller._closeRequested) {\n            return false;\n        }\n        if (!controller._started) {\n            return false;\n        }\n        if (ReadableStreamHasDefaultReader(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n            return true;\n        }\n        if (ReadableStreamHasBYOBReader(stream) && ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n            return true;\n        }\n        const desiredSize = ReadableByteStreamControllerGetDesiredSize(controller);\n        if (desiredSize > 0) {\n            return true;\n        }\n        return false;\n    }\n    function ReadableByteStreamControllerClearAlgorithms(controller) {\n        controller._pullAlgorithm = undefined;\n        controller._cancelAlgorithm = undefined;\n    }\n    // A client of ReadableByteStreamController may use these functions directly to bypass state check.\n    function ReadableByteStreamControllerClose(controller) {\n        const stream = controller._controlledReadableByteStream;\n        if (controller._closeRequested || stream._state !== 'readable') {\n            return;\n        }\n        if (controller._queueTotalSize > 0) {\n            controller._closeRequested = true;\n            return;\n        }\n        if (controller._pendingPullIntos.length > 0) {\n            const firstPendingPullInto = controller._pendingPullIntos.peek();\n            if (firstPendingPullInto.bytesFilled > 0) {\n                const e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n                ReadableByteStreamControllerError(controller, e);\n                throw e;\n            }\n        }\n        ReadableByteStreamControllerClearAlgorithms(controller);\n        ReadableStreamClose(stream);\n    }\n    function ReadableByteStreamControllerEnqueue(controller, chunk) {\n        const stream = controller._controlledReadableByteStream;\n        if (controller._closeRequested || stream._state !== 'readable') {\n            return;\n        }\n        const buffer = chunk.buffer;\n        const byteOffset = chunk.byteOffset;\n        const byteLength = chunk.byteLength;\n        const transferredBuffer = TransferArrayBuffer(buffer);\n        if (controller._pendingPullIntos.length > 0) {\n            const firstPendingPullInto = controller._pendingPullIntos.peek();\n            if (IsDetachedBuffer(firstPendingPullInto.buffer)) ;\n            firstPendingPullInto.buffer = TransferArrayBuffer(firstPendingPullInto.buffer);\n        }\n        ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n        if (ReadableStreamHasDefaultReader(stream)) {\n            if (ReadableStreamGetNumReadRequests(stream) === 0) {\n                ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n            }\n            else {\n                if (controller._pendingPullIntos.length > 0) {\n                    ReadableByteStreamControllerShiftPendingPullInto(controller);\n                }\n                const transferredView = new Uint8Array(transferredBuffer, byteOffset, byteLength);\n                ReadableStreamFulfillReadRequest(stream, transferredView, false);\n            }\n        }\n        else if (ReadableStreamHasBYOBReader(stream)) {\n            // TODO: Ideally in this branch detaching should happen only if the buffer is not consumed fully.\n            ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n            ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n        }\n        else {\n            ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n        }\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n    }\n    function ReadableByteStreamControllerError(controller, e) {\n        const stream = controller._controlledReadableByteStream;\n        if (stream._state !== 'readable') {\n            return;\n        }\n        ReadableByteStreamControllerClearPendingPullIntos(controller);\n        ResetQueue(controller);\n        ReadableByteStreamControllerClearAlgorithms(controller);\n        ReadableStreamError(stream, e);\n    }\n    function ReadableByteStreamControllerGetBYOBRequest(controller) {\n        if (controller._byobRequest === null && controller._pendingPullIntos.length > 0) {\n            const firstDescriptor = controller._pendingPullIntos.peek();\n            const view = new Uint8Array(firstDescriptor.buffer, firstDescriptor.byteOffset + firstDescriptor.bytesFilled, firstDescriptor.byteLength - firstDescriptor.bytesFilled);\n            const byobRequest = Object.create(ReadableStreamBYOBRequest.prototype);\n            SetUpReadableStreamBYOBRequest(byobRequest, controller, view);\n            controller._byobRequest = byobRequest;\n        }\n        return controller._byobRequest;\n    }\n    function ReadableByteStreamControllerGetDesiredSize(controller) {\n        const state = controller._controlledReadableByteStream._state;\n        if (state === 'errored') {\n            return null;\n        }\n        if (state === 'closed') {\n            return 0;\n        }\n        return controller._strategyHWM - controller._queueTotalSize;\n    }\n    function ReadableByteStreamControllerRespond(controller, bytesWritten) {\n        const firstDescriptor = controller._pendingPullIntos.peek();\n        const state = controller._controlledReadableByteStream._state;\n        if (state === 'closed') {\n            if (bytesWritten !== 0) {\n                throw new TypeError('bytesWritten must be 0 when calling respond() on a closed stream');\n            }\n        }\n        else {\n            if (bytesWritten === 0) {\n                throw new TypeError('bytesWritten must be greater than 0 when calling respond() on a readable stream');\n            }\n            if (firstDescriptor.bytesFilled + bytesWritten > firstDescriptor.byteLength) {\n                throw new RangeError('bytesWritten out of range');\n            }\n        }\n        firstDescriptor.buffer = TransferArrayBuffer(firstDescriptor.buffer);\n        ReadableByteStreamControllerRespondInternal(controller, bytesWritten);\n    }\n    function ReadableByteStreamControllerRespondWithNewView(controller, view) {\n        const firstDescriptor = controller._pendingPullIntos.peek();\n        const state = controller._controlledReadableByteStream._state;\n        if (state === 'closed') {\n            if (view.byteLength !== 0) {\n                throw new TypeError('The view\\'s length must be 0 when calling respondWithNewView() on a closed stream');\n            }\n        }\n        else {\n            if (view.byteLength === 0) {\n                throw new TypeError('The view\\'s length must be greater than 0 when calling respondWithNewView() on a readable stream');\n            }\n        }\n        if (firstDescriptor.byteOffset + firstDescriptor.bytesFilled !== view.byteOffset) {\n            throw new RangeError('The region specified by view does not match byobRequest');\n        }\n        if (firstDescriptor.bufferByteLength !== view.buffer.byteLength) {\n            throw new RangeError('The buffer of view has different capacity than byobRequest');\n        }\n        if (firstDescriptor.bytesFilled + view.byteLength > firstDescriptor.byteLength) {\n            throw new RangeError('The region specified by view is larger than byobRequest');\n        }\n        const viewByteLength = view.byteLength;\n        firstDescriptor.buffer = TransferArrayBuffer(view.buffer);\n        ReadableByteStreamControllerRespondInternal(controller, viewByteLength);\n    }\n    function SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, autoAllocateChunkSize) {\n        controller._controlledReadableByteStream = stream;\n        controller._pullAgain = false;\n        controller._pulling = false;\n        controller._byobRequest = null;\n        // Need to set the slots so that the assert doesn't fire. In the spec the slots already exist implicitly.\n        controller._queue = controller._queueTotalSize = undefined;\n        ResetQueue(controller);\n        controller._closeRequested = false;\n        controller._started = false;\n        controller._strategyHWM = highWaterMark;\n        controller._pullAlgorithm = pullAlgorithm;\n        controller._cancelAlgorithm = cancelAlgorithm;\n        controller._autoAllocateChunkSize = autoAllocateChunkSize;\n        controller._pendingPullIntos = new SimpleQueue();\n        stream._readableStreamController = controller;\n        const startResult = startAlgorithm();\n        uponPromise(promiseResolvedWith(startResult), () => {\n            controller._started = true;\n            ReadableByteStreamControllerCallPullIfNeeded(controller);\n        }, r => {\n            ReadableByteStreamControllerError(controller, r);\n        });\n    }\n    function SetUpReadableByteStreamControllerFromUnderlyingSource(stream, underlyingByteSource, highWaterMark) {\n        const controller = Object.create(ReadableByteStreamController.prototype);\n        let startAlgorithm = () => undefined;\n        let pullAlgorithm = () => promiseResolvedWith(undefined);\n        let cancelAlgorithm = () => promiseResolvedWith(undefined);\n        if (underlyingByteSource.start !== undefined) {\n            startAlgorithm = () => underlyingByteSource.start(controller);\n        }\n        if (underlyingByteSource.pull !== undefined) {\n            pullAlgorithm = () => underlyingByteSource.pull(controller);\n        }\n        if (underlyingByteSource.cancel !== undefined) {\n            cancelAlgorithm = reason => underlyingByteSource.cancel(reason);\n        }\n        const autoAllocateChunkSize = underlyingByteSource.autoAllocateChunkSize;\n        if (autoAllocateChunkSize === 0) {\n            throw new TypeError('autoAllocateChunkSize must be greater than 0');\n        }\n        SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, autoAllocateChunkSize);\n    }\n    function SetUpReadableStreamBYOBRequest(request, controller, view) {\n        request._associatedReadableByteStreamController = controller;\n        request._view = view;\n    }\n    // Helper functions for the ReadableStreamBYOBRequest.\n    function byobRequestBrandCheckException(name) {\n        return new TypeError(`ReadableStreamBYOBRequest.prototype.${name} can only be used on a ReadableStreamBYOBRequest`);\n    }\n    // Helper functions for the ReadableByteStreamController.\n    function byteStreamControllerBrandCheckException(name) {\n        return new TypeError(`ReadableByteStreamController.prototype.${name} can only be used on a ReadableByteStreamController`);\n    }\n\n    // Abstract operations for the ReadableStream.\n    function AcquireReadableStreamBYOBReader(stream) {\n        return new ReadableStreamBYOBReader(stream);\n    }\n    // ReadableStream API exposed for controllers.\n    function ReadableStreamAddReadIntoRequest(stream, readIntoRequest) {\n        stream._reader._readIntoRequests.push(readIntoRequest);\n    }\n    function ReadableStreamFulfillReadIntoRequest(stream, chunk, done) {\n        const reader = stream._reader;\n        const readIntoRequest = reader._readIntoRequests.shift();\n        if (done) {\n            readIntoRequest._closeSteps(chunk);\n        }\n        else {\n            readIntoRequest._chunkSteps(chunk);\n        }\n    }\n    function ReadableStreamGetNumReadIntoRequests(stream) {\n        return stream._reader._readIntoRequests.length;\n    }\n    function ReadableStreamHasBYOBReader(stream) {\n        const reader = stream._reader;\n        if (reader === undefined) {\n            return false;\n        }\n        if (!IsReadableStreamBYOBReader(reader)) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * A BYOB reader vended by a {@link ReadableStream}.\n     *\n     * @public\n     */\n    class ReadableStreamBYOBReader {\n        constructor(stream) {\n            assertRequiredArgument(stream, 1, 'ReadableStreamBYOBReader');\n            assertReadableStream(stream, 'First parameter');\n            if (IsReadableStreamLocked(stream)) {\n                throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n            }\n            if (!IsReadableByteStreamController(stream._readableStreamController)) {\n                throw new TypeError('Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte ' +\n                    'source');\n            }\n            ReadableStreamReaderGenericInitialize(this, stream);\n            this._readIntoRequests = new SimpleQueue();\n        }\n        /**\n         * Returns a promise that will be fulfilled when the stream becomes closed, or rejected if the stream ever errors or\n         * the reader's lock is released before the stream finishes closing.\n         */\n        get closed() {\n            if (!IsReadableStreamBYOBReader(this)) {\n                return promiseRejectedWith(byobReaderBrandCheckException('closed'));\n            }\n            return this._closedPromise;\n        }\n        /**\n         * If the reader is active, behaves the same as {@link ReadableStream.cancel | stream.cancel(reason)}.\n         */\n        cancel(reason = undefined) {\n            if (!IsReadableStreamBYOBReader(this)) {\n                return promiseRejectedWith(byobReaderBrandCheckException('cancel'));\n            }\n            if (this._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('cancel'));\n            }\n            return ReadableStreamReaderGenericCancel(this, reason);\n        }\n        /**\n         * Attempts to reads bytes into view, and returns a promise resolved with the result.\n         *\n         * If reading a chunk causes the queue to become empty, more data will be pulled from the underlying source.\n         */\n        read(view) {\n            if (!IsReadableStreamBYOBReader(this)) {\n                return promiseRejectedWith(byobReaderBrandCheckException('read'));\n            }\n            if (!ArrayBuffer.isView(view)) {\n                return promiseRejectedWith(new TypeError('view must be an array buffer view'));\n            }\n            if (view.byteLength === 0) {\n                return promiseRejectedWith(new TypeError('view must have non-zero byteLength'));\n            }\n            if (view.buffer.byteLength === 0) {\n                return promiseRejectedWith(new TypeError(`view's buffer must have non-zero byteLength`));\n            }\n            if (IsDetachedBuffer(view.buffer)) ;\n            if (this._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('read from'));\n            }\n            let resolvePromise;\n            let rejectPromise;\n            const promise = newPromise((resolve, reject) => {\n                resolvePromise = resolve;\n                rejectPromise = reject;\n            });\n            const readIntoRequest = {\n                _chunkSteps: chunk => resolvePromise({ value: chunk, done: false }),\n                _closeSteps: chunk => resolvePromise({ value: chunk, done: true }),\n                _errorSteps: e => rejectPromise(e)\n            };\n            ReadableStreamBYOBReaderRead(this, view, readIntoRequest);\n            return promise;\n        }\n        /**\n         * Releases the reader's lock on the corresponding stream. After the lock is released, the reader is no longer active.\n         * If the associated stream is errored when the lock is released, the reader will appear errored in the same way\n         * from now on; otherwise, the reader will appear closed.\n         *\n         * A reader's lock cannot be released while it still has a pending read request, i.e., if a promise returned by\n         * the reader's {@link ReadableStreamBYOBReader.read | read()} method has not yet been settled. Attempting to\n         * do so will throw a `TypeError` and leave the reader locked to the stream.\n         */\n        releaseLock() {\n            if (!IsReadableStreamBYOBReader(this)) {\n                throw byobReaderBrandCheckException('releaseLock');\n            }\n            if (this._ownerReadableStream === undefined) {\n                return;\n            }\n            if (this._readIntoRequests.length > 0) {\n                throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');\n            }\n            ReadableStreamReaderGenericRelease(this);\n        }\n    }\n    Object.defineProperties(ReadableStreamBYOBReader.prototype, {\n        cancel: { enumerable: true },\n        read: { enumerable: true },\n        releaseLock: { enumerable: true },\n        closed: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableStreamBYOBReader.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableStreamBYOBReader',\n            configurable: true\n        });\n    }\n    // Abstract operations for the readers.\n    function IsReadableStreamBYOBReader(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_readIntoRequests')) {\n            return false;\n        }\n        return x instanceof ReadableStreamBYOBReader;\n    }\n    function ReadableStreamBYOBReaderRead(reader, view, readIntoRequest) {\n        const stream = reader._ownerReadableStream;\n        stream._disturbed = true;\n        if (stream._state === 'errored') {\n            readIntoRequest._errorSteps(stream._storedError);\n        }\n        else {\n            ReadableByteStreamControllerPullInto(stream._readableStreamController, view, readIntoRequest);\n        }\n    }\n    // Helper functions for the ReadableStreamBYOBReader.\n    function byobReaderBrandCheckException(name) {\n        return new TypeError(`ReadableStreamBYOBReader.prototype.${name} can only be used on a ReadableStreamBYOBReader`);\n    }\n\n    function ExtractHighWaterMark(strategy, defaultHWM) {\n        const { highWaterMark } = strategy;\n        if (highWaterMark === undefined) {\n            return defaultHWM;\n        }\n        if (NumberIsNaN(highWaterMark) || highWaterMark < 0) {\n            throw new RangeError('Invalid highWaterMark');\n        }\n        return highWaterMark;\n    }\n    function ExtractSizeAlgorithm(strategy) {\n        const { size } = strategy;\n        if (!size) {\n            return () => 1;\n        }\n        return size;\n    }\n\n    function convertQueuingStrategy(init, context) {\n        assertDictionary(init, context);\n        const highWaterMark = init === null || init === void 0 ? void 0 : init.highWaterMark;\n        const size = init === null || init === void 0 ? void 0 : init.size;\n        return {\n            highWaterMark: highWaterMark === undefined ? undefined : convertUnrestrictedDouble(highWaterMark),\n            size: size === undefined ? undefined : convertQueuingStrategySize(size, `${context} has member 'size' that`)\n        };\n    }\n    function convertQueuingStrategySize(fn, context) {\n        assertFunction(fn, context);\n        return chunk => convertUnrestrictedDouble(fn(chunk));\n    }\n\n    function convertUnderlyingSink(original, context) {\n        assertDictionary(original, context);\n        const abort = original === null || original === void 0 ? void 0 : original.abort;\n        const close = original === null || original === void 0 ? void 0 : original.close;\n        const start = original === null || original === void 0 ? void 0 : original.start;\n        const type = original === null || original === void 0 ? void 0 : original.type;\n        const write = original === null || original === void 0 ? void 0 : original.write;\n        return {\n            abort: abort === undefined ?\n                undefined :\n                convertUnderlyingSinkAbortCallback(abort, original, `${context} has member 'abort' that`),\n            close: close === undefined ?\n                undefined :\n                convertUnderlyingSinkCloseCallback(close, original, `${context} has member 'close' that`),\n            start: start === undefined ?\n                undefined :\n                convertUnderlyingSinkStartCallback(start, original, `${context} has member 'start' that`),\n            write: write === undefined ?\n                undefined :\n                convertUnderlyingSinkWriteCallback(write, original, `${context} has member 'write' that`),\n            type\n        };\n    }\n    function convertUnderlyingSinkAbortCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (reason) => promiseCall(fn, original, [reason]);\n    }\n    function convertUnderlyingSinkCloseCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return () => promiseCall(fn, original, []);\n    }\n    function convertUnderlyingSinkStartCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (controller) => reflectCall(fn, original, [controller]);\n    }\n    function convertUnderlyingSinkWriteCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (chunk, controller) => promiseCall(fn, original, [chunk, controller]);\n    }\n\n    function assertWritableStream(x, context) {\n        if (!IsWritableStream(x)) {\n            throw new TypeError(`${context} is not a WritableStream.`);\n        }\n    }\n\n    function isAbortSignal(value) {\n        if (typeof value !== 'object' || value === null) {\n            return false;\n        }\n        try {\n            return typeof value.aborted === 'boolean';\n        }\n        catch (_a) {\n            // AbortSignal.prototype.aborted throws if its brand check fails\n            return false;\n        }\n    }\n    const supportsAbortController = typeof AbortController === 'function';\n    /**\n     * Construct a new AbortController, if supported by the platform.\n     *\n     * @internal\n     */\n    function createAbortController() {\n        if (supportsAbortController) {\n            return new AbortController();\n        }\n        return undefined;\n    }\n\n    /**\n     * A writable stream represents a destination for data, into which you can write.\n     *\n     * @public\n     */\n    class WritableStream {\n        constructor(rawUnderlyingSink = {}, rawStrategy = {}) {\n            if (rawUnderlyingSink === undefined) {\n                rawUnderlyingSink = null;\n            }\n            else {\n                assertObject(rawUnderlyingSink, 'First parameter');\n            }\n            const strategy = convertQueuingStrategy(rawStrategy, 'Second parameter');\n            const underlyingSink = convertUnderlyingSink(rawUnderlyingSink, 'First parameter');\n            InitializeWritableStream(this);\n            const type = underlyingSink.type;\n            if (type !== undefined) {\n                throw new RangeError('Invalid type is specified');\n            }\n            const sizeAlgorithm = ExtractSizeAlgorithm(strategy);\n            const highWaterMark = ExtractHighWaterMark(strategy, 1);\n            SetUpWritableStreamDefaultControllerFromUnderlyingSink(this, underlyingSink, highWaterMark, sizeAlgorithm);\n        }\n        /**\n         * Returns whether or not the writable stream is locked to a writer.\n         */\n        get locked() {\n            if (!IsWritableStream(this)) {\n                throw streamBrandCheckException$2('locked');\n            }\n            return IsWritableStreamLocked(this);\n        }\n        /**\n         * Aborts the stream, signaling that the producer can no longer successfully write to the stream and it is to be\n         * immediately moved to an errored state, with any queued-up writes discarded. This will also execute any abort\n         * mechanism of the underlying sink.\n         *\n         * The returned promise will fulfill if the stream shuts down successfully, or reject if the underlying sink signaled\n         * that there was an error doing so. Additionally, it will reject with a `TypeError` (without attempting to cancel\n         * the stream) if the stream is currently locked.\n         */\n        abort(reason = undefined) {\n            if (!IsWritableStream(this)) {\n                return promiseRejectedWith(streamBrandCheckException$2('abort'));\n            }\n            if (IsWritableStreamLocked(this)) {\n                return promiseRejectedWith(new TypeError('Cannot abort a stream that already has a writer'));\n            }\n            return WritableStreamAbort(this, reason);\n        }\n        /**\n         * Closes the stream. The underlying sink will finish processing any previously-written chunks, before invoking its\n         * close behavior. During this time any further attempts to write will fail (without erroring the stream).\n         *\n         * The method returns a promise that will fulfill if all remaining chunks are successfully written and the stream\n         * successfully closes, or rejects if an error is encountered during this process. Additionally, it will reject with\n         * a `TypeError` (without attempting to cancel the stream) if the stream is currently locked.\n         */\n        close() {\n            if (!IsWritableStream(this)) {\n                return promiseRejectedWith(streamBrandCheckException$2('close'));\n            }\n            if (IsWritableStreamLocked(this)) {\n                return promiseRejectedWith(new TypeError('Cannot close a stream that already has a writer'));\n            }\n            if (WritableStreamCloseQueuedOrInFlight(this)) {\n                return promiseRejectedWith(new TypeError('Cannot close an already-closing stream'));\n            }\n            return WritableStreamClose(this);\n        }\n        /**\n         * Creates a {@link WritableStreamDefaultWriter | writer} and locks the stream to the new writer. While the stream\n         * is locked, no other writer can be acquired until this one is released.\n         *\n         * This functionality is especially useful for creating abstractions that desire the ability to write to a stream\n         * without interruption or interleaving. By getting a writer for the stream, you can ensure nobody else can write at\n         * the same time, which would cause the resulting written data to be unpredictable and probably useless.\n         */\n        getWriter() {\n            if (!IsWritableStream(this)) {\n                throw streamBrandCheckException$2('getWriter');\n            }\n            return AcquireWritableStreamDefaultWriter(this);\n        }\n    }\n    Object.defineProperties(WritableStream.prototype, {\n        abort: { enumerable: true },\n        close: { enumerable: true },\n        getWriter: { enumerable: true },\n        locked: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(WritableStream.prototype, SymbolPolyfill.toStringTag, {\n            value: 'WritableStream',\n            configurable: true\n        });\n    }\n    // Abstract operations for the WritableStream.\n    function AcquireWritableStreamDefaultWriter(stream) {\n        return new WritableStreamDefaultWriter(stream);\n    }\n    // Throws if and only if startAlgorithm throws.\n    function CreateWritableStream(startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark = 1, sizeAlgorithm = () => 1) {\n        const stream = Object.create(WritableStream.prototype);\n        InitializeWritableStream(stream);\n        const controller = Object.create(WritableStreamDefaultController.prototype);\n        SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm);\n        return stream;\n    }\n    function InitializeWritableStream(stream) {\n        stream._state = 'writable';\n        // The error that will be reported by new method calls once the state becomes errored. Only set when [[state]] is\n        // 'erroring' or 'errored'. May be set to an undefined value.\n        stream._storedError = undefined;\n        stream._writer = undefined;\n        // Initialize to undefined first because the constructor of the controller checks this\n        // variable to validate the caller.\n        stream._writableStreamController = undefined;\n        // This queue is placed here instead of the writer class in order to allow for passing a writer to the next data\n        // producer without waiting for the queued writes to finish.\n        stream._writeRequests = new SimpleQueue();\n        // Write requests are removed from _writeRequests when write() is called on the underlying sink. This prevents\n        // them from being erroneously rejected on error. If a write() call is in-flight, the request is stored here.\n        stream._inFlightWriteRequest = undefined;\n        // The promise that was returned from writer.close(). Stored here because it may be fulfilled after the writer\n        // has been detached.\n        stream._closeRequest = undefined;\n        // Close request is removed from _closeRequest when close() is called on the underlying sink. This prevents it\n        // from being erroneously rejected on error. If a close() call is in-flight, the request is stored here.\n        stream._inFlightCloseRequest = undefined;\n        // The promise that was returned from writer.abort(). This may also be fulfilled after the writer has detached.\n        stream._pendingAbortRequest = undefined;\n        // The backpressure signal set by the controller.\n        stream._backpressure = false;\n    }\n    function IsWritableStream(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_writableStreamController')) {\n            return false;\n        }\n        return x instanceof WritableStream;\n    }\n    function IsWritableStreamLocked(stream) {\n        if (stream._writer === undefined) {\n            return false;\n        }\n        return true;\n    }\n    function WritableStreamAbort(stream, reason) {\n        var _a;\n        if (stream._state === 'closed' || stream._state === 'errored') {\n            return promiseResolvedWith(undefined);\n        }\n        stream._writableStreamController._abortReason = reason;\n        (_a = stream._writableStreamController._abortController) === null || _a === void 0 ? void 0 : _a.abort();\n        // TypeScript narrows the type of `stream._state` down to 'writable' | 'erroring',\n        // but it doesn't know that signaling abort runs author code that might have changed the state.\n        // Widen the type again by casting to WritableStreamState.\n        const state = stream._state;\n        if (state === 'closed' || state === 'errored') {\n            return promiseResolvedWith(undefined);\n        }\n        if (stream._pendingAbortRequest !== undefined) {\n            return stream._pendingAbortRequest._promise;\n        }\n        let wasAlreadyErroring = false;\n        if (state === 'erroring') {\n            wasAlreadyErroring = true;\n            // reason will not be used, so don't keep a reference to it.\n            reason = undefined;\n        }\n        const promise = newPromise((resolve, reject) => {\n            stream._pendingAbortRequest = {\n                _promise: undefined,\n                _resolve: resolve,\n                _reject: reject,\n                _reason: reason,\n                _wasAlreadyErroring: wasAlreadyErroring\n            };\n        });\n        stream._pendingAbortRequest._promise = promise;\n        if (!wasAlreadyErroring) {\n            WritableStreamStartErroring(stream, reason);\n        }\n        return promise;\n    }\n    function WritableStreamClose(stream) {\n        const state = stream._state;\n        if (state === 'closed' || state === 'errored') {\n            return promiseRejectedWith(new TypeError(`The stream (in ${state} state) is not in the writable state and cannot be closed`));\n        }\n        const promise = newPromise((resolve, reject) => {\n            const closeRequest = {\n                _resolve: resolve,\n                _reject: reject\n            };\n            stream._closeRequest = closeRequest;\n        });\n        const writer = stream._writer;\n        if (writer !== undefined && stream._backpressure && state === 'writable') {\n            defaultWriterReadyPromiseResolve(writer);\n        }\n        WritableStreamDefaultControllerClose(stream._writableStreamController);\n        return promise;\n    }\n    // WritableStream API exposed for controllers.\n    function WritableStreamAddWriteRequest(stream) {\n        const promise = newPromise((resolve, reject) => {\n            const writeRequest = {\n                _resolve: resolve,\n                _reject: reject\n            };\n            stream._writeRequests.push(writeRequest);\n        });\n        return promise;\n    }\n    function WritableStreamDealWithRejection(stream, error) {\n        const state = stream._state;\n        if (state === 'writable') {\n            WritableStreamStartErroring(stream, error);\n            return;\n        }\n        WritableStreamFinishErroring(stream);\n    }\n    function WritableStreamStartErroring(stream, reason) {\n        const controller = stream._writableStreamController;\n        stream._state = 'erroring';\n        stream._storedError = reason;\n        const writer = stream._writer;\n        if (writer !== undefined) {\n            WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, reason);\n        }\n        if (!WritableStreamHasOperationMarkedInFlight(stream) && controller._started) {\n            WritableStreamFinishErroring(stream);\n        }\n    }\n    function WritableStreamFinishErroring(stream) {\n        stream._state = 'errored';\n        stream._writableStreamController[ErrorSteps]();\n        const storedError = stream._storedError;\n        stream._writeRequests.forEach(writeRequest => {\n            writeRequest._reject(storedError);\n        });\n        stream._writeRequests = new SimpleQueue();\n        if (stream._pendingAbortRequest === undefined) {\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n            return;\n        }\n        const abortRequest = stream._pendingAbortRequest;\n        stream._pendingAbortRequest = undefined;\n        if (abortRequest._wasAlreadyErroring) {\n            abortRequest._reject(storedError);\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n            return;\n        }\n        const promise = stream._writableStreamController[AbortSteps](abortRequest._reason);\n        uponPromise(promise, () => {\n            abortRequest._resolve();\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n        }, (reason) => {\n            abortRequest._reject(reason);\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n        });\n    }\n    function WritableStreamFinishInFlightWrite(stream) {\n        stream._inFlightWriteRequest._resolve(undefined);\n        stream._inFlightWriteRequest = undefined;\n    }\n    function WritableStreamFinishInFlightWriteWithError(stream, error) {\n        stream._inFlightWriteRequest._reject(error);\n        stream._inFlightWriteRequest = undefined;\n        WritableStreamDealWithRejection(stream, error);\n    }\n    function WritableStreamFinishInFlightClose(stream) {\n        stream._inFlightCloseRequest._resolve(undefined);\n        stream._inFlightCloseRequest = undefined;\n        const state = stream._state;\n        if (state === 'erroring') {\n            // The error was too late to do anything, so it is ignored.\n            stream._storedError = undefined;\n            if (stream._pendingAbortRequest !== undefined) {\n                stream._pendingAbortRequest._resolve();\n                stream._pendingAbortRequest = undefined;\n            }\n        }\n        stream._state = 'closed';\n        const writer = stream._writer;\n        if (writer !== undefined) {\n            defaultWriterClosedPromiseResolve(writer);\n        }\n    }\n    function WritableStreamFinishInFlightCloseWithError(stream, error) {\n        stream._inFlightCloseRequest._reject(error);\n        stream._inFlightCloseRequest = undefined;\n        // Never execute sink abort() after sink close().\n        if (stream._pendingAbortRequest !== undefined) {\n            stream._pendingAbortRequest._reject(error);\n            stream._pendingAbortRequest = undefined;\n        }\n        WritableStreamDealWithRejection(stream, error);\n    }\n    // TODO(ricea): Fix alphabetical order.\n    function WritableStreamCloseQueuedOrInFlight(stream) {\n        if (stream._closeRequest === undefined && stream._inFlightCloseRequest === undefined) {\n            return false;\n        }\n        return true;\n    }\n    function WritableStreamHasOperationMarkedInFlight(stream) {\n        if (stream._inFlightWriteRequest === undefined && stream._inFlightCloseRequest === undefined) {\n            return false;\n        }\n        return true;\n    }\n    function WritableStreamMarkCloseRequestInFlight(stream) {\n        stream._inFlightCloseRequest = stream._closeRequest;\n        stream._closeRequest = undefined;\n    }\n    function WritableStreamMarkFirstWriteRequestInFlight(stream) {\n        stream._inFlightWriteRequest = stream._writeRequests.shift();\n    }\n    function WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream) {\n        if (stream._closeRequest !== undefined) {\n            stream._closeRequest._reject(stream._storedError);\n            stream._closeRequest = undefined;\n        }\n        const writer = stream._writer;\n        if (writer !== undefined) {\n            defaultWriterClosedPromiseReject(writer, stream._storedError);\n        }\n    }\n    function WritableStreamUpdateBackpressure(stream, backpressure) {\n        const writer = stream._writer;\n        if (writer !== undefined && backpressure !== stream._backpressure) {\n            if (backpressure) {\n                defaultWriterReadyPromiseReset(writer);\n            }\n            else {\n                defaultWriterReadyPromiseResolve(writer);\n            }\n        }\n        stream._backpressure = backpressure;\n    }\n    /**\n     * A default writer vended by a {@link WritableStream}.\n     *\n     * @public\n     */\n    class WritableStreamDefaultWriter {\n        constructor(stream) {\n            assertRequiredArgument(stream, 1, 'WritableStreamDefaultWriter');\n            assertWritableStream(stream, 'First parameter');\n            if (IsWritableStreamLocked(stream)) {\n                throw new TypeError('This stream has already been locked for exclusive writing by another writer');\n            }\n            this._ownerWritableStream = stream;\n            stream._writer = this;\n            const state = stream._state;\n            if (state === 'writable') {\n                if (!WritableStreamCloseQueuedOrInFlight(stream) && stream._backpressure) {\n                    defaultWriterReadyPromiseInitialize(this);\n                }\n                else {\n                    defaultWriterReadyPromiseInitializeAsResolved(this);\n                }\n                defaultWriterClosedPromiseInitialize(this);\n            }\n            else if (state === 'erroring') {\n                defaultWriterReadyPromiseInitializeAsRejected(this, stream._storedError);\n                defaultWriterClosedPromiseInitialize(this);\n            }\n            else if (state === 'closed') {\n                defaultWriterReadyPromiseInitializeAsResolved(this);\n                defaultWriterClosedPromiseInitializeAsResolved(this);\n            }\n            else {\n                const storedError = stream._storedError;\n                defaultWriterReadyPromiseInitializeAsRejected(this, storedError);\n                defaultWriterClosedPromiseInitializeAsRejected(this, storedError);\n            }\n        }\n        /**\n         * Returns a promise that will be fulfilled when the stream becomes closed, or rejected if the stream ever errors or\n         * the writer’s lock is released before the stream finishes closing.\n         */\n        get closed() {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                return promiseRejectedWith(defaultWriterBrandCheckException('closed'));\n            }\n            return this._closedPromise;\n        }\n        /**\n         * Returns the desired size to fill the stream’s internal queue. It can be negative, if the queue is over-full.\n         * A producer can use this information to determine the right amount of data to write.\n         *\n         * It will be `null` if the stream cannot be successfully written to (due to either being errored, or having an abort\n         * queued up). It will return zero if the stream is closed. And the getter will throw an exception if invoked when\n         * the writer’s lock is released.\n         */\n        get desiredSize() {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                throw defaultWriterBrandCheckException('desiredSize');\n            }\n            if (this._ownerWritableStream === undefined) {\n                throw defaultWriterLockException('desiredSize');\n            }\n            return WritableStreamDefaultWriterGetDesiredSize(this);\n        }\n        /**\n         * Returns a promise that will be fulfilled when the desired size to fill the stream’s internal queue transitions\n         * from non-positive to positive, signaling that it is no longer applying backpressure. Once the desired size dips\n         * back to zero or below, the getter will return a new promise that stays pending until the next transition.\n         *\n         * If the stream becomes errored or aborted, or the writer’s lock is released, the returned promise will become\n         * rejected.\n         */\n        get ready() {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                return promiseRejectedWith(defaultWriterBrandCheckException('ready'));\n            }\n            return this._readyPromise;\n        }\n        /**\n         * If the reader is active, behaves the same as {@link WritableStream.abort | stream.abort(reason)}.\n         */\n        abort(reason = undefined) {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                return promiseRejectedWith(defaultWriterBrandCheckException('abort'));\n            }\n            if (this._ownerWritableStream === undefined) {\n                return promiseRejectedWith(defaultWriterLockException('abort'));\n            }\n            return WritableStreamDefaultWriterAbort(this, reason);\n        }\n        /**\n         * If the reader is active, behaves the same as {@link WritableStream.close | stream.close()}.\n         */\n        close() {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                return promiseRejectedWith(defaultWriterBrandCheckException('close'));\n            }\n            const stream = this._ownerWritableStream;\n            if (stream === undefined) {\n                return promiseRejectedWith(defaultWriterLockException('close'));\n            }\n            if (WritableStreamCloseQueuedOrInFlight(stream)) {\n                return promiseRejectedWith(new TypeError('Cannot close an already-closing stream'));\n            }\n            return WritableStreamDefaultWriterClose(this);\n        }\n        /**\n         * Releases the writer’s lock on the corresponding stream. After the lock is released, the writer is no longer active.\n         * If the associated stream is errored when the lock is released, the writer will appear errored in the same way from\n         * now on; otherwise, the writer will appear closed.\n         *\n         * Note that the lock can still be released even if some ongoing writes have not yet finished (i.e. even if the\n         * promises returned from previous calls to {@link WritableStreamDefaultWriter.write | write()} have not yet settled).\n         * It’s not necessary to hold the lock on the writer for the duration of the write; the lock instead simply prevents\n         * other producers from writing in an interleaved manner.\n         */\n        releaseLock() {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                throw defaultWriterBrandCheckException('releaseLock');\n            }\n            const stream = this._ownerWritableStream;\n            if (stream === undefined) {\n                return;\n            }\n            WritableStreamDefaultWriterRelease(this);\n        }\n        write(chunk = undefined) {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                return promiseRejectedWith(defaultWriterBrandCheckException('write'));\n            }\n            if (this._ownerWritableStream === undefined) {\n                return promiseRejectedWith(defaultWriterLockException('write to'));\n            }\n            return WritableStreamDefaultWriterWrite(this, chunk);\n        }\n    }\n    Object.defineProperties(WritableStreamDefaultWriter.prototype, {\n        abort: { enumerable: true },\n        close: { enumerable: true },\n        releaseLock: { enumerable: true },\n        write: { enumerable: true },\n        closed: { enumerable: true },\n        desiredSize: { enumerable: true },\n        ready: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(WritableStreamDefaultWriter.prototype, SymbolPolyfill.toStringTag, {\n            value: 'WritableStreamDefaultWriter',\n            configurable: true\n        });\n    }\n    // Abstract operations for the WritableStreamDefaultWriter.\n    function IsWritableStreamDefaultWriter(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_ownerWritableStream')) {\n            return false;\n        }\n        return x instanceof WritableStreamDefaultWriter;\n    }\n    // A client of WritableStreamDefaultWriter may use these functions directly to bypass state check.\n    function WritableStreamDefaultWriterAbort(writer, reason) {\n        const stream = writer._ownerWritableStream;\n        return WritableStreamAbort(stream, reason);\n    }\n    function WritableStreamDefaultWriterClose(writer) {\n        const stream = writer._ownerWritableStream;\n        return WritableStreamClose(stream);\n    }\n    function WritableStreamDefaultWriterCloseWithErrorPropagation(writer) {\n        const stream = writer._ownerWritableStream;\n        const state = stream._state;\n        if (WritableStreamCloseQueuedOrInFlight(stream) || state === 'closed') {\n            return promiseResolvedWith(undefined);\n        }\n        if (state === 'errored') {\n            return promiseRejectedWith(stream._storedError);\n        }\n        return WritableStreamDefaultWriterClose(writer);\n    }\n    function WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, error) {\n        if (writer._closedPromiseState === 'pending') {\n            defaultWriterClosedPromiseReject(writer, error);\n        }\n        else {\n            defaultWriterClosedPromiseResetToRejected(writer, error);\n        }\n    }\n    function WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, error) {\n        if (writer._readyPromiseState === 'pending') {\n            defaultWriterReadyPromiseReject(writer, error);\n        }\n        else {\n            defaultWriterReadyPromiseResetToRejected(writer, error);\n        }\n    }\n    function WritableStreamDefaultWriterGetDesiredSize(writer) {\n        const stream = writer._ownerWritableStream;\n        const state = stream._state;\n        if (state === 'errored' || state === 'erroring') {\n            return null;\n        }\n        if (state === 'closed') {\n            return 0;\n        }\n        return WritableStreamDefaultControllerGetDesiredSize(stream._writableStreamController);\n    }\n    function WritableStreamDefaultWriterRelease(writer) {\n        const stream = writer._ownerWritableStream;\n        const releasedError = new TypeError(`Writer was released and can no longer be used to monitor the stream's closedness`);\n        WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, releasedError);\n        // The state transitions to \"errored\" before the sink abort() method runs, but the writer.closed promise is not\n        // rejected until afterwards. This means that simply testing state will not work.\n        WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, releasedError);\n        stream._writer = undefined;\n        writer._ownerWritableStream = undefined;\n    }\n    function WritableStreamDefaultWriterWrite(writer, chunk) {\n        const stream = writer._ownerWritableStream;\n        const controller = stream._writableStreamController;\n        const chunkSize = WritableStreamDefaultControllerGetChunkSize(controller, chunk);\n        if (stream !== writer._ownerWritableStream) {\n            return promiseRejectedWith(defaultWriterLockException('write to'));\n        }\n        const state = stream._state;\n        if (state === 'errored') {\n            return promiseRejectedWith(stream._storedError);\n        }\n        if (WritableStreamCloseQueuedOrInFlight(stream) || state === 'closed') {\n            return promiseRejectedWith(new TypeError('The stream is closing or closed and cannot be written to'));\n        }\n        if (state === 'erroring') {\n            return promiseRejectedWith(stream._storedError);\n        }\n        const promise = WritableStreamAddWriteRequest(stream);\n        WritableStreamDefaultControllerWrite(controller, chunk, chunkSize);\n        return promise;\n    }\n    const closeSentinel = {};\n    /**\n     * Allows control of a {@link WritableStream | writable stream}'s state and internal queue.\n     *\n     * @public\n     */\n    class WritableStreamDefaultController {\n        constructor() {\n            throw new TypeError('Illegal constructor');\n        }\n        /**\n         * The reason which was passed to `WritableStream.abort(reason)` when the stream was aborted.\n         *\n         * @deprecated\n         *  This property has been removed from the specification, see https://github.com/whatwg/streams/pull/1177.\n         *  Use {@link WritableStreamDefaultController.signal}'s `reason` instead.\n         */\n        get abortReason() {\n            if (!IsWritableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$2('abortReason');\n            }\n            return this._abortReason;\n        }\n        /**\n         * An `AbortSignal` that can be used to abort the pending write or close operation when the stream is aborted.\n         */\n        get signal() {\n            if (!IsWritableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$2('signal');\n            }\n            if (this._abortController === undefined) {\n                // Older browsers or older Node versions may not support `AbortController` or `AbortSignal`.\n                // We don't want to bundle and ship an `AbortController` polyfill together with our polyfill,\n                // so instead we only implement support for `signal` if we find a global `AbortController` constructor.\n                throw new TypeError('WritableStreamDefaultController.prototype.signal is not supported');\n            }\n            return this._abortController.signal;\n        }\n        /**\n         * Closes the controlled writable stream, making all future interactions with it fail with the given error `e`.\n         *\n         * This method is rarely used, since usually it suffices to return a rejected promise from one of the underlying\n         * sink's methods. However, it can be useful for suddenly shutting down a stream in response to an event outside the\n         * normal lifecycle of interactions with the underlying sink.\n         */\n        error(e = undefined) {\n            if (!IsWritableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$2('error');\n            }\n            const state = this._controlledWritableStream._state;\n            if (state !== 'writable') {\n                // The stream is closed, errored or will be soon. The sink can't do anything useful if it gets an error here, so\n                // just treat it as a no-op.\n                return;\n            }\n            WritableStreamDefaultControllerError(this, e);\n        }\n        /** @internal */\n        [AbortSteps](reason) {\n            const result = this._abortAlgorithm(reason);\n            WritableStreamDefaultControllerClearAlgorithms(this);\n            return result;\n        }\n        /** @internal */\n        [ErrorSteps]() {\n            ResetQueue(this);\n        }\n    }\n    Object.defineProperties(WritableStreamDefaultController.prototype, {\n        abortReason: { enumerable: true },\n        signal: { enumerable: true },\n        error: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(WritableStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n            value: 'WritableStreamDefaultController',\n            configurable: true\n        });\n    }\n    // Abstract operations implementing interface required by the WritableStream.\n    function IsWritableStreamDefaultController(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_controlledWritableStream')) {\n            return false;\n        }\n        return x instanceof WritableStreamDefaultController;\n    }\n    function SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm) {\n        controller._controlledWritableStream = stream;\n        stream._writableStreamController = controller;\n        // Need to set the slots so that the assert doesn't fire. In the spec the slots already exist implicitly.\n        controller._queue = undefined;\n        controller._queueTotalSize = undefined;\n        ResetQueue(controller);\n        controller._abortReason = undefined;\n        controller._abortController = createAbortController();\n        controller._started = false;\n        controller._strategySizeAlgorithm = sizeAlgorithm;\n        controller._strategyHWM = highWaterMark;\n        controller._writeAlgorithm = writeAlgorithm;\n        controller._closeAlgorithm = closeAlgorithm;\n        controller._abortAlgorithm = abortAlgorithm;\n        const backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n        WritableStreamUpdateBackpressure(stream, backpressure);\n        const startResult = startAlgorithm();\n        const startPromise = promiseResolvedWith(startResult);\n        uponPromise(startPromise, () => {\n            controller._started = true;\n            WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n        }, r => {\n            controller._started = true;\n            WritableStreamDealWithRejection(stream, r);\n        });\n    }\n    function SetUpWritableStreamDefaultControllerFromUnderlyingSink(stream, underlyingSink, highWaterMark, sizeAlgorithm) {\n        const controller = Object.create(WritableStreamDefaultController.prototype);\n        let startAlgorithm = () => undefined;\n        let writeAlgorithm = () => promiseResolvedWith(undefined);\n        let closeAlgorithm = () => promiseResolvedWith(undefined);\n        let abortAlgorithm = () => promiseResolvedWith(undefined);\n        if (underlyingSink.start !== undefined) {\n            startAlgorithm = () => underlyingSink.start(controller);\n        }\n        if (underlyingSink.write !== undefined) {\n            writeAlgorithm = chunk => underlyingSink.write(chunk, controller);\n        }\n        if (underlyingSink.close !== undefined) {\n            closeAlgorithm = () => underlyingSink.close();\n        }\n        if (underlyingSink.abort !== undefined) {\n            abortAlgorithm = reason => underlyingSink.abort(reason);\n        }\n        SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm);\n    }\n    // ClearAlgorithms may be called twice. Erroring the same stream in multiple ways will often result in redundant calls.\n    function WritableStreamDefaultControllerClearAlgorithms(controller) {\n        controller._writeAlgorithm = undefined;\n        controller._closeAlgorithm = undefined;\n        controller._abortAlgorithm = undefined;\n        controller._strategySizeAlgorithm = undefined;\n    }\n    function WritableStreamDefaultControllerClose(controller) {\n        EnqueueValueWithSize(controller, closeSentinel, 0);\n        WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n    }\n    function WritableStreamDefaultControllerGetChunkSize(controller, chunk) {\n        try {\n            return controller._strategySizeAlgorithm(chunk);\n        }\n        catch (chunkSizeE) {\n            WritableStreamDefaultControllerErrorIfNeeded(controller, chunkSizeE);\n            return 1;\n        }\n    }\n    function WritableStreamDefaultControllerGetDesiredSize(controller) {\n        return controller._strategyHWM - controller._queueTotalSize;\n    }\n    function WritableStreamDefaultControllerWrite(controller, chunk, chunkSize) {\n        try {\n            EnqueueValueWithSize(controller, chunk, chunkSize);\n        }\n        catch (enqueueE) {\n            WritableStreamDefaultControllerErrorIfNeeded(controller, enqueueE);\n            return;\n        }\n        const stream = controller._controlledWritableStream;\n        if (!WritableStreamCloseQueuedOrInFlight(stream) && stream._state === 'writable') {\n            const backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n            WritableStreamUpdateBackpressure(stream, backpressure);\n        }\n        WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n    }\n    // Abstract operations for the WritableStreamDefaultController.\n    function WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller) {\n        const stream = controller._controlledWritableStream;\n        if (!controller._started) {\n            return;\n        }\n        if (stream._inFlightWriteRequest !== undefined) {\n            return;\n        }\n        const state = stream._state;\n        if (state === 'erroring') {\n            WritableStreamFinishErroring(stream);\n            return;\n        }\n        if (controller._queue.length === 0) {\n            return;\n        }\n        const value = PeekQueueValue(controller);\n        if (value === closeSentinel) {\n            WritableStreamDefaultControllerProcessClose(controller);\n        }\n        else {\n            WritableStreamDefaultControllerProcessWrite(controller, value);\n        }\n    }\n    function WritableStreamDefaultControllerErrorIfNeeded(controller, error) {\n        if (controller._controlledWritableStream._state === 'writable') {\n            WritableStreamDefaultControllerError(controller, error);\n        }\n    }\n    function WritableStreamDefaultControllerProcessClose(controller) {\n        const stream = controller._controlledWritableStream;\n        WritableStreamMarkCloseRequestInFlight(stream);\n        DequeueValue(controller);\n        const sinkClosePromise = controller._closeAlgorithm();\n        WritableStreamDefaultControllerClearAlgorithms(controller);\n        uponPromise(sinkClosePromise, () => {\n            WritableStreamFinishInFlightClose(stream);\n        }, reason => {\n            WritableStreamFinishInFlightCloseWithError(stream, reason);\n        });\n    }\n    function WritableStreamDefaultControllerProcessWrite(controller, chunk) {\n        const stream = controller._controlledWritableStream;\n        WritableStreamMarkFirstWriteRequestInFlight(stream);\n        const sinkWritePromise = controller._writeAlgorithm(chunk);\n        uponPromise(sinkWritePromise, () => {\n            WritableStreamFinishInFlightWrite(stream);\n            const state = stream._state;\n            DequeueValue(controller);\n            if (!WritableStreamCloseQueuedOrInFlight(stream) && state === 'writable') {\n                const backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n                WritableStreamUpdateBackpressure(stream, backpressure);\n            }\n            WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n        }, reason => {\n            if (stream._state === 'writable') {\n                WritableStreamDefaultControllerClearAlgorithms(controller);\n            }\n            WritableStreamFinishInFlightWriteWithError(stream, reason);\n        });\n    }\n    function WritableStreamDefaultControllerGetBackpressure(controller) {\n        const desiredSize = WritableStreamDefaultControllerGetDesiredSize(controller);\n        return desiredSize <= 0;\n    }\n    // A client of WritableStreamDefaultController may use these functions directly to bypass state check.\n    function WritableStreamDefaultControllerError(controller, error) {\n        const stream = controller._controlledWritableStream;\n        WritableStreamDefaultControllerClearAlgorithms(controller);\n        WritableStreamStartErroring(stream, error);\n    }\n    // Helper functions for the WritableStream.\n    function streamBrandCheckException$2(name) {\n        return new TypeError(`WritableStream.prototype.${name} can only be used on a WritableStream`);\n    }\n    // Helper functions for the WritableStreamDefaultController.\n    function defaultControllerBrandCheckException$2(name) {\n        return new TypeError(`WritableStreamDefaultController.prototype.${name} can only be used on a WritableStreamDefaultController`);\n    }\n    // Helper functions for the WritableStreamDefaultWriter.\n    function defaultWriterBrandCheckException(name) {\n        return new TypeError(`WritableStreamDefaultWriter.prototype.${name} can only be used on a WritableStreamDefaultWriter`);\n    }\n    function defaultWriterLockException(name) {\n        return new TypeError('Cannot ' + name + ' a stream using a released writer');\n    }\n    function defaultWriterClosedPromiseInitialize(writer) {\n        writer._closedPromise = newPromise((resolve, reject) => {\n            writer._closedPromise_resolve = resolve;\n            writer._closedPromise_reject = reject;\n            writer._closedPromiseState = 'pending';\n        });\n    }\n    function defaultWriterClosedPromiseInitializeAsRejected(writer, reason) {\n        defaultWriterClosedPromiseInitialize(writer);\n        defaultWriterClosedPromiseReject(writer, reason);\n    }\n    function defaultWriterClosedPromiseInitializeAsResolved(writer) {\n        defaultWriterClosedPromiseInitialize(writer);\n        defaultWriterClosedPromiseResolve(writer);\n    }\n    function defaultWriterClosedPromiseReject(writer, reason) {\n        if (writer._closedPromise_reject === undefined) {\n            return;\n        }\n        setPromiseIsHandledToTrue(writer._closedPromise);\n        writer._closedPromise_reject(reason);\n        writer._closedPromise_resolve = undefined;\n        writer._closedPromise_reject = undefined;\n        writer._closedPromiseState = 'rejected';\n    }\n    function defaultWriterClosedPromiseResetToRejected(writer, reason) {\n        defaultWriterClosedPromiseInitializeAsRejected(writer, reason);\n    }\n    function defaultWriterClosedPromiseResolve(writer) {\n        if (writer._closedPromise_resolve === undefined) {\n            return;\n        }\n        writer._closedPromise_resolve(undefined);\n        writer._closedPromise_resolve = undefined;\n        writer._closedPromise_reject = undefined;\n        writer._closedPromiseState = 'resolved';\n    }\n    function defaultWriterReadyPromiseInitialize(writer) {\n        writer._readyPromise = newPromise((resolve, reject) => {\n            writer._readyPromise_resolve = resolve;\n            writer._readyPromise_reject = reject;\n        });\n        writer._readyPromiseState = 'pending';\n    }\n    function defaultWriterReadyPromiseInitializeAsRejected(writer, reason) {\n        defaultWriterReadyPromiseInitialize(writer);\n        defaultWriterReadyPromiseReject(writer, reason);\n    }\n    function defaultWriterReadyPromiseInitializeAsResolved(writer) {\n        defaultWriterReadyPromiseInitialize(writer);\n        defaultWriterReadyPromiseResolve(writer);\n    }\n    function defaultWriterReadyPromiseReject(writer, reason) {\n        if (writer._readyPromise_reject === undefined) {\n            return;\n        }\n        setPromiseIsHandledToTrue(writer._readyPromise);\n        writer._readyPromise_reject(reason);\n        writer._readyPromise_resolve = undefined;\n        writer._readyPromise_reject = undefined;\n        writer._readyPromiseState = 'rejected';\n    }\n    function defaultWriterReadyPromiseReset(writer) {\n        defaultWriterReadyPromiseInitialize(writer);\n    }\n    function defaultWriterReadyPromiseResetToRejected(writer, reason) {\n        defaultWriterReadyPromiseInitializeAsRejected(writer, reason);\n    }\n    function defaultWriterReadyPromiseResolve(writer) {\n        if (writer._readyPromise_resolve === undefined) {\n            return;\n        }\n        writer._readyPromise_resolve(undefined);\n        writer._readyPromise_resolve = undefined;\n        writer._readyPromise_reject = undefined;\n        writer._readyPromiseState = 'fulfilled';\n    }\n\n    /// <reference lib=\"dom\" />\n    const NativeDOMException = typeof DOMException !== 'undefined' ? DOMException : undefined;\n\n    /// <reference types=\"node\" />\n    function isDOMExceptionConstructor(ctor) {\n        if (!(typeof ctor === 'function' || typeof ctor === 'object')) {\n            return false;\n        }\n        try {\n            new ctor();\n            return true;\n        }\n        catch (_a) {\n            return false;\n        }\n    }\n    function createDOMExceptionPolyfill() {\n        // eslint-disable-next-line no-shadow\n        const ctor = function DOMException(message, name) {\n            this.message = message || '';\n            this.name = name || 'Error';\n            if (Error.captureStackTrace) {\n                Error.captureStackTrace(this, this.constructor);\n            }\n        };\n        ctor.prototype = Object.create(Error.prototype);\n        Object.defineProperty(ctor.prototype, 'constructor', { value: ctor, writable: true, configurable: true });\n        return ctor;\n    }\n    // eslint-disable-next-line no-redeclare\n    const DOMException$1 = isDOMExceptionConstructor(NativeDOMException) ? NativeDOMException : createDOMExceptionPolyfill();\n\n    function ReadableStreamPipeTo(source, dest, preventClose, preventAbort, preventCancel, signal) {\n        const reader = AcquireReadableStreamDefaultReader(source);\n        const writer = AcquireWritableStreamDefaultWriter(dest);\n        source._disturbed = true;\n        let shuttingDown = false;\n        // This is used to keep track of the spec's requirement that we wait for ongoing writes during shutdown.\n        let currentWrite = promiseResolvedWith(undefined);\n        return newPromise((resolve, reject) => {\n            let abortAlgorithm;\n            if (signal !== undefined) {\n                abortAlgorithm = () => {\n                    const error = new DOMException$1('Aborted', 'AbortError');\n                    const actions = [];\n                    if (!preventAbort) {\n                        actions.push(() => {\n                            if (dest._state === 'writable') {\n                                return WritableStreamAbort(dest, error);\n                            }\n                            return promiseResolvedWith(undefined);\n                        });\n                    }\n                    if (!preventCancel) {\n                        actions.push(() => {\n                            if (source._state === 'readable') {\n                                return ReadableStreamCancel(source, error);\n                            }\n                            return promiseResolvedWith(undefined);\n                        });\n                    }\n                    shutdownWithAction(() => Promise.all(actions.map(action => action())), true, error);\n                };\n                if (signal.aborted) {\n                    abortAlgorithm();\n                    return;\n                }\n                signal.addEventListener('abort', abortAlgorithm);\n            }\n            // Using reader and writer, read all chunks from this and write them to dest\n            // - Backpressure must be enforced\n            // - Shutdown must stop all activity\n            function pipeLoop() {\n                return newPromise((resolveLoop, rejectLoop) => {\n                    function next(done) {\n                        if (done) {\n                            resolveLoop();\n                        }\n                        else {\n                            // Use `PerformPromiseThen` instead of `uponPromise` to avoid\n                            // adding unnecessary `.catch(rethrowAssertionErrorRejection)` handlers\n                            PerformPromiseThen(pipeStep(), next, rejectLoop);\n                        }\n                    }\n                    next(false);\n                });\n            }\n            function pipeStep() {\n                if (shuttingDown) {\n                    return promiseResolvedWith(true);\n                }\n                return PerformPromiseThen(writer._readyPromise, () => {\n                    return newPromise((resolveRead, rejectRead) => {\n                        ReadableStreamDefaultReaderRead(reader, {\n                            _chunkSteps: chunk => {\n                                currentWrite = PerformPromiseThen(WritableStreamDefaultWriterWrite(writer, chunk), undefined, noop);\n                                resolveRead(false);\n                            },\n                            _closeSteps: () => resolveRead(true),\n                            _errorSteps: rejectRead\n                        });\n                    });\n                });\n            }\n            // Errors must be propagated forward\n            isOrBecomesErrored(source, reader._closedPromise, storedError => {\n                if (!preventAbort) {\n                    shutdownWithAction(() => WritableStreamAbort(dest, storedError), true, storedError);\n                }\n                else {\n                    shutdown(true, storedError);\n                }\n            });\n            // Errors must be propagated backward\n            isOrBecomesErrored(dest, writer._closedPromise, storedError => {\n                if (!preventCancel) {\n                    shutdownWithAction(() => ReadableStreamCancel(source, storedError), true, storedError);\n                }\n                else {\n                    shutdown(true, storedError);\n                }\n            });\n            // Closing must be propagated forward\n            isOrBecomesClosed(source, reader._closedPromise, () => {\n                if (!preventClose) {\n                    shutdownWithAction(() => WritableStreamDefaultWriterCloseWithErrorPropagation(writer));\n                }\n                else {\n                    shutdown();\n                }\n            });\n            // Closing must be propagated backward\n            if (WritableStreamCloseQueuedOrInFlight(dest) || dest._state === 'closed') {\n                const destClosed = new TypeError('the destination writable stream closed before all data could be piped to it');\n                if (!preventCancel) {\n                    shutdownWithAction(() => ReadableStreamCancel(source, destClosed), true, destClosed);\n                }\n                else {\n                    shutdown(true, destClosed);\n                }\n            }\n            setPromiseIsHandledToTrue(pipeLoop());\n            function waitForWritesToFinish() {\n                // Another write may have started while we were waiting on this currentWrite, so we have to be sure to wait\n                // for that too.\n                const oldCurrentWrite = currentWrite;\n                return PerformPromiseThen(currentWrite, () => oldCurrentWrite !== currentWrite ? waitForWritesToFinish() : undefined);\n            }\n            function isOrBecomesErrored(stream, promise, action) {\n                if (stream._state === 'errored') {\n                    action(stream._storedError);\n                }\n                else {\n                    uponRejection(promise, action);\n                }\n            }\n            function isOrBecomesClosed(stream, promise, action) {\n                if (stream._state === 'closed') {\n                    action();\n                }\n                else {\n                    uponFulfillment(promise, action);\n                }\n            }\n            function shutdownWithAction(action, originalIsError, originalError) {\n                if (shuttingDown) {\n                    return;\n                }\n                shuttingDown = true;\n                if (dest._state === 'writable' && !WritableStreamCloseQueuedOrInFlight(dest)) {\n                    uponFulfillment(waitForWritesToFinish(), doTheRest);\n                }\n                else {\n                    doTheRest();\n                }\n                function doTheRest() {\n                    uponPromise(action(), () => finalize(originalIsError, originalError), newError => finalize(true, newError));\n                }\n            }\n            function shutdown(isError, error) {\n                if (shuttingDown) {\n                    return;\n                }\n                shuttingDown = true;\n                if (dest._state === 'writable' && !WritableStreamCloseQueuedOrInFlight(dest)) {\n                    uponFulfillment(waitForWritesToFinish(), () => finalize(isError, error));\n                }\n                else {\n                    finalize(isError, error);\n                }\n            }\n            function finalize(isError, error) {\n                WritableStreamDefaultWriterRelease(writer);\n                ReadableStreamReaderGenericRelease(reader);\n                if (signal !== undefined) {\n                    signal.removeEventListener('abort', abortAlgorithm);\n                }\n                if (isError) {\n                    reject(error);\n                }\n                else {\n                    resolve(undefined);\n                }\n            }\n        });\n    }\n\n    /**\n     * Allows control of a {@link ReadableStream | readable stream}'s state and internal queue.\n     *\n     * @public\n     */\n    class ReadableStreamDefaultController {\n        constructor() {\n            throw new TypeError('Illegal constructor');\n        }\n        /**\n         * Returns the desired size to fill the controlled stream's internal queue. It can be negative, if the queue is\n         * over-full. An underlying source ought to use this information to determine when and how to apply backpressure.\n         */\n        get desiredSize() {\n            if (!IsReadableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$1('desiredSize');\n            }\n            return ReadableStreamDefaultControllerGetDesiredSize(this);\n        }\n        /**\n         * Closes the controlled readable stream. Consumers will still be able to read any previously-enqueued chunks from\n         * the stream, but once those are read, the stream will become closed.\n         */\n        close() {\n            if (!IsReadableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$1('close');\n            }\n            if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)) {\n                throw new TypeError('The stream is not in a state that permits close');\n            }\n            ReadableStreamDefaultControllerClose(this);\n        }\n        enqueue(chunk = undefined) {\n            if (!IsReadableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$1('enqueue');\n            }\n            if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)) {\n                throw new TypeError('The stream is not in a state that permits enqueue');\n            }\n            return ReadableStreamDefaultControllerEnqueue(this, chunk);\n        }\n        /**\n         * Errors the controlled readable stream, making all future interactions with it fail with the given error `e`.\n         */\n        error(e = undefined) {\n            if (!IsReadableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$1('error');\n            }\n            ReadableStreamDefaultControllerError(this, e);\n        }\n        /** @internal */\n        [CancelSteps](reason) {\n            ResetQueue(this);\n            const result = this._cancelAlgorithm(reason);\n            ReadableStreamDefaultControllerClearAlgorithms(this);\n            return result;\n        }\n        /** @internal */\n        [PullSteps](readRequest) {\n            const stream = this._controlledReadableStream;\n            if (this._queue.length > 0) {\n                const chunk = DequeueValue(this);\n                if (this._closeRequested && this._queue.length === 0) {\n                    ReadableStreamDefaultControllerClearAlgorithms(this);\n                    ReadableStreamClose(stream);\n                }\n                else {\n                    ReadableStreamDefaultControllerCallPullIfNeeded(this);\n                }\n                readRequest._chunkSteps(chunk);\n            }\n            else {\n                ReadableStreamAddReadRequest(stream, readRequest);\n                ReadableStreamDefaultControllerCallPullIfNeeded(this);\n            }\n        }\n    }\n    Object.defineProperties(ReadableStreamDefaultController.prototype, {\n        close: { enumerable: true },\n        enqueue: { enumerable: true },\n        error: { enumerable: true },\n        desiredSize: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableStreamDefaultController',\n            configurable: true\n        });\n    }\n    // Abstract operations for the ReadableStreamDefaultController.\n    function IsReadableStreamDefaultController(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_controlledReadableStream')) {\n            return false;\n        }\n        return x instanceof ReadableStreamDefaultController;\n    }\n    function ReadableStreamDefaultControllerCallPullIfNeeded(controller) {\n        const shouldPull = ReadableStreamDefaultControllerShouldCallPull(controller);\n        if (!shouldPull) {\n            return;\n        }\n        if (controller._pulling) {\n            controller._pullAgain = true;\n            return;\n        }\n        controller._pulling = true;\n        const pullPromise = controller._pullAlgorithm();\n        uponPromise(pullPromise, () => {\n            controller._pulling = false;\n            if (controller._pullAgain) {\n                controller._pullAgain = false;\n                ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n            }\n        }, e => {\n            ReadableStreamDefaultControllerError(controller, e);\n        });\n    }\n    function ReadableStreamDefaultControllerShouldCallPull(controller) {\n        const stream = controller._controlledReadableStream;\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n            return false;\n        }\n        if (!controller._started) {\n            return false;\n        }\n        if (IsReadableStreamLocked(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n            return true;\n        }\n        const desiredSize = ReadableStreamDefaultControllerGetDesiredSize(controller);\n        if (desiredSize > 0) {\n            return true;\n        }\n        return false;\n    }\n    function ReadableStreamDefaultControllerClearAlgorithms(controller) {\n        controller._pullAlgorithm = undefined;\n        controller._cancelAlgorithm = undefined;\n        controller._strategySizeAlgorithm = undefined;\n    }\n    // A client of ReadableStreamDefaultController may use these functions directly to bypass state check.\n    function ReadableStreamDefaultControllerClose(controller) {\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n            return;\n        }\n        const stream = controller._controlledReadableStream;\n        controller._closeRequested = true;\n        if (controller._queue.length === 0) {\n            ReadableStreamDefaultControllerClearAlgorithms(controller);\n            ReadableStreamClose(stream);\n        }\n    }\n    function ReadableStreamDefaultControllerEnqueue(controller, chunk) {\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n            return;\n        }\n        const stream = controller._controlledReadableStream;\n        if (IsReadableStreamLocked(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n            ReadableStreamFulfillReadRequest(stream, chunk, false);\n        }\n        else {\n            let chunkSize;\n            try {\n                chunkSize = controller._strategySizeAlgorithm(chunk);\n            }\n            catch (chunkSizeE) {\n                ReadableStreamDefaultControllerError(controller, chunkSizeE);\n                throw chunkSizeE;\n            }\n            try {\n                EnqueueValueWithSize(controller, chunk, chunkSize);\n            }\n            catch (enqueueE) {\n                ReadableStreamDefaultControllerError(controller, enqueueE);\n                throw enqueueE;\n            }\n        }\n        ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n    }\n    function ReadableStreamDefaultControllerError(controller, e) {\n        const stream = controller._controlledReadableStream;\n        if (stream._state !== 'readable') {\n            return;\n        }\n        ResetQueue(controller);\n        ReadableStreamDefaultControllerClearAlgorithms(controller);\n        ReadableStreamError(stream, e);\n    }\n    function ReadableStreamDefaultControllerGetDesiredSize(controller) {\n        const state = controller._controlledReadableStream._state;\n        if (state === 'errored') {\n            return null;\n        }\n        if (state === 'closed') {\n            return 0;\n        }\n        return controller._strategyHWM - controller._queueTotalSize;\n    }\n    // This is used in the implementation of TransformStream.\n    function ReadableStreamDefaultControllerHasBackpressure(controller) {\n        if (ReadableStreamDefaultControllerShouldCallPull(controller)) {\n            return false;\n        }\n        return true;\n    }\n    function ReadableStreamDefaultControllerCanCloseOrEnqueue(controller) {\n        const state = controller._controlledReadableStream._state;\n        if (!controller._closeRequested && state === 'readable') {\n            return true;\n        }\n        return false;\n    }\n    function SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm) {\n        controller._controlledReadableStream = stream;\n        controller._queue = undefined;\n        controller._queueTotalSize = undefined;\n        ResetQueue(controller);\n        controller._started = false;\n        controller._closeRequested = false;\n        controller._pullAgain = false;\n        controller._pulling = false;\n        controller._strategySizeAlgorithm = sizeAlgorithm;\n        controller._strategyHWM = highWaterMark;\n        controller._pullAlgorithm = pullAlgorithm;\n        controller._cancelAlgorithm = cancelAlgorithm;\n        stream._readableStreamController = controller;\n        const startResult = startAlgorithm();\n        uponPromise(promiseResolvedWith(startResult), () => {\n            controller._started = true;\n            ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n        }, r => {\n            ReadableStreamDefaultControllerError(controller, r);\n        });\n    }\n    function SetUpReadableStreamDefaultControllerFromUnderlyingSource(stream, underlyingSource, highWaterMark, sizeAlgorithm) {\n        const controller = Object.create(ReadableStreamDefaultController.prototype);\n        let startAlgorithm = () => undefined;\n        let pullAlgorithm = () => promiseResolvedWith(undefined);\n        let cancelAlgorithm = () => promiseResolvedWith(undefined);\n        if (underlyingSource.start !== undefined) {\n            startAlgorithm = () => underlyingSource.start(controller);\n        }\n        if (underlyingSource.pull !== undefined) {\n            pullAlgorithm = () => underlyingSource.pull(controller);\n        }\n        if (underlyingSource.cancel !== undefined) {\n            cancelAlgorithm = reason => underlyingSource.cancel(reason);\n        }\n        SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm);\n    }\n    // Helper functions for the ReadableStreamDefaultController.\n    function defaultControllerBrandCheckException$1(name) {\n        return new TypeError(`ReadableStreamDefaultController.prototype.${name} can only be used on a ReadableStreamDefaultController`);\n    }\n\n    function ReadableStreamTee(stream, cloneForBranch2) {\n        if (IsReadableByteStreamController(stream._readableStreamController)) {\n            return ReadableByteStreamTee(stream);\n        }\n        return ReadableStreamDefaultTee(stream);\n    }\n    function ReadableStreamDefaultTee(stream, cloneForBranch2) {\n        const reader = AcquireReadableStreamDefaultReader(stream);\n        let reading = false;\n        let readAgain = false;\n        let canceled1 = false;\n        let canceled2 = false;\n        let reason1;\n        let reason2;\n        let branch1;\n        let branch2;\n        let resolveCancelPromise;\n        const cancelPromise = newPromise(resolve => {\n            resolveCancelPromise = resolve;\n        });\n        function pullAlgorithm() {\n            if (reading) {\n                readAgain = true;\n                return promiseResolvedWith(undefined);\n            }\n            reading = true;\n            const readRequest = {\n                _chunkSteps: chunk => {\n                    // This needs to be delayed a microtask because it takes at least a microtask to detect errors (using\n                    // reader._closedPromise below), and we want errors in stream to error both branches immediately. We cannot let\n                    // successful synchronously-available reads get ahead of asynchronously-available errors.\n                    queueMicrotask(() => {\n                        readAgain = false;\n                        const chunk1 = chunk;\n                        const chunk2 = chunk;\n                        // There is no way to access the cloning code right now in the reference implementation.\n                        // If we add one then we'll need an implementation for serializable objects.\n                        // if (!canceled2 && cloneForBranch2) {\n                        //   chunk2 = StructuredDeserialize(StructuredSerialize(chunk2));\n                        // }\n                        if (!canceled1) {\n                            ReadableStreamDefaultControllerEnqueue(branch1._readableStreamController, chunk1);\n                        }\n                        if (!canceled2) {\n                            ReadableStreamDefaultControllerEnqueue(branch2._readableStreamController, chunk2);\n                        }\n                        reading = false;\n                        if (readAgain) {\n                            pullAlgorithm();\n                        }\n                    });\n                },\n                _closeSteps: () => {\n                    reading = false;\n                    if (!canceled1) {\n                        ReadableStreamDefaultControllerClose(branch1._readableStreamController);\n                    }\n                    if (!canceled2) {\n                        ReadableStreamDefaultControllerClose(branch2._readableStreamController);\n                    }\n                    if (!canceled1 || !canceled2) {\n                        resolveCancelPromise(undefined);\n                    }\n                },\n                _errorSteps: () => {\n                    reading = false;\n                }\n            };\n            ReadableStreamDefaultReaderRead(reader, readRequest);\n            return promiseResolvedWith(undefined);\n        }\n        function cancel1Algorithm(reason) {\n            canceled1 = true;\n            reason1 = reason;\n            if (canceled2) {\n                const compositeReason = CreateArrayFromList([reason1, reason2]);\n                const cancelResult = ReadableStreamCancel(stream, compositeReason);\n                resolveCancelPromise(cancelResult);\n            }\n            return cancelPromise;\n        }\n        function cancel2Algorithm(reason) {\n            canceled2 = true;\n            reason2 = reason;\n            if (canceled1) {\n                const compositeReason = CreateArrayFromList([reason1, reason2]);\n                const cancelResult = ReadableStreamCancel(stream, compositeReason);\n                resolveCancelPromise(cancelResult);\n            }\n            return cancelPromise;\n        }\n        function startAlgorithm() {\n            // do nothing\n        }\n        branch1 = CreateReadableStream(startAlgorithm, pullAlgorithm, cancel1Algorithm);\n        branch2 = CreateReadableStream(startAlgorithm, pullAlgorithm, cancel2Algorithm);\n        uponRejection(reader._closedPromise, (r) => {\n            ReadableStreamDefaultControllerError(branch1._readableStreamController, r);\n            ReadableStreamDefaultControllerError(branch2._readableStreamController, r);\n            if (!canceled1 || !canceled2) {\n                resolveCancelPromise(undefined);\n            }\n        });\n        return [branch1, branch2];\n    }\n    function ReadableByteStreamTee(stream) {\n        let reader = AcquireReadableStreamDefaultReader(stream);\n        let reading = false;\n        let readAgainForBranch1 = false;\n        let readAgainForBranch2 = false;\n        let canceled1 = false;\n        let canceled2 = false;\n        let reason1;\n        let reason2;\n        let branch1;\n        let branch2;\n        let resolveCancelPromise;\n        const cancelPromise = newPromise(resolve => {\n            resolveCancelPromise = resolve;\n        });\n        function forwardReaderError(thisReader) {\n            uponRejection(thisReader._closedPromise, r => {\n                if (thisReader !== reader) {\n                    return;\n                }\n                ReadableByteStreamControllerError(branch1._readableStreamController, r);\n                ReadableByteStreamControllerError(branch2._readableStreamController, r);\n                if (!canceled1 || !canceled2) {\n                    resolveCancelPromise(undefined);\n                }\n            });\n        }\n        function pullWithDefaultReader() {\n            if (IsReadableStreamBYOBReader(reader)) {\n                ReadableStreamReaderGenericRelease(reader);\n                reader = AcquireReadableStreamDefaultReader(stream);\n                forwardReaderError(reader);\n            }\n            const readRequest = {\n                _chunkSteps: chunk => {\n                    // This needs to be delayed a microtask because it takes at least a microtask to detect errors (using\n                    // reader._closedPromise below), and we want errors in stream to error both branches immediately. We cannot let\n                    // successful synchronously-available reads get ahead of asynchronously-available errors.\n                    queueMicrotask(() => {\n                        readAgainForBranch1 = false;\n                        readAgainForBranch2 = false;\n                        const chunk1 = chunk;\n                        let chunk2 = chunk;\n                        if (!canceled1 && !canceled2) {\n                            try {\n                                chunk2 = CloneAsUint8Array(chunk);\n                            }\n                            catch (cloneE) {\n                                ReadableByteStreamControllerError(branch1._readableStreamController, cloneE);\n                                ReadableByteStreamControllerError(branch2._readableStreamController, cloneE);\n                                resolveCancelPromise(ReadableStreamCancel(stream, cloneE));\n                                return;\n                            }\n                        }\n                        if (!canceled1) {\n                            ReadableByteStreamControllerEnqueue(branch1._readableStreamController, chunk1);\n                        }\n                        if (!canceled2) {\n                            ReadableByteStreamControllerEnqueue(branch2._readableStreamController, chunk2);\n                        }\n                        reading = false;\n                        if (readAgainForBranch1) {\n                            pull1Algorithm();\n                        }\n                        else if (readAgainForBranch2) {\n                            pull2Algorithm();\n                        }\n                    });\n                },\n                _closeSteps: () => {\n                    reading = false;\n                    if (!canceled1) {\n                        ReadableByteStreamControllerClose(branch1._readableStreamController);\n                    }\n                    if (!canceled2) {\n                        ReadableByteStreamControllerClose(branch2._readableStreamController);\n                    }\n                    if (branch1._readableStreamController._pendingPullIntos.length > 0) {\n                        ReadableByteStreamControllerRespond(branch1._readableStreamController, 0);\n                    }\n                    if (branch2._readableStreamController._pendingPullIntos.length > 0) {\n                        ReadableByteStreamControllerRespond(branch2._readableStreamController, 0);\n                    }\n                    if (!canceled1 || !canceled2) {\n                        resolveCancelPromise(undefined);\n                    }\n                },\n                _errorSteps: () => {\n                    reading = false;\n                }\n            };\n            ReadableStreamDefaultReaderRead(reader, readRequest);\n        }\n        function pullWithBYOBReader(view, forBranch2) {\n            if (IsReadableStreamDefaultReader(reader)) {\n                ReadableStreamReaderGenericRelease(reader);\n                reader = AcquireReadableStreamBYOBReader(stream);\n                forwardReaderError(reader);\n            }\n            const byobBranch = forBranch2 ? branch2 : branch1;\n            const otherBranch = forBranch2 ? branch1 : branch2;\n            const readIntoRequest = {\n                _chunkSteps: chunk => {\n                    // This needs to be delayed a microtask because it takes at least a microtask to detect errors (using\n                    // reader._closedPromise below), and we want errors in stream to error both branches immediately. We cannot let\n                    // successful synchronously-available reads get ahead of asynchronously-available errors.\n                    queueMicrotask(() => {\n                        readAgainForBranch1 = false;\n                        readAgainForBranch2 = false;\n                        const byobCanceled = forBranch2 ? canceled2 : canceled1;\n                        const otherCanceled = forBranch2 ? canceled1 : canceled2;\n                        if (!otherCanceled) {\n                            let clonedChunk;\n                            try {\n                                clonedChunk = CloneAsUint8Array(chunk);\n                            }\n                            catch (cloneE) {\n                                ReadableByteStreamControllerError(byobBranch._readableStreamController, cloneE);\n                                ReadableByteStreamControllerError(otherBranch._readableStreamController, cloneE);\n                                resolveCancelPromise(ReadableStreamCancel(stream, cloneE));\n                                return;\n                            }\n                            if (!byobCanceled) {\n                                ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                            }\n                            ReadableByteStreamControllerEnqueue(otherBranch._readableStreamController, clonedChunk);\n                        }\n                        else if (!byobCanceled) {\n                            ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                        }\n                        reading = false;\n                        if (readAgainForBranch1) {\n                            pull1Algorithm();\n                        }\n                        else if (readAgainForBranch2) {\n                            pull2Algorithm();\n                        }\n                    });\n                },\n                _closeSteps: chunk => {\n                    reading = false;\n                    const byobCanceled = forBranch2 ? canceled2 : canceled1;\n                    const otherCanceled = forBranch2 ? canceled1 : canceled2;\n                    if (!byobCanceled) {\n                        ReadableByteStreamControllerClose(byobBranch._readableStreamController);\n                    }\n                    if (!otherCanceled) {\n                        ReadableByteStreamControllerClose(otherBranch._readableStreamController);\n                    }\n                    if (chunk !== undefined) {\n                        if (!byobCanceled) {\n                            ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                        }\n                        if (!otherCanceled && otherBranch._readableStreamController._pendingPullIntos.length > 0) {\n                            ReadableByteStreamControllerRespond(otherBranch._readableStreamController, 0);\n                        }\n                    }\n                    if (!byobCanceled || !otherCanceled) {\n                        resolveCancelPromise(undefined);\n                    }\n                },\n                _errorSteps: () => {\n                    reading = false;\n                }\n            };\n            ReadableStreamBYOBReaderRead(reader, view, readIntoRequest);\n        }\n        function pull1Algorithm() {\n            if (reading) {\n                readAgainForBranch1 = true;\n                return promiseResolvedWith(undefined);\n            }\n            reading = true;\n            const byobRequest = ReadableByteStreamControllerGetBYOBRequest(branch1._readableStreamController);\n            if (byobRequest === null) {\n                pullWithDefaultReader();\n            }\n            else {\n                pullWithBYOBReader(byobRequest._view, false);\n            }\n            return promiseResolvedWith(undefined);\n        }\n        function pull2Algorithm() {\n            if (reading) {\n                readAgainForBranch2 = true;\n                return promiseResolvedWith(undefined);\n            }\n            reading = true;\n            const byobRequest = ReadableByteStreamControllerGetBYOBRequest(branch2._readableStreamController);\n            if (byobRequest === null) {\n                pullWithDefaultReader();\n            }\n            else {\n                pullWithBYOBReader(byobRequest._view, true);\n            }\n            return promiseResolvedWith(undefined);\n        }\n        function cancel1Algorithm(reason) {\n            canceled1 = true;\n            reason1 = reason;\n            if (canceled2) {\n                const compositeReason = CreateArrayFromList([reason1, reason2]);\n                const cancelResult = ReadableStreamCancel(stream, compositeReason);\n                resolveCancelPromise(cancelResult);\n            }\n            return cancelPromise;\n        }\n        function cancel2Algorithm(reason) {\n            canceled2 = true;\n            reason2 = reason;\n            if (canceled1) {\n                const compositeReason = CreateArrayFromList([reason1, reason2]);\n                const cancelResult = ReadableStreamCancel(stream, compositeReason);\n                resolveCancelPromise(cancelResult);\n            }\n            return cancelPromise;\n        }\n        function startAlgorithm() {\n            return;\n        }\n        branch1 = CreateReadableByteStream(startAlgorithm, pull1Algorithm, cancel1Algorithm);\n        branch2 = CreateReadableByteStream(startAlgorithm, pull2Algorithm, cancel2Algorithm);\n        forwardReaderError(reader);\n        return [branch1, branch2];\n    }\n\n    function convertUnderlyingDefaultOrByteSource(source, context) {\n        assertDictionary(source, context);\n        const original = source;\n        const autoAllocateChunkSize = original === null || original === void 0 ? void 0 : original.autoAllocateChunkSize;\n        const cancel = original === null || original === void 0 ? void 0 : original.cancel;\n        const pull = original === null || original === void 0 ? void 0 : original.pull;\n        const start = original === null || original === void 0 ? void 0 : original.start;\n        const type = original === null || original === void 0 ? void 0 : original.type;\n        return {\n            autoAllocateChunkSize: autoAllocateChunkSize === undefined ?\n                undefined :\n                convertUnsignedLongLongWithEnforceRange(autoAllocateChunkSize, `${context} has member 'autoAllocateChunkSize' that`),\n            cancel: cancel === undefined ?\n                undefined :\n                convertUnderlyingSourceCancelCallback(cancel, original, `${context} has member 'cancel' that`),\n            pull: pull === undefined ?\n                undefined :\n                convertUnderlyingSourcePullCallback(pull, original, `${context} has member 'pull' that`),\n            start: start === undefined ?\n                undefined :\n                convertUnderlyingSourceStartCallback(start, original, `${context} has member 'start' that`),\n            type: type === undefined ? undefined : convertReadableStreamType(type, `${context} has member 'type' that`)\n        };\n    }\n    function convertUnderlyingSourceCancelCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (reason) => promiseCall(fn, original, [reason]);\n    }\n    function convertUnderlyingSourcePullCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (controller) => promiseCall(fn, original, [controller]);\n    }\n    function convertUnderlyingSourceStartCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (controller) => reflectCall(fn, original, [controller]);\n    }\n    function convertReadableStreamType(type, context) {\n        type = `${type}`;\n        if (type !== 'bytes') {\n            throw new TypeError(`${context} '${type}' is not a valid enumeration value for ReadableStreamType`);\n        }\n        return type;\n    }\n\n    function convertReaderOptions(options, context) {\n        assertDictionary(options, context);\n        const mode = options === null || options === void 0 ? void 0 : options.mode;\n        return {\n            mode: mode === undefined ? undefined : convertReadableStreamReaderMode(mode, `${context} has member 'mode' that`)\n        };\n    }\n    function convertReadableStreamReaderMode(mode, context) {\n        mode = `${mode}`;\n        if (mode !== 'byob') {\n            throw new TypeError(`${context} '${mode}' is not a valid enumeration value for ReadableStreamReaderMode`);\n        }\n        return mode;\n    }\n\n    function convertIteratorOptions(options, context) {\n        assertDictionary(options, context);\n        const preventCancel = options === null || options === void 0 ? void 0 : options.preventCancel;\n        return { preventCancel: Boolean(preventCancel) };\n    }\n\n    function convertPipeOptions(options, context) {\n        assertDictionary(options, context);\n        const preventAbort = options === null || options === void 0 ? void 0 : options.preventAbort;\n        const preventCancel = options === null || options === void 0 ? void 0 : options.preventCancel;\n        const preventClose = options === null || options === void 0 ? void 0 : options.preventClose;\n        const signal = options === null || options === void 0 ? void 0 : options.signal;\n        if (signal !== undefined) {\n            assertAbortSignal(signal, `${context} has member 'signal' that`);\n        }\n        return {\n            preventAbort: Boolean(preventAbort),\n            preventCancel: Boolean(preventCancel),\n            preventClose: Boolean(preventClose),\n            signal\n        };\n    }\n    function assertAbortSignal(signal, context) {\n        if (!isAbortSignal(signal)) {\n            throw new TypeError(`${context} is not an AbortSignal.`);\n        }\n    }\n\n    function convertReadableWritablePair(pair, context) {\n        assertDictionary(pair, context);\n        const readable = pair === null || pair === void 0 ? void 0 : pair.readable;\n        assertRequiredField(readable, 'readable', 'ReadableWritablePair');\n        assertReadableStream(readable, `${context} has member 'readable' that`);\n        const writable = pair === null || pair === void 0 ? void 0 : pair.writable;\n        assertRequiredField(writable, 'writable', 'ReadableWritablePair');\n        assertWritableStream(writable, `${context} has member 'writable' that`);\n        return { readable, writable };\n    }\n\n    /**\n     * A readable stream represents a source of data, from which you can read.\n     *\n     * @public\n     */\n    class ReadableStream {\n        constructor(rawUnderlyingSource = {}, rawStrategy = {}) {\n            if (rawUnderlyingSource === undefined) {\n                rawUnderlyingSource = null;\n            }\n            else {\n                assertObject(rawUnderlyingSource, 'First parameter');\n            }\n            const strategy = convertQueuingStrategy(rawStrategy, 'Second parameter');\n            const underlyingSource = convertUnderlyingDefaultOrByteSource(rawUnderlyingSource, 'First parameter');\n            InitializeReadableStream(this);\n            if (underlyingSource.type === 'bytes') {\n                if (strategy.size !== undefined) {\n                    throw new RangeError('The strategy for a byte stream cannot have a size function');\n                }\n                const highWaterMark = ExtractHighWaterMark(strategy, 0);\n                SetUpReadableByteStreamControllerFromUnderlyingSource(this, underlyingSource, highWaterMark);\n            }\n            else {\n                const sizeAlgorithm = ExtractSizeAlgorithm(strategy);\n                const highWaterMark = ExtractHighWaterMark(strategy, 1);\n                SetUpReadableStreamDefaultControllerFromUnderlyingSource(this, underlyingSource, highWaterMark, sizeAlgorithm);\n            }\n        }\n        /**\n         * Whether or not the readable stream is locked to a {@link ReadableStreamDefaultReader | reader}.\n         */\n        get locked() {\n            if (!IsReadableStream(this)) {\n                throw streamBrandCheckException$1('locked');\n            }\n            return IsReadableStreamLocked(this);\n        }\n        /**\n         * Cancels the stream, signaling a loss of interest in the stream by a consumer.\n         *\n         * The supplied `reason` argument will be given to the underlying source's {@link UnderlyingSource.cancel | cancel()}\n         * method, which might or might not use it.\n         */\n        cancel(reason = undefined) {\n            if (!IsReadableStream(this)) {\n                return promiseRejectedWith(streamBrandCheckException$1('cancel'));\n            }\n            if (IsReadableStreamLocked(this)) {\n                return promiseRejectedWith(new TypeError('Cannot cancel a stream that already has a reader'));\n            }\n            return ReadableStreamCancel(this, reason);\n        }\n        getReader(rawOptions = undefined) {\n            if (!IsReadableStream(this)) {\n                throw streamBrandCheckException$1('getReader');\n            }\n            const options = convertReaderOptions(rawOptions, 'First parameter');\n            if (options.mode === undefined) {\n                return AcquireReadableStreamDefaultReader(this);\n            }\n            return AcquireReadableStreamBYOBReader(this);\n        }\n        pipeThrough(rawTransform, rawOptions = {}) {\n            if (!IsReadableStream(this)) {\n                throw streamBrandCheckException$1('pipeThrough');\n            }\n            assertRequiredArgument(rawTransform, 1, 'pipeThrough');\n            const transform = convertReadableWritablePair(rawTransform, 'First parameter');\n            const options = convertPipeOptions(rawOptions, 'Second parameter');\n            if (IsReadableStreamLocked(this)) {\n                throw new TypeError('ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream');\n            }\n            if (IsWritableStreamLocked(transform.writable)) {\n                throw new TypeError('ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream');\n            }\n            const promise = ReadableStreamPipeTo(this, transform.writable, options.preventClose, options.preventAbort, options.preventCancel, options.signal);\n            setPromiseIsHandledToTrue(promise);\n            return transform.readable;\n        }\n        pipeTo(destination, rawOptions = {}) {\n            if (!IsReadableStream(this)) {\n                return promiseRejectedWith(streamBrandCheckException$1('pipeTo'));\n            }\n            if (destination === undefined) {\n                return promiseRejectedWith(`Parameter 1 is required in 'pipeTo'.`);\n            }\n            if (!IsWritableStream(destination)) {\n                return promiseRejectedWith(new TypeError(`ReadableStream.prototype.pipeTo's first argument must be a WritableStream`));\n            }\n            let options;\n            try {\n                options = convertPipeOptions(rawOptions, 'Second parameter');\n            }\n            catch (e) {\n                return promiseRejectedWith(e);\n            }\n            if (IsReadableStreamLocked(this)) {\n                return promiseRejectedWith(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream'));\n            }\n            if (IsWritableStreamLocked(destination)) {\n                return promiseRejectedWith(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream'));\n            }\n            return ReadableStreamPipeTo(this, destination, options.preventClose, options.preventAbort, options.preventCancel, options.signal);\n        }\n        /**\n         * Tees this readable stream, returning a two-element array containing the two resulting branches as\n         * new {@link ReadableStream} instances.\n         *\n         * Teeing a stream will lock it, preventing any other consumer from acquiring a reader.\n         * To cancel the stream, cancel both of the resulting branches; a composite cancellation reason will then be\n         * propagated to the stream's underlying source.\n         *\n         * Note that the chunks seen in each branch will be the same object. If the chunks are not immutable,\n         * this could allow interference between the two branches.\n         */\n        tee() {\n            if (!IsReadableStream(this)) {\n                throw streamBrandCheckException$1('tee');\n            }\n            const branches = ReadableStreamTee(this);\n            return CreateArrayFromList(branches);\n        }\n        values(rawOptions = undefined) {\n            if (!IsReadableStream(this)) {\n                throw streamBrandCheckException$1('values');\n            }\n            const options = convertIteratorOptions(rawOptions, 'First parameter');\n            return AcquireReadableStreamAsyncIterator(this, options.preventCancel);\n        }\n    }\n    Object.defineProperties(ReadableStream.prototype, {\n        cancel: { enumerable: true },\n        getReader: { enumerable: true },\n        pipeThrough: { enumerable: true },\n        pipeTo: { enumerable: true },\n        tee: { enumerable: true },\n        values: { enumerable: true },\n        locked: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableStream.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableStream',\n            configurable: true\n        });\n    }\n    if (typeof SymbolPolyfill.asyncIterator === 'symbol') {\n        Object.defineProperty(ReadableStream.prototype, SymbolPolyfill.asyncIterator, {\n            value: ReadableStream.prototype.values,\n            writable: true,\n            configurable: true\n        });\n    }\n    // Abstract operations for the ReadableStream.\n    // Throws if and only if startAlgorithm throws.\n    function CreateReadableStream(startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark = 1, sizeAlgorithm = () => 1) {\n        const stream = Object.create(ReadableStream.prototype);\n        InitializeReadableStream(stream);\n        const controller = Object.create(ReadableStreamDefaultController.prototype);\n        SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm);\n        return stream;\n    }\n    // Throws if and only if startAlgorithm throws.\n    function CreateReadableByteStream(startAlgorithm, pullAlgorithm, cancelAlgorithm) {\n        const stream = Object.create(ReadableStream.prototype);\n        InitializeReadableStream(stream);\n        const controller = Object.create(ReadableByteStreamController.prototype);\n        SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, 0, undefined);\n        return stream;\n    }\n    function InitializeReadableStream(stream) {\n        stream._state = 'readable';\n        stream._reader = undefined;\n        stream._storedError = undefined;\n        stream._disturbed = false;\n    }\n    function IsReadableStream(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_readableStreamController')) {\n            return false;\n        }\n        return x instanceof ReadableStream;\n    }\n    function IsReadableStreamLocked(stream) {\n        if (stream._reader === undefined) {\n            return false;\n        }\n        return true;\n    }\n    // ReadableStream API exposed for controllers.\n    function ReadableStreamCancel(stream, reason) {\n        stream._disturbed = true;\n        if (stream._state === 'closed') {\n            return promiseResolvedWith(undefined);\n        }\n        if (stream._state === 'errored') {\n            return promiseRejectedWith(stream._storedError);\n        }\n        ReadableStreamClose(stream);\n        const reader = stream._reader;\n        if (reader !== undefined && IsReadableStreamBYOBReader(reader)) {\n            reader._readIntoRequests.forEach(readIntoRequest => {\n                readIntoRequest._closeSteps(undefined);\n            });\n            reader._readIntoRequests = new SimpleQueue();\n        }\n        const sourceCancelPromise = stream._readableStreamController[CancelSteps](reason);\n        return transformPromiseWith(sourceCancelPromise, noop);\n    }\n    function ReadableStreamClose(stream) {\n        stream._state = 'closed';\n        const reader = stream._reader;\n        if (reader === undefined) {\n            return;\n        }\n        defaultReaderClosedPromiseResolve(reader);\n        if (IsReadableStreamDefaultReader(reader)) {\n            reader._readRequests.forEach(readRequest => {\n                readRequest._closeSteps();\n            });\n            reader._readRequests = new SimpleQueue();\n        }\n    }\n    function ReadableStreamError(stream, e) {\n        stream._state = 'errored';\n        stream._storedError = e;\n        const reader = stream._reader;\n        if (reader === undefined) {\n            return;\n        }\n        defaultReaderClosedPromiseReject(reader, e);\n        if (IsReadableStreamDefaultReader(reader)) {\n            reader._readRequests.forEach(readRequest => {\n                readRequest._errorSteps(e);\n            });\n            reader._readRequests = new SimpleQueue();\n        }\n        else {\n            reader._readIntoRequests.forEach(readIntoRequest => {\n                readIntoRequest._errorSteps(e);\n            });\n            reader._readIntoRequests = new SimpleQueue();\n        }\n    }\n    // Helper functions for the ReadableStream.\n    function streamBrandCheckException$1(name) {\n        return new TypeError(`ReadableStream.prototype.${name} can only be used on a ReadableStream`);\n    }\n\n    function convertQueuingStrategyInit(init, context) {\n        assertDictionary(init, context);\n        const highWaterMark = init === null || init === void 0 ? void 0 : init.highWaterMark;\n        assertRequiredField(highWaterMark, 'highWaterMark', 'QueuingStrategyInit');\n        return {\n            highWaterMark: convertUnrestrictedDouble(highWaterMark)\n        };\n    }\n\n    // The size function must not have a prototype property nor be a constructor\n    const byteLengthSizeFunction = (chunk) => {\n        return chunk.byteLength;\n    };\n    try {\n        Object.defineProperty(byteLengthSizeFunction, 'name', {\n            value: 'size',\n            configurable: true\n        });\n    }\n    catch (_a) {\n        // This property is non-configurable in older browsers, so ignore if this throws.\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name#browser_compatibility\n    }\n    /**\n     * A queuing strategy that counts the number of bytes in each chunk.\n     *\n     * @public\n     */\n    class ByteLengthQueuingStrategy {\n        constructor(options) {\n            assertRequiredArgument(options, 1, 'ByteLengthQueuingStrategy');\n            options = convertQueuingStrategyInit(options, 'First parameter');\n            this._byteLengthQueuingStrategyHighWaterMark = options.highWaterMark;\n        }\n        /**\n         * Returns the high water mark provided to the constructor.\n         */\n        get highWaterMark() {\n            if (!IsByteLengthQueuingStrategy(this)) {\n                throw byteLengthBrandCheckException('highWaterMark');\n            }\n            return this._byteLengthQueuingStrategyHighWaterMark;\n        }\n        /**\n         * Measures the size of `chunk` by returning the value of its `byteLength` property.\n         */\n        get size() {\n            if (!IsByteLengthQueuingStrategy(this)) {\n                throw byteLengthBrandCheckException('size');\n            }\n            return byteLengthSizeFunction;\n        }\n    }\n    Object.defineProperties(ByteLengthQueuingStrategy.prototype, {\n        highWaterMark: { enumerable: true },\n        size: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ByteLengthQueuingStrategy.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ByteLengthQueuingStrategy',\n            configurable: true\n        });\n    }\n    // Helper functions for the ByteLengthQueuingStrategy.\n    function byteLengthBrandCheckException(name) {\n        return new TypeError(`ByteLengthQueuingStrategy.prototype.${name} can only be used on a ByteLengthQueuingStrategy`);\n    }\n    function IsByteLengthQueuingStrategy(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_byteLengthQueuingStrategyHighWaterMark')) {\n            return false;\n        }\n        return x instanceof ByteLengthQueuingStrategy;\n    }\n\n    // The size function must not have a prototype property nor be a constructor\n    const countSizeFunction = () => {\n        return 1;\n    };\n    try {\n        Object.defineProperty(countSizeFunction, 'name', {\n            value: 'size',\n            configurable: true\n        });\n    }\n    catch (_a) {\n        // This property is non-configurable in older browsers, so ignore if this throws.\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name#browser_compatibility\n    }\n    /**\n     * A queuing strategy that counts the number of chunks.\n     *\n     * @public\n     */\n    class CountQueuingStrategy {\n        constructor(options) {\n            assertRequiredArgument(options, 1, 'CountQueuingStrategy');\n            options = convertQueuingStrategyInit(options, 'First parameter');\n            this._countQueuingStrategyHighWaterMark = options.highWaterMark;\n        }\n        /**\n         * Returns the high water mark provided to the constructor.\n         */\n        get highWaterMark() {\n            if (!IsCountQueuingStrategy(this)) {\n                throw countBrandCheckException('highWaterMark');\n            }\n            return this._countQueuingStrategyHighWaterMark;\n        }\n        /**\n         * Measures the size of `chunk` by always returning 1.\n         * This ensures that the total queue size is a count of the number of chunks in the queue.\n         */\n        get size() {\n            if (!IsCountQueuingStrategy(this)) {\n                throw countBrandCheckException('size');\n            }\n            return countSizeFunction;\n        }\n    }\n    Object.defineProperties(CountQueuingStrategy.prototype, {\n        highWaterMark: { enumerable: true },\n        size: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(CountQueuingStrategy.prototype, SymbolPolyfill.toStringTag, {\n            value: 'CountQueuingStrategy',\n            configurable: true\n        });\n    }\n    // Helper functions for the CountQueuingStrategy.\n    function countBrandCheckException(name) {\n        return new TypeError(`CountQueuingStrategy.prototype.${name} can only be used on a CountQueuingStrategy`);\n    }\n    function IsCountQueuingStrategy(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_countQueuingStrategyHighWaterMark')) {\n            return false;\n        }\n        return x instanceof CountQueuingStrategy;\n    }\n\n    function convertTransformer(original, context) {\n        assertDictionary(original, context);\n        const flush = original === null || original === void 0 ? void 0 : original.flush;\n        const readableType = original === null || original === void 0 ? void 0 : original.readableType;\n        const start = original === null || original === void 0 ? void 0 : original.start;\n        const transform = original === null || original === void 0 ? void 0 : original.transform;\n        const writableType = original === null || original === void 0 ? void 0 : original.writableType;\n        return {\n            flush: flush === undefined ?\n                undefined :\n                convertTransformerFlushCallback(flush, original, `${context} has member 'flush' that`),\n            readableType,\n            start: start === undefined ?\n                undefined :\n                convertTransformerStartCallback(start, original, `${context} has member 'start' that`),\n            transform: transform === undefined ?\n                undefined :\n                convertTransformerTransformCallback(transform, original, `${context} has member 'transform' that`),\n            writableType\n        };\n    }\n    function convertTransformerFlushCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (controller) => promiseCall(fn, original, [controller]);\n    }\n    function convertTransformerStartCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (controller) => reflectCall(fn, original, [controller]);\n    }\n    function convertTransformerTransformCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (chunk, controller) => promiseCall(fn, original, [chunk, controller]);\n    }\n\n    // Class TransformStream\n    /**\n     * A transform stream consists of a pair of streams: a {@link WritableStream | writable stream},\n     * known as its writable side, and a {@link ReadableStream | readable stream}, known as its readable side.\n     * In a manner specific to the transform stream in question, writes to the writable side result in new data being\n     * made available for reading from the readable side.\n     *\n     * @public\n     */\n    class TransformStream {\n        constructor(rawTransformer = {}, rawWritableStrategy = {}, rawReadableStrategy = {}) {\n            if (rawTransformer === undefined) {\n                rawTransformer = null;\n            }\n            const writableStrategy = convertQueuingStrategy(rawWritableStrategy, 'Second parameter');\n            const readableStrategy = convertQueuingStrategy(rawReadableStrategy, 'Third parameter');\n            const transformer = convertTransformer(rawTransformer, 'First parameter');\n            if (transformer.readableType !== undefined) {\n                throw new RangeError('Invalid readableType specified');\n            }\n            if (transformer.writableType !== undefined) {\n                throw new RangeError('Invalid writableType specified');\n            }\n            const readableHighWaterMark = ExtractHighWaterMark(readableStrategy, 0);\n            const readableSizeAlgorithm = ExtractSizeAlgorithm(readableStrategy);\n            const writableHighWaterMark = ExtractHighWaterMark(writableStrategy, 1);\n            const writableSizeAlgorithm = ExtractSizeAlgorithm(writableStrategy);\n            let startPromise_resolve;\n            const startPromise = newPromise(resolve => {\n                startPromise_resolve = resolve;\n            });\n            InitializeTransformStream(this, startPromise, writableHighWaterMark, writableSizeAlgorithm, readableHighWaterMark, readableSizeAlgorithm);\n            SetUpTransformStreamDefaultControllerFromTransformer(this, transformer);\n            if (transformer.start !== undefined) {\n                startPromise_resolve(transformer.start(this._transformStreamController));\n            }\n            else {\n                startPromise_resolve(undefined);\n            }\n        }\n        /**\n         * The readable side of the transform stream.\n         */\n        get readable() {\n            if (!IsTransformStream(this)) {\n                throw streamBrandCheckException('readable');\n            }\n            return this._readable;\n        }\n        /**\n         * The writable side of the transform stream.\n         */\n        get writable() {\n            if (!IsTransformStream(this)) {\n                throw streamBrandCheckException('writable');\n            }\n            return this._writable;\n        }\n    }\n    Object.defineProperties(TransformStream.prototype, {\n        readable: { enumerable: true },\n        writable: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(TransformStream.prototype, SymbolPolyfill.toStringTag, {\n            value: 'TransformStream',\n            configurable: true\n        });\n    }\n    function InitializeTransformStream(stream, startPromise, writableHighWaterMark, writableSizeAlgorithm, readableHighWaterMark, readableSizeAlgorithm) {\n        function startAlgorithm() {\n            return startPromise;\n        }\n        function writeAlgorithm(chunk) {\n            return TransformStreamDefaultSinkWriteAlgorithm(stream, chunk);\n        }\n        function abortAlgorithm(reason) {\n            return TransformStreamDefaultSinkAbortAlgorithm(stream, reason);\n        }\n        function closeAlgorithm() {\n            return TransformStreamDefaultSinkCloseAlgorithm(stream);\n        }\n        stream._writable = CreateWritableStream(startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, writableHighWaterMark, writableSizeAlgorithm);\n        function pullAlgorithm() {\n            return TransformStreamDefaultSourcePullAlgorithm(stream);\n        }\n        function cancelAlgorithm(reason) {\n            TransformStreamErrorWritableAndUnblockWrite(stream, reason);\n            return promiseResolvedWith(undefined);\n        }\n        stream._readable = CreateReadableStream(startAlgorithm, pullAlgorithm, cancelAlgorithm, readableHighWaterMark, readableSizeAlgorithm);\n        // The [[backpressure]] slot is set to undefined so that it can be initialised by TransformStreamSetBackpressure.\n        stream._backpressure = undefined;\n        stream._backpressureChangePromise = undefined;\n        stream._backpressureChangePromise_resolve = undefined;\n        TransformStreamSetBackpressure(stream, true);\n        stream._transformStreamController = undefined;\n    }\n    function IsTransformStream(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_transformStreamController')) {\n            return false;\n        }\n        return x instanceof TransformStream;\n    }\n    // This is a no-op if both sides are already errored.\n    function TransformStreamError(stream, e) {\n        ReadableStreamDefaultControllerError(stream._readable._readableStreamController, e);\n        TransformStreamErrorWritableAndUnblockWrite(stream, e);\n    }\n    function TransformStreamErrorWritableAndUnblockWrite(stream, e) {\n        TransformStreamDefaultControllerClearAlgorithms(stream._transformStreamController);\n        WritableStreamDefaultControllerErrorIfNeeded(stream._writable._writableStreamController, e);\n        if (stream._backpressure) {\n            // Pretend that pull() was called to permit any pending write() calls to complete. TransformStreamSetBackpressure()\n            // cannot be called from enqueue() or pull() once the ReadableStream is errored, so this will will be the final time\n            // _backpressure is set.\n            TransformStreamSetBackpressure(stream, false);\n        }\n    }\n    function TransformStreamSetBackpressure(stream, backpressure) {\n        // Passes also when called during construction.\n        if (stream._backpressureChangePromise !== undefined) {\n            stream._backpressureChangePromise_resolve();\n        }\n        stream._backpressureChangePromise = newPromise(resolve => {\n            stream._backpressureChangePromise_resolve = resolve;\n        });\n        stream._backpressure = backpressure;\n    }\n    // Class TransformStreamDefaultController\n    /**\n     * Allows control of the {@link ReadableStream} and {@link WritableStream} of the associated {@link TransformStream}.\n     *\n     * @public\n     */\n    class TransformStreamDefaultController {\n        constructor() {\n            throw new TypeError('Illegal constructor');\n        }\n        /**\n         * Returns the desired size to fill the readable side’s internal queue. It can be negative, if the queue is over-full.\n         */\n        get desiredSize() {\n            if (!IsTransformStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException('desiredSize');\n            }\n            const readableController = this._controlledTransformStream._readable._readableStreamController;\n            return ReadableStreamDefaultControllerGetDesiredSize(readableController);\n        }\n        enqueue(chunk = undefined) {\n            if (!IsTransformStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException('enqueue');\n            }\n            TransformStreamDefaultControllerEnqueue(this, chunk);\n        }\n        /**\n         * Errors both the readable side and the writable side of the controlled transform stream, making all future\n         * interactions with it fail with the given error `e`. Any chunks queued for transformation will be discarded.\n         */\n        error(reason = undefined) {\n            if (!IsTransformStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException('error');\n            }\n            TransformStreamDefaultControllerError(this, reason);\n        }\n        /**\n         * Closes the readable side and errors the writable side of the controlled transform stream. This is useful when the\n         * transformer only needs to consume a portion of the chunks written to the writable side.\n         */\n        terminate() {\n            if (!IsTransformStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException('terminate');\n            }\n            TransformStreamDefaultControllerTerminate(this);\n        }\n    }\n    Object.defineProperties(TransformStreamDefaultController.prototype, {\n        enqueue: { enumerable: true },\n        error: { enumerable: true },\n        terminate: { enumerable: true },\n        desiredSize: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(TransformStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n            value: 'TransformStreamDefaultController',\n            configurable: true\n        });\n    }\n    // Transform Stream Default Controller Abstract Operations\n    function IsTransformStreamDefaultController(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_controlledTransformStream')) {\n            return false;\n        }\n        return x instanceof TransformStreamDefaultController;\n    }\n    function SetUpTransformStreamDefaultController(stream, controller, transformAlgorithm, flushAlgorithm) {\n        controller._controlledTransformStream = stream;\n        stream._transformStreamController = controller;\n        controller._transformAlgorithm = transformAlgorithm;\n        controller._flushAlgorithm = flushAlgorithm;\n    }\n    function SetUpTransformStreamDefaultControllerFromTransformer(stream, transformer) {\n        const controller = Object.create(TransformStreamDefaultController.prototype);\n        let transformAlgorithm = (chunk) => {\n            try {\n                TransformStreamDefaultControllerEnqueue(controller, chunk);\n                return promiseResolvedWith(undefined);\n            }\n            catch (transformResultE) {\n                return promiseRejectedWith(transformResultE);\n            }\n        };\n        let flushAlgorithm = () => promiseResolvedWith(undefined);\n        if (transformer.transform !== undefined) {\n            transformAlgorithm = chunk => transformer.transform(chunk, controller);\n        }\n        if (transformer.flush !== undefined) {\n            flushAlgorithm = () => transformer.flush(controller);\n        }\n        SetUpTransformStreamDefaultController(stream, controller, transformAlgorithm, flushAlgorithm);\n    }\n    function TransformStreamDefaultControllerClearAlgorithms(controller) {\n        controller._transformAlgorithm = undefined;\n        controller._flushAlgorithm = undefined;\n    }\n    function TransformStreamDefaultControllerEnqueue(controller, chunk) {\n        const stream = controller._controlledTransformStream;\n        const readableController = stream._readable._readableStreamController;\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(readableController)) {\n            throw new TypeError('Readable side is not in a state that permits enqueue');\n        }\n        // We throttle transform invocations based on the backpressure of the ReadableStream, but we still\n        // accept TransformStreamDefaultControllerEnqueue() calls.\n        try {\n            ReadableStreamDefaultControllerEnqueue(readableController, chunk);\n        }\n        catch (e) {\n            // This happens when readableStrategy.size() throws.\n            TransformStreamErrorWritableAndUnblockWrite(stream, e);\n            throw stream._readable._storedError;\n        }\n        const backpressure = ReadableStreamDefaultControllerHasBackpressure(readableController);\n        if (backpressure !== stream._backpressure) {\n            TransformStreamSetBackpressure(stream, true);\n        }\n    }\n    function TransformStreamDefaultControllerError(controller, e) {\n        TransformStreamError(controller._controlledTransformStream, e);\n    }\n    function TransformStreamDefaultControllerPerformTransform(controller, chunk) {\n        const transformPromise = controller._transformAlgorithm(chunk);\n        return transformPromiseWith(transformPromise, undefined, r => {\n            TransformStreamError(controller._controlledTransformStream, r);\n            throw r;\n        });\n    }\n    function TransformStreamDefaultControllerTerminate(controller) {\n        const stream = controller._controlledTransformStream;\n        const readableController = stream._readable._readableStreamController;\n        ReadableStreamDefaultControllerClose(readableController);\n        const error = new TypeError('TransformStream terminated');\n        TransformStreamErrorWritableAndUnblockWrite(stream, error);\n    }\n    // TransformStreamDefaultSink Algorithms\n    function TransformStreamDefaultSinkWriteAlgorithm(stream, chunk) {\n        const controller = stream._transformStreamController;\n        if (stream._backpressure) {\n            const backpressureChangePromise = stream._backpressureChangePromise;\n            return transformPromiseWith(backpressureChangePromise, () => {\n                const writable = stream._writable;\n                const state = writable._state;\n                if (state === 'erroring') {\n                    throw writable._storedError;\n                }\n                return TransformStreamDefaultControllerPerformTransform(controller, chunk);\n            });\n        }\n        return TransformStreamDefaultControllerPerformTransform(controller, chunk);\n    }\n    function TransformStreamDefaultSinkAbortAlgorithm(stream, reason) {\n        // abort() is not called synchronously, so it is possible for abort() to be called when the stream is already\n        // errored.\n        TransformStreamError(stream, reason);\n        return promiseResolvedWith(undefined);\n    }\n    function TransformStreamDefaultSinkCloseAlgorithm(stream) {\n        // stream._readable cannot change after construction, so caching it across a call to user code is safe.\n        const readable = stream._readable;\n        const controller = stream._transformStreamController;\n        const flushPromise = controller._flushAlgorithm();\n        TransformStreamDefaultControllerClearAlgorithms(controller);\n        // Return a promise that is fulfilled with undefined on success.\n        return transformPromiseWith(flushPromise, () => {\n            if (readable._state === 'errored') {\n                throw readable._storedError;\n            }\n            ReadableStreamDefaultControllerClose(readable._readableStreamController);\n        }, r => {\n            TransformStreamError(stream, r);\n            throw readable._storedError;\n        });\n    }\n    // TransformStreamDefaultSource Algorithms\n    function TransformStreamDefaultSourcePullAlgorithm(stream) {\n        // Invariant. Enforced by the promises returned by start() and pull().\n        TransformStreamSetBackpressure(stream, false);\n        // Prevent the next pull() call until there is backpressure.\n        return stream._backpressureChangePromise;\n    }\n    // Helper functions for the TransformStreamDefaultController.\n    function defaultControllerBrandCheckException(name) {\n        return new TypeError(`TransformStreamDefaultController.prototype.${name} can only be used on a TransformStreamDefaultController`);\n    }\n    // Helper functions for the TransformStream.\n    function streamBrandCheckException(name) {\n        return new TypeError(`TransformStream.prototype.${name} can only be used on a TransformStream`);\n    }\n\n    exports.ByteLengthQueuingStrategy = ByteLengthQueuingStrategy;\n    exports.CountQueuingStrategy = CountQueuingStrategy;\n    exports.ReadableByteStreamController = ReadableByteStreamController;\n    exports.ReadableStream = ReadableStream;\n    exports.ReadableStreamBYOBReader = ReadableStreamBYOBReader;\n    exports.ReadableStreamBYOBRequest = ReadableStreamBYOBRequest;\n    exports.ReadableStreamDefaultController = ReadableStreamDefaultController;\n    exports.ReadableStreamDefaultReader = ReadableStreamDefaultReader;\n    exports.TransformStream = TransformStream;\n    exports.TransformStreamDefaultController = TransformStreamDefaultController;\n    exports.WritableStream = WritableStream;\n    exports.WritableStreamDefaultController = WritableStreamDefaultController;\n    exports.WritableStreamDefaultWriter = WritableStreamDefaultWriter;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=ponyfill.es2018.js.map\n","module.exports = require(\"buffer\");","import Blob from './index.js'\n\nconst _File = class File extends Blob {\n  #lastModified = 0\n  #name = ''\n\n  /**\n   * @param {*[]} fileBits\n   * @param {string} fileName\n   * @param {{lastModified?: number, type?: string}} options\n   */// @ts-ignore\n  constructor (fileBits, fileName, options = {}) {\n    if (arguments.length < 2) {\n      throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`)\n    }\n    super(fileBits, options)\n\n    if (options === null) options = {}\n\n    // Simulate WebIDL type casting for NaN value in lastModified option.\n    const lastModified = options.lastModified === undefined ? Date.now() : Number(options.lastModified)\n    if (!Number.isNaN(lastModified)) {\n      this.#lastModified = lastModified\n    }\n\n    this.#name = String(fileName)\n  }\n\n  get name () {\n    return this.#name\n  }\n\n  get lastModified () {\n    return this.#lastModified\n  }\n\n  get [Symbol.toStringTag] () {\n    return 'File'\n  }\n\n  static [Symbol.hasInstance] (object) {\n    return !!object && object instanceof Blob &&\n      /^(File)$/.test(object[Symbol.toStringTag])\n  }\n}\n\n/** @type {typeof globalThis.File} */// @ts-ignore\nexport const File = _File\nexport default File\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:fs\");","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:path\");","import { statSync, createReadStream, promises as fs } from 'node:fs'\nimport { basename } from 'node:path'\nimport DOMException from 'node-domexception'\n\nimport File from './file.js'\nimport Blob from './index.js'\n\nconst { stat } = fs\n\n/**\n * @param {string} path filepath on the disk\n * @param {string} [type] mimetype to use\n */\nconst blobFromSync = (path, type) => fromBlob(statSync(path), path, type)\n\n/**\n * @param {string} path filepath on the disk\n * @param {string} [type] mimetype to use\n * @returns {Promise<Blob>}\n */\nconst blobFrom = (path, type) => stat(path).then(stat => fromBlob(stat, path, type))\n\n/**\n * @param {string} path filepath on the disk\n * @param {string} [type] mimetype to use\n * @returns {Promise<File>}\n */\nconst fileFrom = (path, type) => stat(path).then(stat => fromFile(stat, path, type))\n\n/**\n * @param {string} path filepath on the disk\n * @param {string} [type] mimetype to use\n */\nconst fileFromSync = (path, type) => fromFile(statSync(path), path, type)\n\n// @ts-ignore\nconst fromBlob = (stat, path, type = '') => new Blob([new BlobDataItem({\n  path,\n  size: stat.size,\n  lastModified: stat.mtimeMs,\n  start: 0\n})], { type })\n\n// @ts-ignore\nconst fromFile = (stat, path, type = '') => new File([new BlobDataItem({\n  path,\n  size: stat.size,\n  lastModified: stat.mtimeMs,\n  start: 0\n})], basename(path), { type, lastModified: stat.mtimeMs })\n\n/**\n * This is a blob backed up by a file on the disk\n * with minium requirement. Its wrapped around a Blob as a blobPart\n * so you have no direct access to this.\n *\n * @private\n */\nclass BlobDataItem {\n  #path\n  #start\n\n  constructor (options) {\n    this.#path = options.path\n    this.#start = options.start\n    this.size = options.size\n    this.lastModified = options.lastModified\n  }\n\n  /**\n   * Slicing arguments is first validated and formatted\n   * to not be out of range by Blob.prototype.slice\n   */\n  slice (start, end) {\n    return new BlobDataItem({\n      path: this.#path,\n      lastModified: this.lastModified,\n      size: end - start,\n      start: this.#start + start\n    })\n  }\n\n  async * stream () {\n    const { mtimeMs } = await stat(this.#path)\n    if (mtimeMs > this.lastModified) {\n      throw new DOMException('The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.', 'NotReadableError')\n    }\n    yield * createReadStream(this.#path, {\n      start: this.#start,\n      end: this.#start + this.size - 1\n    })\n  }\n\n  get [Symbol.toStringTag] () {\n    return 'Blob'\n  }\n}\n\nexport default blobFromSync\nexport { File, Blob, blobFrom, blobFromSync, fileFrom, fileFromSync }\n","/*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */\n\nif (!globalThis.DOMException) {\n  try {\n    const { MessageChannel } = require('worker_threads'),\n    port = new MessageChannel().port1,\n    ab = new ArrayBuffer()\n    port.postMessage(ab, [ab, ab])\n  } catch (err) {\n    err.constructor.name === 'DOMException' && (\n      globalThis.DOMException = err.constructor\n    )\n  }\n}\n\nmodule.exports = globalThis.DOMException\n","module.exports = require(\"worker_threads\");","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var isArray = require('./isArray');\n\n/**\n * Casts `value` as an array if it's not one.\n *\n * @static\n * @memberOf _\n * @since 4.4.0\n * @category Lang\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast array.\n * @example\n *\n * _.castArray(1);\n * // => [1]\n *\n * _.castArray({ 'a': 1 });\n * // => [{ 'a': 1 }]\n *\n * _.castArray('abc');\n * // => ['abc']\n *\n * _.castArray(null);\n * // => [null]\n *\n * _.castArray(undefined);\n * // => [undefined]\n *\n * _.castArray();\n * // => []\n *\n * var array = [1, 2, 3];\n * console.log(_.castArray(array) === array);\n * // => true\n */\nfunction castArray() {\n  if (!arguments.length) {\n    return [];\n  }\n  var value = arguments[0];\n  return isArray(value) ? value : [value];\n}\n\nmodule.exports = castArray;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \"-node.min.js\";\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","import mainConfig from 'mainConfig';\nconst sdkInfo = mainConfig['analytics.header.sdkName'] + '/' + mainConfig['sdk.version'];\nconst headerName = mainConfig['analytics.header.name'];\n\nconst getGlobalAnalytics = () => {\n    global.__tomtomAnalyticsInfo_ = global.__tomtomAnalyticsInfo_ ? global.__tomtomAnalyticsInfo_ : {};\n    return global.__tomtomAnalyticsInfo_;\n};\n\nexport const getHeaderName = () => headerName;\n\nexport const getHeaderContent = () => {\n    const prodInfo = getGlobalAnalytics().productInfo !== undefined ? ' ' + getGlobalAnalytics().productInfo : '';\n    return sdkInfo + prodInfo;\n};\n\nexport const setProductInfo = (productId, productVersion) => {\n    if (!productId) {\n        throw new Error('ProductId needs to be set');\n    }\n    const prodVersion = productVersion || productVersion === 0 ? '/' + productVersion : '';\n    getGlobalAnalytics().productInfo = productId + prodVersion;\n};\n\nexport const getProductInfo = () => getGlobalAnalytics().productInfo;\n\nexport const addAnalyticsHeader = (req) => {\n    req.header(headerName, getHeaderContent());\n    return req;\n};\n\nexport const getAnalyticsHeader = () => {\n    const header = {};\n    header[headerName] = getHeaderContent();\n    return header;\n};\n","const DEFAULT_SERVICE_KEY = 'DEFAULT';\nconst EXTENDED_SEARCH = 'EXTENDED_SEARCH';\nconst MAP = 'MAP';\nconst ROUTING = 'ROUTING';\nconst SEARCH = 'SEARCH';\nconst TRAFFIC_FLOW = 'TRAFFIC_FLOW';\nconst TRAFFIC_INCIDENTS = 'TRAFFIC_INCIDENTS';\n\nexport const SERVICE_TYPES = {\n    'DEFAULT': DEFAULT_SERVICE_KEY,\n    EXTENDED_SEARCH,\n    MAP,\n    ROUTING,\n    SEARCH,\n    TRAFFIC_FLOW,\n    TRAFFIC_INCIDENTS\n};\n","/**\n * @ignore\n * Consider NaN and Infinite as not a number.\n * @param {*} val\n * @return {Boolean}\n */\nexport function isValidNumber(val) {\n    return typeof val === 'number' && isFinite(val);\n}\n\n/**\n * @ignore\n * @param {*} val\n * @return {Boolean}\n */\nexport function isNonEmptyString(val) {\n    return typeof val === 'string' && val.length > 0;\n}\n\n/**\n * @ignore\n * Used instead of Number.isNaN\n * @param {*} val\n * @return {Boolean}\n */\nfunction numberIsNaN(val) {\n    // only true for NaN\n    return val !== val; // eslint-disable-line no-self-compare\n}\n\n/**\n * @ignore\n * Returns TRUE if the value is not undefined, null, or NaN.\n * @param {*} val\n * @return {Boolean}\n */\nexport function isValidValue(val) {\n    return val !== undefined && val !== null && !numberIsNaN(val);\n}\n\nfunction cloneProperties(object, clonedObject) {\n    for (const property in object) {\n        if (Object.prototype.hasOwnProperty.call(object, property)) {\n            if (Array.isArray(object[property])) {\n                clonedObject[property] = object[property].slice(0);\n            } else if (typeof object[property] === 'object') {\n                clonedObject[property] = {};\n                cloneProperties(object[property], clonedObject[property]);\n            } else {\n                clonedObject[property] = object[property];\n            }\n        }\n    }\n}\n\nfunction getValueOrEmptyObject(value) {\n    return value === undefined ? {} : value;\n}\n\nfunction addNewField(result, field, newFields) {\n    result[field] = getValueOrEmptyObject(result[field]);\n    for (const property in newFields[field]) {\n        if (Object.prototype.hasOwnProperty.call(newFields[field], property)) {\n            result[field][property] = newFields[field][property];\n        }\n    }\n}\n\nexport function extend(obj, src) {\n    for (const key in src) {\n        if (Object.prototype.hasOwnProperty.call(src, key)) {\n            obj[key] = src[key];\n        }\n\n    }\n    return obj;\n}\n\nexport function validateAgainstSetOfValues(value, arrayOfValues, messageIfNotFound) {\n    if (arrayOfValues.indexOf(value) === -1) {\n        throw new TypeError(messageIfNotFound);\n    }\n    return value;\n}\nexport function encodeQuery(query) {\n    return encodeURIComponent(query);\n}\n\n/**\n * @ignore\n * Converts fields list in the following format into an JS Object\n * '{\n *     field1,\n *     field2,\n *     field3 {\n *         field4,\n *         field5\n *     }\n * }'\n * @param {String} str Object-like fields definition.\n * @returns {Object} Fields definition converted into an Object.\n */\nexport function convertFieldStringIntoObject(str) {\n    if (typeof str !== 'string') {\n        return {};\n    }\n    let index = -1;\n    const fieldRegex = new RegExp('[a-zA-Z]');\n    const parserRecursive = function(rootLevel) {\n        let obj = {};\n        let buffer = '';\n        while (++index < str.length) {\n            const char = str.charAt(index);\n            switch (char) {\n            case '}':\n                if (buffer !== '') {\n                    obj[buffer] = true;\n                }\n                return obj;\n            case '{':\n                if (buffer === '') {\n                    if (rootLevel) {\n                        obj = parserRecursive();\n                    } else {\n                        parserRecursive();\n                    }\n                } else {\n                    obj[buffer] = parserRecursive();\n                    buffer = '';\n                }\n                break;\n            case ',':\n                if (buffer !== '') {\n                    obj[buffer] = true;\n                }\n                buffer = '';\n                break;\n            default:\n                if (fieldRegex.test(char)) {\n                    buffer += char;\n                }\n            }\n        }\n        if (buffer !== '') {\n            obj[buffer] = true;\n        }\n        return obj;\n    };\n    return parserRecursive(true);\n}\n\nexport function clone(object) {\n    const clonedObject = {};\n    cloneProperties(object, clonedObject);\n    return clonedObject;\n}\n\nexport const pointRegex = /(-?\\d+(?:\\.\\d+)?)(?:\\s+|\\s*,\\s*)(-?\\d+(?:\\.\\d+)?)/;\n\nexport const circleRegex = /circle\\((-?\\d+(?:\\.\\d+)?)\\s*,\\s*(-?\\d+(?:\\.\\d+)?)\\s*,\\s*(\\d+)\\)/;\n\nexport function addFields(newFields, defaultFields = {}) {\n    const result = { ...defaultFields };\n    for (const field in newFields) {\n        if (Object.prototype.hasOwnProperty.call(newFields, field)) {\n            addNewField(result, field, newFields);\n        }\n    }\n    return result;\n}\n","const mappings = {\n    'af-ZA': {\n        'synonyms': {\n            'af': null,\n            'afr': null,\n            'af-za': null,\n            'af_za': null,\n            'afrikaans': null\n        },\n        'label': 'Afrikaans'\n    },\n    'ar': {\n        'synonyms': {\n            'ar': null,\n            'ara': null,\n            'ar-ar': null,\n            'ar_ar': null,\n            'arabic': null\n        },\n        'label': 'Arabic'\n    },\n    'bg-BG': {\n        'synonyms': {\n            'bg': null,\n            'bul': null,\n            'bg-bg': null,\n            'bg_bg': null,\n            'bulgarian': null\n        },\n        'label': 'Bulgarian'\n    },\n    'ca-ES': {\n        'synonyms': {\n            'ca': null,\n            'cat': null,\n            'ca-fr': null,\n            'ca_fr': null,\n            'ca-es': null,\n            'ca_es': null,\n            'catalan': null\n        },\n        'label': 'Catalan'\n    },\n    'zh-CN': {\n        'synonyms': {\n            'zh-cn': null,\n            'zh_cn': null\n        },\n        'label': 'Chinese (PRC)'\n    },\n    'zh-TW': {\n        'synonyms': {\n            'zh': null,\n            'chi': null,\n            'zh-tw': null,\n            'zh_tw': null,\n            'chinese': null\n        },\n        'label': 'Chinese (Taiwan)'\n    },\n    'cs-CZ': {\n        'synonyms': {\n            'cs': null,\n            'cz': null,\n            'cze': null,\n            'cs-cz': null,\n            'cs_cz': null,\n            'czech': null\n        },\n        'label': 'Czech'\n    },\n    'da-DK': {\n        'synonyms': {\n            'da': null,\n            'dan': null,\n            'da-dk': null,\n            'da_dk': null,\n            'danish': null\n        },\n        'label': 'Danish'\n    },\n    'nl-BE': {\n        'synonyms': {\n            'nl-be': null,\n            'nl_be': null,\n            'dutch belgium': null\n        },\n        'label': 'Dutch (Belgium)'\n    },\n    'nl-NL': {\n        'synonyms': {\n            'nl': null,\n            'dut': null,\n            'nl-nl': null,\n            'nl_nl': null,\n            'dutch': null\n        },\n        'label': 'Dutch'\n    },\n    'en-AU': {\n        'synonyms': {\n            'aue': null,\n            'aus': null,\n            'en-au': null,\n            'en_au': null,\n            'english au': null\n        },\n        'label': 'English (Australia)'\n    },\n    'en-GB': {\n        'synonyms': {\n            'en': null,\n            'eng': null,\n            'en-gb': null,\n            'en_gb': null,\n            'english': null,\n            'default': null\n        },\n        'label': 'English (Great Britain)'\n    },\n    'en-NZ': {\n        'synonyms': {\n            'en-nz': null,\n            'en_nz': null,\n            'english new zealand': null\n        },\n        'label': 'English (New Zealand)'\n    },\n    'en-US': {\n        'synonyms': {\n            'us': null,\n            'ame': null,\n            'en-us': null,\n            'en_us': null,\n            'english us': null\n        },\n        'label': 'English (US)'\n    },\n    'et-EE': {\n        'synonyms': {\n            'et-ee': null,\n            'et_ee': null,\n            'estonian': null\n        },\n        'label': 'Estonian'\n    },\n    'eu-ES': {\n        'synonyms': {\n            'eu-es': null,\n            'eu_es': null,\n            'basque': null\n        },\n        'label': 'Basque (Spain)'\n    },\n    'fi-FI': {\n        'synonyms': {\n            'fi': null,\n            'fin': null,\n            'fi-fi': null,\n            'fi_fi': null,\n            'finnish': null\n        },\n        'label': 'Finnish'\n    },\n    'fr-CA': {\n        'synonyms': {\n            'fr-ca': null,\n            'fr_ca': null,\n            'french canadian': null\n        },\n        'label': 'French (Canadian)'\n    },\n    'fr-FR': {\n        'synonyms': {\n            'fr': null,\n            'fre': null,\n            'fr-fr': null,\n            'fr_fr': null,\n            'french': null\n        },\n        'label': 'French'\n    },\n    'de-DE': {\n        'synonyms': {\n            'de': null,\n            'ger': null,\n            'de-de': null,\n            'de_de': null,\n            'german': null\n        },\n        'label': 'German'\n    },\n    'el-GR': {\n        'synonyms': {\n            'el': null,\n            'gre': null,\n            'el-gr': null,\n            'el_gr': null,\n            'greek': null\n        },\n        'label': 'Greek'\n    },\n    'gl-ES': {\n        'synonyms': {\n            'gl-es': null,\n            'gl_es': null,\n            'galician': null\n        },\n        'label': 'Galician (Spain)'\n    },\n    'he-IL': {\n        'synonyms': {\n            'he-il': null,\n            'he_il': null,\n            'hebrew': null\n        },\n        'label': 'Hebrew (Israel)'\n    },\n    'hr-HR': {\n        'synonyms': {\n            'hr': null,\n            'hr-hr': null,\n            'hr_hr': null,\n            'croatian': null\n        },\n        'label': 'Croatian'\n    },\n    'hu-HU': {\n        'synonyms': {\n            'hu': null,\n            'hun': null,\n            'hu-hu': null,\n            'hu_hu': null,\n            'hungarian': null\n        },\n        'label': 'Hungarian'\n    },\n    'id-ID': {\n        'synonyms': {\n            'id': null,\n            'ind': null,\n            'id-id': null,\n            'id_id': null,\n            'indonesian': null\n        },\n        'label': 'Indonesian'\n    },\n    'it-IT': {\n        'synonyms': {\n            'it': null,\n            'ita': null,\n            'it-it': null,\n            'it_it': null,\n            'italian': null\n        },\n        'label': 'Italian'\n    },\n    'kk-KZ': {\n        'synonyms': {\n            'kk-kz': null,\n            'kk_kz': null,\n            'kazakh': null\n        },\n        'label': 'Kazakh (Kazakhstan)'\n    },\n    'lv-LV': {\n        'synonyms': {\n            'lt': null,\n            'lv-lv': null,\n            'lv_lv': null,\n            'latvian': null\n        },\n        'label': 'Latvian'\n    },\n    'lt-LT': {\n        'synonyms': {\n            'lt': null,\n            'lit': null,\n            'lt-lt': null,\n            'lt_lt': null,\n            'lithuanian': null\n        },\n        'label': 'Lithuanian'\n    },\n    'ms-MY': {\n        'synonyms': {\n            'ms': null,\n            'mal': null,\n            'ms-my': null,\n            'ms_my': null,\n            'malay': null\n        },\n        'label': 'Malay'\n    },\n    'no-NO': {\n        'synonyms': {\n            'no': null,\n            'nb': null,\n            'nor': null,\n            'nb-no': null,\n            'nb_no': null,\n            'no-no': null,\n            'no_no': null,\n            'norwegian': null\n        },\n        'label': 'Norwegian'\n    },\n    'pl-PL': {\n        'synonyms': {\n            'pl': null,\n            'pol': null,\n            'pl-pl': null,\n            'pl_pl': null,\n            'polish': null\n        },\n        'label': 'Polish'\n    },\n    'ro-RO': {\n        'synonyms': {\n            'ro-ro': null,\n            'ro_ro': null,\n            'romanian': null\n        },\n        'label': 'Romanian'\n    },\n    'ru-RU': {\n        'synonyms': {\n            'ru': null,\n            'rus': null,\n            'ru-ru': null,\n            'ru_ru': null,\n            'russian': null\n        },\n        'label': 'Russian'\n    },\n    'sr-RS': {\n        'synonyms': {\n            'sr-rs': null,\n            'sr_rs': null,\n            'serbian': null\n        },\n        'label': 'Serbian'\n    },\n    'sk-SK': {\n        'synonyms': {\n            'sk': null,\n            'slo': null,\n            'sk-sk': null,\n            'sk_sk': null,\n            'slovak': null\n        },\n        'label': 'Slovak'\n    },\n    'sl-SI': {\n        'synonyms': {\n            'sl': null,\n            'slv': null,\n            'sl-si': null,\n            'sl_si': null,\n            'slovenian': null\n        },\n        'label': 'Slovenian'\n    },\n    'es-ES': {\n        'synonyms': {\n            'es': null,\n            'spa': null,\n            'es-es': null,\n            'es_es': null,\n            'spanish': null\n        },\n        'label': 'Spanish'\n    },\n    'es-419': {\n        'synonyms': {\n            'es-419': null,\n            'es_419': null,\n            'latin america spanish': null\n        },\n        'label': 'Latin American Spanish'\n    },\n    'sv-SE': {\n        'synonyms': {\n            'sv': null,\n            'swe': null,\n            'sv-se': null,\n            'sv_se': null,\n            'swedish': null\n        },\n        'label': 'Swedish'\n    },\n    'th-TH': {\n        'synonyms': {\n            'th': null,\n            'tha': null,\n            'th-th': null,\n            'th_th': null,\n            'thai': null\n        },\n        'label': 'Thai'\n    },\n    'tr-TR': {\n        'synonyms': {\n            'tr': null,\n            'tur': null,\n            'tr-tr': null,\n            'tr_tr': null,\n            'turkish': null\n        },\n        'label': 'Turkish'\n    },\n    'uk-UA': {\n        'synonyms': {\n            'uk-ua': null,\n            'uk_ua': null,\n            'ukrainian': null\n        },\n        'label': 'Ukrainian'\n    },\n    'vi-VN': {\n        'synonyms': {\n            'vi-vn': null,\n            'vi_vn': null,\n            'vietnamese': null\n        },\n        'label': 'Vietnamese (Viet Nam)'\n    },\n    'NGT': {\n        'synonyms': {\n            'ngt': null\n        },\n        'label': 'Neutral Ground Truth'\n    },\n    'NGT-Latn': {\n        'synonyms': {\n            'ngt-latn': null\n        },\n        'label': 'Neutral Ground Truth - Latin exonyms'\n    },\n    'en-CA': {\n        'synonyms': {\n            'en-ca': null,\n            'en_ca': null,\n            'english canadian': null\n        },\n        'label': 'English (Canada)'\n    },\n    'ko-KR': {\n        'synonyms': {\n            'ko': null,\n            'kor': null,\n            'ko-kr': null,\n            'ko_kr': null,\n            'korean': null\n        },\n        'label': 'Korean'\n    },\n    'nb-NO': {\n        'synonyms': {\n            'nb': null,\n            'nor': null,\n            'nb-no': null,\n            'nb_no': null,\n            'norwegian': null\n        },\n        'label': 'Norwegian'\n    },\n    'pt-BR': {\n        'synonyms': {\n            'br': null,\n            'pob': null,\n            'pt-br': null,\n            'pt_br': null,\n            'portuguese br': null\n        },\n        'label': 'Portuguese (BR)'\n    },\n    'pt-PT': {\n        'synonyms': {\n            'pt': null,\n            'por': null,\n            'pt-pt': null,\n            'pt_pt': null,\n            'portuguese': null\n        },\n        'label': 'Portuguese'\n    },\n    'ru-Latn-RU': {\n        'synonyms': {\n            'ru-latn-ru': null,\n            'ru_latn_ru': null\n        },\n        'label': 'Russian (Latin)'\n    },\n    'ru-Cyrl-RU': {\n        'synonyms': {\n            'ru-cyrl-ru': null,\n            'ru_cyrl_ru': null\n        },\n        'label': 'Russian (Cyrlic)'\n    },\n    'es-MX': {\n        'synonyms': {\n            'mx': null,\n            'spm': null,\n            'es-mx': null,\n            'es_mx': null,\n            'spanish mx': null\n        },\n        'label': 'Spanish (Mexico)'\n    },\n    'defaultValue': {\n        'value': 'en-GB',\n        'label': 'English (Great Britain)'\n    }\n};\n\nexport const routing = {\n    'ar': mappings.ar,\n    'af-ZA': mappings['af-ZA'],\n    'bg-BG': mappings['bg-BG'],\n    'zh-TW': mappings['zh-TW'],\n    'cs-CZ': mappings['cs-CZ'],\n    'da-DK': mappings['da-DK'],\n    'nl-NL': mappings['nl-NL'],\n    'en-GB': mappings['en-GB'],\n    'en-US': mappings['en-US'],\n    'fi-FI': mappings['fi-FI'],\n    'fr-FR': mappings['fr-FR'],\n    'de-DE': mappings['de-DE'],\n    'el-GR': mappings['el-GR'],\n    'hu-HU': mappings['hu-HU'],\n    'id-ID': mappings['id-ID'],\n    'it-IT': mappings['it-IT'],\n    'ko-KR': mappings['ko-KR'],\n    'lt-LT': mappings['lt-LT'],\n    'ms-MY': mappings['ms-MY'],\n    'nb-NO': mappings['nb-NO'],\n    'pl-PL': mappings['pl-PL'],\n    'pt-BR': mappings['pt-BR'],\n    'pt-PT': mappings['pt-PT'],\n    'ru-RU': mappings['ru-RU'],\n    'sk-SK': mappings['sk-SK'],\n    'sl-SI': mappings['sl-SI'],\n    'es-ES': mappings['es-ES'],\n    'es-MX': mappings['es-MX'],\n    'sv-SE': mappings['sv-SE'],\n    'th-TH': mappings['th-TH'],\n    'tr-TR': mappings['tr-TR'],\n    'defaultValue': mappings.defaultValue\n};\n\nexport const search = {\n    'NGT': mappings.NGT,\n    'NGT-Latn': mappings['NGT-Latn'],\n    'af-ZA': mappings['af-ZA'],\n    'ar': mappings.ar,\n    'eu-ES': mappings['eu-ES'],\n    'bg-BG': mappings['bg-BG'],\n    'ca-ES': mappings['ca-ES'],\n    'zh-CN': mappings['zh-CN'],\n    'zh-TW': mappings['zh-TW'],\n    'cs-CZ': mappings['cs-CZ'],\n    'da-DK': mappings['da-DK'],\n    'nl-BE': mappings['nl-BE'],\n    'nl-NL': mappings['nl-NL'],\n    'en-AU': mappings['en-AU'],\n    'en-NZ': mappings['en-NZ'],\n    'en-GB': mappings['en-GB'],\n    'en-US': mappings['en-US'],\n    'et-EE': mappings['et-EE'],\n    'fi-FI': mappings['fi-FI'],\n    'fr-CA': mappings['fr-CA'],\n    'fr-FR': mappings['fr-FR'],\n    'gl-ES': mappings['gl-ES'],\n    'de-DE': mappings['de-DE'],\n    'el-GR': mappings['el-GR'],\n    'hr-HR': mappings['hr-HR'],\n    'he-IL': mappings['he-IL'],\n    'hu-HU': mappings['hu-HU'],\n    'id-ID': mappings['id-ID'],\n    'it-IT': mappings['it-IT'],\n    'kk-KZ': mappings['kk-KZ'],\n    'lv-LV': mappings['lv-LV'],\n    'lt-LT': mappings['lt-LT'],\n    'ms-MY': mappings['ms-MY'],\n    'no-NO': mappings['no-NO'],\n    'nb-NO': mappings['nb-NO'],\n    'pl-PL': mappings['pl-PL'],\n    'pt-BR': mappings['pt-BR'],\n    'pt-PT': mappings['pt-PT'],\n    'ro-RO': mappings['ro-RO'],\n    'ru-RU': mappings['ru-RU'],\n    'ru-Latn-RU': mappings['ru-Latn-RU'],\n    'ru-Cyrl-RU': mappings['ru-Cyrl-RU'],\n    'sr-RS': mappings['sr-RS'],\n    'sk-SK': mappings['sk-SK'],\n    'sl-SI': mappings['sl-SI'],\n    'es-ES': mappings['es-ES'],\n    'es-419': mappings['es-419'],\n    'sv-SE': mappings['sv-SE'],\n    'th-TH': mappings['th-TH'],\n    'tr-TR': mappings['tr-TR'],\n    'uk-UA': mappings['uk-UA'],\n    'vi-VN': mappings['vi-VN'],\n    'defaultValue': mappings.defaultValue\n};\n\nexport const maps = {\n    'NGT': mappings.NGT,\n    'NGT-Latn': mappings['NGT-Latn'],\n    'ar': mappings.ar,\n    'bg-BG': mappings['bg-BG'],\n    'zh-TW': mappings['zh-TW'],\n    'cs-CZ': mappings['cs-CZ'],\n    'da-DK': mappings['da-DK'],\n    'nl-NL': mappings['nl-NL'],\n    'en-AU': mappings['en-AU'],\n    'en-CA': mappings['en-CA'],\n    'en-GB': mappings['en-GB'],\n    'en-NZ': mappings['en-NZ'],\n    'en-US': mappings['en-US'],\n    'fi-FI': mappings['fi-FI'],\n    'fr-FR': mappings['fr-FR'],\n    'de-DE': mappings['de-DE'],\n    'el-GR': mappings['el-GR'],\n    'hu-HU': mappings['hu-HU'],\n    'id-ID': mappings['id-ID'],\n    'it-IT': mappings['it-IT'],\n    'ko-KR': mappings['ko-KR'],\n    'lt-LT': mappings['lt-LT'],\n    'ms-MY': mappings['ms-MY'],\n    'nb-NO': mappings['nb-NO'],\n    'pl-PL': mappings['pl-PL'],\n    'pt-BR': mappings['pt-BR'],\n    'pt-PT': mappings['pt-PT'],\n    'ru-RU': mappings['ru-RU'],\n    'ru-Latn-RU': mappings['ru-Latn-RU'],\n    'ru-Cyrl-RU': mappings['ru-Cyrl-RU'],\n    'sk-SK': mappings['sk-SK'],\n    'sl-SI': mappings['sl-SI'],\n    'es-ES': mappings['es-ES'],\n    'es-MX': mappings['es-MX'],\n    'sv-SE': mappings['sv-SE'],\n    'th-TH': mappings['th-TH'],\n    'tr-TR': mappings['tr-TR'],\n    'defaultValue': mappings.defaultValue\n};\n\nexport const incidentV5 = {\n    'ar': mappings.ar,\n    'ca-ES': mappings['ca-ES'],\n    'cs-CZ': mappings['cs-CZ'],\n    'da-DK': mappings['da-DK'],\n    'de-DE': mappings['de-DE'],\n    'el-GR': mappings['el-GR'],\n    'en-GB': mappings['en-GB'],\n    'en-US': mappings['en-US'],\n    'es-ES': mappings['es-ES'],\n    'et-EE': mappings['et-EE'],\n    'fi-FI': mappings['fi-FI'],\n    'fr-FR': mappings['fr-FR'],\n    'he-IL': mappings['he-IL'],\n    'hu-HU': mappings['hu-HU'],\n    'id-ID': mappings['id-ID'],\n    'it-IT': mappings['it-IT'],\n    'lt-LT': mappings['lt-LT'],\n    'lv-LV': mappings['lv-LV'],\n    'nb-NO': mappings['nb-NO'],\n    'nl-NL': mappings['nl-NL'],\n    'pl-PL': mappings['pl-PL'],\n    'pt-PT': mappings['pt-PT'],\n    'ro-RO': mappings['ro-RO'],\n    'ru-RU': mappings['ru-RU'],\n    'sk-SK': mappings['sk-SK'],\n    'sv-SE': mappings['sv-SE'],\n    'th-TH': mappings['th-TH'],\n    'tr-TR': mappings['tr-TR'],\n    'zh-TW': mappings['zh-TW'],\n    'defaultValue': mappings.defaultValue\n};\n\nexport const defaultLanguage = 'en-GB';\n","import isFunction from 'lodash/isFunction';\nimport isString from 'lodash/isString';\n\nexport function keyValidator(value) {\n    if (!isString(value) && !isFunction(value)) {\n        throw new TypeError('Unsupported key type', value);\n    }\n    return value;\n}\n","/**\n * @ignore\n * Checks whether the given parameter is a float number.\n * @param {*} value The value\n * @return {Number} value\n * @throws {TypeError} for an invalid parameter.\n */\nexport function numberValidator(value) {\n    const numValue = parseFloat(value);\n    if (!isFinite(numValue)) {\n        throw new TypeError('a number is expected, but ' + value + ' [' + typeof value + '] given');\n    }\n    return numValue;\n}\n","import {validateAgainstSetOfValues} from '../utils';\n\nexport function oneOfValueValidator(values, paramName) {\n    return (value) => {\n        const message = 'Supported ' + paramName + ' is expected (one of: ' + values + '), but ' + value +\n            ' [' + typeof value + '] was given.';\n        return validateAgainstSetOfValues(value, values, message);\n    };\n}\n","import {pointRegex, circleRegex, validateAgainstSetOfValues, convertFieldStringIntoObject} from './utils';\nimport isFunction from 'lodash/isFunction';\nimport isString from 'lodash/isString';\nimport isNil from 'lodash/isNil';\nimport isInteger from 'lodash/isInteger';\nimport {\n    routing as routingLanguageMap,\n    search as searchLanguageMap\n} from '../config/language/mappings';\n\n// Search supported language codes\n// Up-to-date list available on:\n// https://developer.tomtom.com/search-api/search-api-documentation/supported-languages\n\n// Up-to-date list available on:\n// eslint-disable-next-line\n// https://developer.tomtom.com/search-api-and-extended-search-api/search-api-and-extended-search-api-documentation/supported-connector-types\nconst connectorNames = [\n    'StandardHouseholdCountrySpecific',\n    'IEC62196Type2CableAttached',\n    'IEC60309AC1PhaseBlue',\n    'IEC60309AC3PhaseRed',\n    'IEC62196Type2Outlet',\n    'IEC62196Type1CCS',\n    'IEC62196Type2CCS',\n    'IEC60309DCWhite',\n    'IEC62196Type1',\n    'IEC62196Type3',\n    'GBT20234Part2',\n    'GBT20234Part3',\n    'Chademo',\n    'Tesla'\n];\n\n// Up-to-date list available on:\n// https://developer.tomtom.com/routing-api/routing-api-documentation/long-distance-ev-routing\nconst plugTypes = [\n    'Small_Paddle_Inductive',\n    'Large_Paddle_Inductive',\n    'IEC_60309_1_Phase',\n    'IEC_60309_3_Phase',\n    'IEC_62196_Type_1_Outlet',\n    'IEC_62196_Type_2_Outlet',\n    'IEC_62196_Type_3_Outlet',\n    'IEC_62196_Type_1_Connector_Cable_Attached',\n    'IEC_62196_Type_2_Connector_Cable_Attached',\n    'IEC_62196_Type_3_Connector_Cable_Attached',\n    'Combo_to_IEC_62196_Type_1_Base',\n    'Combo_to_IEC_62196_Type_2_Base',\n    'Type_E_French_Standard_CEE_7_5',\n    'Type_F_Schuko_CEE_7_4',\n    'Type_G_British_Standard_BS_1363',\n    'Type_J_Swiss_Standard_SEV_1011',\n    'China_GB_Part_2',\n    'China_GB_Part_3',\n    'IEC_309_DC_Plug',\n    'AVCON_Connector',\n    'Tesla_Connector',\n    'NEMA_5_20',\n    'CHAdeMO',\n    'SAE_J1772',\n    'TEPCO',\n    'Better_Place_Socket',\n    'Marechal_Socket',\n    'Standard_Household_Country_Specific'\n];\n\n// Up-to-date list available on:\n// https://developer.tomtom.com/routing-api/routing-api-documentation/long-distance-ev-routing\nconst facilityTypes = [\n    'Battery_Exchange',\n    'Charge_100_to_120V_1_Phase_at_8A',\n    'Charge_100_to_120V_1_Phase_at_10A',\n    'Charge_100_to_120V_1_Phase_at_12A',\n    'Charge_100_to_120V_1_Phase_at_13A',\n    'Charge_100_to_120V_1_Phase_at_16A',\n    'Charge_100_to_120V_1_Phase_at_32A',\n    'Charge_200_to_240V_1_Phase_at_8A',\n    'Charge_200_to_240V_1_Phase_at_10A',\n    'Charge_200_to_240V_1_Phase_at_12A',\n    'Charge_200_to_240V_1_Phase_at_16A',\n    'Charge_200_to_240V_1_Phase_at_20A',\n    'Charge_200_to_240V_1_Phase_at_32A',\n    'Charge_200_to_240V_1_Phase_above_32A',\n    'Charge_200_to_240V_3_Phase_at_16A',\n    'Charge_200_to_240V_3_Phase_at_32A',\n    'Charge_380_to_480V_3_Phase_at_16A',\n    'Charge_380_to_480V_3_Phase_at_32A',\n    'Charge_380_to_480V_3_Phase_at_63A',\n    'Charge_50_to_500V_Direct_Current_at_62A_25kW',\n    'Charge_50_to_500V_Direct_Current_at_125A_50kW',\n    'Charge_200_to_450V_Direct_Current_at_200A_90kW',\n    'Charge_200_to_480V_Direct_Current_at_255A_120kW',\n    'Charge_Direct_Current_at_20kW',\n    'Charge_Direct_Current_at_50kW',\n    'Charge_Direct_Current_above_50kW'\n];\n\nconst mapsLangCodes = [\n    'NGT', 'NGT-Latn', 'ar', 'bg-BG', 'zh-TW', 'cs-CZ', 'da-DK', 'nl-NL', 'en-AU', 'en-CA', 'en-GB', 'en-NZ',\n    'en-US', 'fi-FI', 'fr-FR', 'de-DE', 'el-GR', 'hu-HU', 'id-ID', 'it-IT', 'ko-KR', 'lt-LT', 'ms-MY', 'nb-NO',\n    'pl-PL', 'pt-BR', 'pt-PT', 'ru-RU', 'ru-Latn-RU', 'ru-Cyrl-RU', 'sk-SK', 'sl-SI', 'es-ES', 'es-MX', 'sv-SE',\n    'th-TH', 'tr-TR'\n];\n\n// Up-to-date list available on:\n// https://developer.tomtom.com/search-api/search-api-documentation-search/fuzzy-search [fuelSet] section\nconst fuelTypes = [\n    'Petrol', 'LPG', 'Diesel', 'Biodiesel', 'DieselForCommercialVehicles',\n    'E85', 'LNG', 'CNG', 'Hydrogen', 'AdBlue'\n];\n\nconst incidentDetailsAvailableFields = `\n    {\n        incidents {\n            type,\n            geometry {\n                type,\n                coordinates\n            },\n            properties {\n                id,\n                iconCategory,\n                magnitudeOfDelay,\n                events {\n                    description,\n                    code,\n                    iconCategory\n                },\n                startTime,\n                endTime,\n                from,\n                to,\n                length,\n                delay,\n                roadNumbers,\n                aci {\n                    probabilityOfOccurrence,\n                    numberOfReports,\n                    lastReportTime\n                }\n            }\n        }\n    }`;\n\nfunction isDateRfc3339(dateString) {\n    return dateString.toString()\n        .match(/(\\d\\d\\d\\d)(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))/);\n}\n\nfunction hasBoundingBoxFields(bbox) {\n    return Object.prototype.hasOwnProperty.call(bbox, 'minLon') &&\n        Object.prototype.hasOwnProperty.call(bbox, 'maxLon') &&\n        Object.prototype.hasOwnProperty.call(bbox, 'minLat') &&\n        Object.prototype.hasOwnProperty.call(bbox, 'maxLat');\n}\n\nfunction checkBBoxNormalized(bbox) {\n    return parseFloat(bbox.maxLat) <= parseFloat(bbox.minLat) || parseFloat(bbox.maxLon) <= parseFloat(bbox.minLon);\n}\n\nfunction hasChargingCurveSupportPointFields(value) {\n    return Object.prototype.hasOwnProperty.call(value, 'chargeInkWh') &&\n        Object.prototype.hasOwnProperty.call(value, 'timeToChargeInSeconds');\n}\n\nfunction hasChargingConnectionFields(value) {\n    return Object.prototype.hasOwnProperty.call(value, 'facilityType') &&\n        Object.prototype.hasOwnProperty.call(value, 'plugType');\n}\n\nfunction hasChargingModeFields(value) {\n    return Object.prototype.hasOwnProperty.call(value, 'chargingConnections') &&\n        Object.prototype.hasOwnProperty.call(value, 'chargingCurve');\n}\n\nfunction isNumberInInterval(numValue, min, max) {\n    return isFinite(numValue) && numValue >= min && numValue <= max;\n}\n\nfunction checkArray(array) {\n    return array.constructor.toString().indexOf('Array') < 0;\n}\nfunction throwTypeErrorWhen(condition, message) {\n    if (condition) {\n        throw new TypeError(message);\n    }\n}\n\nfunction isPointValid(point) {\n    if (!isString(point) || !pointRegex.test(point)) {\n        throw new TypeError('A point is expected, but ' + point + ' [' + typeof point + '] given');\n    }\n    return true;\n}\n\nfunction checkLongitude(value) {\n    const numValue = parseFloat(value);\n    if (!isNumberInInterval(numValue, -180, 180)) {\n        throw new TypeError('an longitude <-180,180> is expected, but ' +\n            value + ' [' + typeof value + '] given');\n    }\n    return numValue;\n}\n\nfunction checkChargingMode(chargingMode) {\n    throwTypeErrorWhen(!hasChargingModeFields(chargingMode),\n        'a chargingMode is expected, but ' + chargingMode +\n        ' [' + typeof chargingMode + '] given');\n\n    checkChargingCurve(chargingMode.chargingCurve);\n    checkChargingConnections(chargingMode.chargingConnections);\n\n    return chargingMode;\n}\n\nfunction checkChargingCurve(chargingCurve) {\n    if (chargingCurve.length > 10) {\n        throw new Error('Given chargingCurve array contains more than 10 elements.');\n    }\n\n    chargingCurve.forEach((element) => {\n        checkChargingCurveSupportPoint(element);\n    });\n\n    return chargingCurve;\n}\n\nfunction checkChargingCurveSupportPoint(chargingCurveSupportPoint) {\n    throwTypeErrorWhen(!hasChargingCurveSupportPointFields(chargingCurveSupportPoint),\n        'a chargingCurveSupportPoint is expected, but ' + chargingCurveSupportPoint +\n        ' [' + typeof chargingCurveSupportPoint + '] given');\n\n    throwTypeErrorWhen(!isNumberInInterval(chargingCurveSupportPoint.chargeInkWh, 0, Number.MAX_VALUE),\n        'a chargeInkWh is expected, but ' + chargingCurveSupportPoint.chargeInkWh +\n        ' [' + typeof chargingCurveSupportPoint.chargeInkWh + '] given');\n\n    throwTypeErrorWhen(!isNumberInInterval(chargingCurveSupportPoint.timeToChargeInSeconds, 0, Number.MAX_VALUE),\n        'a timeToChargeInSeconds is expected, but ' + chargingCurveSupportPoint.timeToChargeInSeconds +\n        ' [' + typeof chargingCurveSupportPoint.timeToChargeInSeconds + '] given');\n\n    return chargingCurveSupportPoint;\n}\n\nfunction checkChargingConnection(chargingConnection) {\n    throwTypeErrorWhen(!hasChargingConnectionFields(chargingConnection),\n        'a chargingConnection is expected, but ' + chargingConnection +\n        ' [' + typeof chargingConnection + '] given');\n\n    checkPlugType(chargingConnection.plugType);\n    checkFacilityType(chargingConnection.facilityType);\n\n    return chargingConnection;\n}\n\nfunction checkPlugType(plugType) {\n    const message = 'Plug type is expected to be one of supported values, but ' +\n        plugType + ' [' + typeof plugType + '] given';\n    return validateAgainstSetOfValues(plugType, plugTypes, message);\n}\n\nfunction checkFacilityType(facilityType) {\n    const message = 'Facility type is expected to be one of supported values, but ' +\n    facilityType + ' [' + typeof facilityType + '] given';\n    return validateAgainstSetOfValues(facilityType, facilityTypes, message);\n}\n\nfunction checkChargingConnections(chargingConnections) {\n    if (chargingConnections.length > 20) {\n        throw new Error('Given chargingConnections array contains more than 20 elements.');\n    }\n\n    chargingConnections.forEach((element) => {\n        checkChargingConnection(element);\n    });\n\n    return chargingConnections;\n}\n\nfunction checkLatitude(value) {\n    const numValue = parseFloat(value);\n    if (!isNumberInInterval(numValue, -90, 90)) {\n        throw new TypeError('an latitude <-90,90> is expected, but ' + value + ' [' + typeof value + '] given');\n    }\n    return numValue;\n}\n\nfunction checkPointObjectOrArray(point) {\n    let lat, lon;\n    if (Array.isArray(point)) {\n        if (!(point.length === 2 && point.filter(isFinite).length === 2)) {\n            throw new TypeError('Invalid point array in route points');\n        }\n        lat = point[1];\n        lon = point[0];\n    } else {\n        if (!(isFinite(point.lat) && (isFinite(point.lon) || isFinite(point.lng)))) {\n            throw new TypeError('Invalid point object in route points');\n        }\n        lat = point.lat;\n        lon = typeof point.lon !== 'undefined' ? point.lon : point.lng;\n    }\n\n    if (!(typeof lat === 'number' || lat instanceof Number) ||\n        !(typeof lon === 'number' || lon instanceof Number)) {\n        throw new TypeError('Lat and lon components of point should be finite numbers');\n    }\n\n    checkLongitude(lon);\n    checkLatitude(lat);\n}\n\nfunction validateField(options, value) {\n    for (const key in options) {\n        if (Object.prototype.hasOwnProperty.call(options, key)) {\n            if (Object.prototype.hasOwnProperty.call(value, key) && Array.isArray(options[key].validators)) {\n                for (const validator of options[key].validators) {\n                    if (isFunction(validator)) {\n                        value[key] = validator(value[key]);\n                    }\n                }\n            }\n\n            if (options[key].required === true && !Object.prototype.hasOwnProperty.call(value, key)) {\n                throw new Error('Missing required ' + key);\n            }\n        }\n    }\n}\n\nfunction validateNumberInInterval(min, max, errorMsg, integerRequired) {\n    if (isNil(min) || isNil(max)) {\n        throw new TypeError('Number in interval validator requires min and max value parameters');\n    }\n\n    return function(value) {\n        const numValue = parseFloat(value);\n\n        if (!isNumberInInterval(numValue, min, max) || (integerRequired && !isInteger(numValue))) {\n            throw new TypeError(errorMsg + ', but ' + value + ' [' + typeof value + '] given');\n        }\n\n        return numValue;\n    };\n}\n\nfunction validateIntInInterval(min, max, errorMsg) {\n    return validateNumberInInterval(min, max, errorMsg, true);\n}\n\nfunction validateAllowedTypes(value, message, allowedTypes) {\n    if (isString(value)) {\n        value = value.split(',');\n    }\n\n    if (Array.isArray(value) && value.length > 0) {\n        for (let i = 0; i < value.length; i += 1) {\n            validateAgainstSetOfValues(value[i], allowedTypes, message);\n        }\n\n        return value.join(',');\n    } else {\n        throw new TypeError(message);\n    }\n}\n\nfunction checkDateRfc3339(value, paramName) {\n    if (!isDateRfc3339(value)) {\n        throw new TypeError(`Invalid \"${paramName}\" parameter value.\n        Valid format: YYYY-MM-DDThh:mm:ss.SSSTZD`);\n    }\n\n    return value;\n}\n\nexport function trackingId(value) {\n    if (isString(value) && /^[a-zA-Z0-9-]{1,100}$/.test(value)) {\n        return value;\n    } else {\n        throw new TypeError('a string matching regular expression ^[a-zA-Z0-9-]{1,100}$ is expected, but ' +\n            value + ' [' + typeof value + '] given');\n    }\n}\n\n/**\n * @ignore\n * Casts to boolean.\n * @param {*} value\n * @return {Boolean} A casted value.\n */\nexport function bool(value) {\n    return value === 'false' ? false : Boolean(value);\n}\n\n/**\n * @ignore\n * Checks whether the given parameter is an integer greater than or equal to 0.\n * @param {*} value The value\n * @return {Number} value\n * @throws {TypeError} for an invalid parameter.\n */\nexport function naturalInteger(value) {\n    const numValue = parseFloat(value);\n    if (!isInteger(numValue) || numValue < 0) {\n        throw new TypeError('a natural integer (greater than or equal 0) is expected, but ' +\n            value + ' [' + typeof value + '] given');\n    }\n    return numValue;\n}\n\n/**\n * @ignore\n * Checks whether the given parameter is an integer greater than 0.\n * @param {*} value The value\n * @return {Number} value\n * @throws {TypeError} for an invalid parameter.\n */\nexport function positiveInteger(value) {\n    const numValue = parseFloat(value);\n    if (!isInteger(numValue) || numValue <= 0) {\n        throw new TypeError('a positive integer (greater than 0) is expected, but ' +\n            value + ' [' + typeof value + '] given');\n    }\n    return numValue;\n}\n\nexport function integer(value) {\n    const numValue = parseFloat(value);\n    if (!isInteger(numValue)) {\n        throw new TypeError('an integer is expected, but ' + value + ' [' + typeof value + '] given');\n    }\n    return numValue;\n}\n\n/**\n * @ignore\n * Checks whether the given parameter is a longitude and casts to a proper interval <-180, 180>.\n * @param {*} value\n * @return {Number} value\n * @throws {TypeError} for an invalid parameter.\n */\nexport function longitude(value) {\n    return checkLongitude(value);\n}\n\n/**\n * @ignore\n * Checks whether the given parameter is a latitude and casts to a proper interval <-90, 90>\n * @param {*} value\n * @return {Number} value\n * @throws {TypeError} for an invalid parameter.\n */\nexport function latitude(value) {\n    return checkLatitude(value);\n}\n\n/**\n * @ignore\n * Checks whether the given parameter is a valid bounding box. Contains the whole world and a half on each\n * side.\n * @param {*} bbox The bounding box\n * @return {Object} bbox\n * @throws {TypeError} for an invalid parameter.\n */\nexport function validateBoundingBox(bbox) {\n    throwTypeErrorWhen(!hasBoundingBoxFields(bbox),\n        'a bounding box is expected, but ' + bbox + ' [' + typeof bbox + '] given');\n\n    throwTypeErrorWhen(!isNumberInInterval(bbox.minLat, -90, 90),\n        'a bounding box minimal latitude is expected ' + bbox.minLat + ' [' + typeof bbox.minLat + '] given');\n\n    throwTypeErrorWhen(!isNumberInInterval(bbox.maxLat, -90, 90),\n        'a bounding box maximal latitude is expected ' + bbox.maxLat + ' [' + typeof bbox.maxLat + '] given');\n\n    throwTypeErrorWhen(!isNumberInInterval(bbox.minLon, -270, 180),\n        'a bounding box minimal longitude is expected ' + bbox.minLon + ' [' + typeof bbox.minLon + '] given');\n\n    throwTypeErrorWhen(!isNumberInInterval(bbox.maxLon, -180, 270),\n        'a bounding box maximal longitude is expected ' + bbox.maxLon + ' [' + typeof bbox.maxLon + '] given');\n\n    throwTypeErrorWhen(checkBBoxNormalized(bbox), 'a bounding box expected but max <= min');\n\n    return bbox;\n}\n\n/**\n * @ignore\n * Checks whether the given parameter is a float number in a proper interval <min, max>.\n * @example\n * var numberBetweenMinusFiveAndFive = validators.numberInInterval(-5,5);\n * numberBetweenMinusFiveAndFive(-10); // false\n * numberBetweenMinusFiveAndFive(3); //true\n *\n * @param {Number} [min] The minimal value.\n * @param {Number} [max] The maximal value.\n * @return {Function} validator function that checks the type and value range.\n * @throws {TypeError} when missing a min or max value.\n */\nexport function numberInInterval(min, max) {\n    return validateNumberInInterval(min, max, 'a number in interval <' + min + ', ' + max + '> is expected');\n}\n\n/**\n * @ignore\n * Checks whether the given parameter is an integer number in a proper interval <min, max>.\n * @example\n * var numberBetweenMinusFiveAndFive = validators.numberInInterval(-5,5);\n * numberBetweenMinusFiveAndFive(-10); // false\n * numberBetweenMinusFiveAndFive(3); //true\n *\n * @param {Number} [min] The minimal value.\n * @param {Number} [max] The maximal value.\n * @return {Function} validator function that checks the type and value range.\n * @throws {TypeError} when missing a min or max value.\n */\nexport function integerInInterval(min, max) {\n    return validateIntInInterval(min, max, 'an integer in interval <' + min + ', ' + max + '> is expected');\n}\n\n/**\n * @ignore\n * Checks whether the given parameter is a string.\n * @param {String} string\n * @return {String} value\n * @throws {TypeError} for non strings.\n */\nexport function string(string) {\n    if (!isString(string)) {\n        throw new TypeError('a string is expected, but ' + string + ' [' + typeof string + '] given');\n    }\n    return string;\n}\n\n/**\n * @ignore\n * Checks whether the given parameter geometries zoom has the value <0, 22>.\n * @param {Number} geometriesZoom\n * @return {Number} value\n * @throws {TypeError} for a non invalid parameter.\n */\nexport function geometriesZoom(geometriesZoom) {\n    return validateNumberInInterval(0, 22, 'a geometries zoom value <0, 22> is expected')(geometriesZoom);\n}\n\n/**\n * @ignore\n * Checks whether the given parameter is a zoom level of <0, 22>\n * @param {Number} zoomLevel\n * @return {Number} value\n * @throws {TypeError} for a non invalid parameter.\n */\nexport function zoomLevel(zoomLevel) {\n    return validateIntInInterval(0, 22, 'zoom level <0, 22> is expected')(zoomLevel);\n}\n\n/**\n * @ignore\n * Checks whether the given parameter is a function.\n * @param {Function} fun\n * @return {Function} fun\n * @throws {TypeError} for a non-function.\n */\nexport function functionType(fun) {\n    if (typeof fun !== 'function') {\n        throw new TypeError('a function is expected, but ' + fun + '  [' + typeof fun + '] given');\n    }\n    return fun;\n}\n\n/**\n * @ignore\n * Checks whether the given country name uses the ISO 3166 alpha-3 or alpha-2 format.\n * @param {String} name\n * @return {String} name\n * @throws {TypeError} if the country name is not valid.\n */\nexport function countryCode(name) {\n    if (!(isString(name) && (name.length === 3 || name.length === 2))) {\n        throw new TypeError('a 2 or 3-characters long country name is expected, but ' + name +\n            ' [' + typeof name + '] given');\n    }\n    return name;\n}\n\n/**\n * @ignore\n * Checks whether the given language code belongs to a predefined set of supported language codes\n * which is a subset of the IETF language tags.\n * @param {String|undefined} langCode\n * @return {String}\n */\nexport function languageCode(langCode) {\n    const searchLanguageCodes = Object.keys(searchLanguageMap);\n    if (!isString(langCode) || searchLanguageCodes.indexOf(langCode) < 0) {\n        throw new TypeError('One of pre-defined language codes was expected: ' + searchLanguageCodes +\n            ', but ' + langCode + ' [' + typeof langCode + '] given');\n    }\n    return langCode;\n}\n\n/**\n * @ignore\n * Checks whether the given country name's list uses the ISO 3166 alpha-3 or alpha-2 format.\n * @param {String|Array} value\n * @return {String} list\n * @throws {TypeError} if one of the country names is not valid.\n */\nexport function countrySet(value) {\n    throwTypeErrorWhen(!isString(value) && checkArray(value),\n        'An array of string country names or string (divided with commas) of country ' +\n        'names (two or three-characters long) is expected, but ' + value + ' [' + typeof value + '] given');\n\n    const stringValue = isString(value) ? value : value.join();\n    throwTypeErrorWhen(!stringValue.match(/^([a-zA-z]{2,3},)*[a-zA-z]{2,3}$/),\n        'An array of string country names or string (divided with commas) of country ' +\n        'names (two or three-characters long) is expected, but ' + value + ' [' + typeof value + '] given');\n\n    return stringValue;\n}\n\n/**\n * @ignore\n * Checks whether the given EV connector names list belongs to a predefined set of supported names\n * @param {String} value\n * @return {String} list\n * @throws {TypeError} if one of the EV connectors names is not valid.\n */\nexport function connectorSet(value) {\n    const message = 'List of pre-defined EV connector names was expected,' +\n    'but ' + value + ' [' + typeof value + '] given';\n\n    return validateAllowedTypes(value, message, connectorNames);\n}\n\n/**\n * @ignore\n * Checks whether the given fuel types names list belongs to a predefined set of supported names\n * @param {String} value\n * @return {String} list\n * @throws {TypeError} if one of the fuel type names is not valid.\n */\nexport function fuelSet(value) {\n    const message = 'List of pre-defined Fuel types names was expected,' +\n    'but ' + value + ' [' + typeof value + '] given';\n\n    return validateAllowedTypes(value, message, fuelTypes);\n}\n\n/**\n * @ignore\n * Checks whether the given mapcode types list belongs to a predefined set of supported names\n * @param {String} value\n * @return {String} list\n * @throws {TypeError} if one of the mapcode types names is not valid.\n */\nexport function mapcodes(value) {\n    const mapcodesValues = [\n        'Local',\n        'International',\n        'Alternative'\n    ];\n\n    const message = 'List of pre-defined mapcode types names was expected,' +\n    'but ' + value + ' [' + typeof value + '] given';\n\n    if (isString(value)) {\n        value = value.split(',');\n    }\n\n    if (Array.isArray(value) && value.length > 0) {\n        for (let i = 0; i < value.length; i += 1) {\n            validateAgainstSetOfValues(value[i], mapcodesValues, message);\n        }\n\n        return value.join(',');\n\n    } else {\n        throw new TypeError(message);\n    }\n\n}\n\n/**\n * @ignore\n * Checks whether the given EV charging plug type belongs to a predefined set of supported types\n * @param {String} value\n * @return {String} plugType\n * @throws {TypeError} if the given plug type is not valid.\n */\nexport function plugType(value) {\n    return checkPlugType(value);\n}\n\n/**\n * @ignore\n * Checks whether the given EV charging facility type belongs to a predefined set of supported types\n * @param {String} value\n * @return {String} facilityType\n * @throws {TypeError} if the given facility type is not valid.\n */\nexport function facilityType(value) {\n    return checkFacilityType(value);\n}\n\n/**\n * @ignore\n * Checks whether the given chargingCurveSupportPoint object has right properties\n * @param {Object} chargingCurveSupportPoint\n * @return {Object} chargingCurveSupportPoint\n * @throws {TypeError} if the given chargingCurveSupportPoint is not valid.\n */\nexport function chargingCurveSupportPoint(chargingCurveSupportPoint) {\n    return checkChargingCurveSupportPoint(chargingCurveSupportPoint);\n}\n\n/**\n * @ignore\n * Checks whether the given chargingCurve array has proper elements\n * @param {Array} chargingCurve\n * @return {Array} chargingCurve\n * @throws {TypeError} if the given chargingCurve array is not valid.\n */\nexport function chargingCurve(chargingCurve) {\n    return checkChargingCurve(chargingCurve);\n}\n\n/**\n * @ignore\n * Checks whether the given chargingConnection has right properties\n * @param {Object} chargingConnection\n * @return {Object} chargingConnection\n * @throws {TypeError} if the given chargingConnection is not valid.\n */\nexport function chargingConnection(chargingConnection) {\n    return checkChargingConnection(chargingConnection);\n}\n\n/**\n * @ignore\n * Checks whether the given chargingConnections array has proper elements\n * @param {Array} chargingConnections\n * @return {Array} chargingConnections\n * @throws {TypeError} if the given chargingConnections array is not valid.\n */\nexport function chargingConnections(chargingConnections) {\n    return checkChargingConnections(chargingConnections);\n}\n\n/**\n * @ignore\n * Checks whether the given chargingMode has right properties\n * @param {Object} chargingMode\n * @return {Object} chargingMode\n * @throws {TypeError} if the given chargingMode is not valid.\n */\nexport function chargingMode(chargingMode) {\n    return checkChargingMode(chargingMode);\n}\n\n/**\n * @ignore\n * Checks whether the given chargingModes array has right elements\n * @param {Array} chargingModes\n * @return {Array} chargingModes\n * @throws {TypeError} if the given chargingModes array is not valid.\n */\nexport function chargingModes(chargingModes) {\n    if (chargingModes.length > 10) {\n        throw new Error('Given chargingModes array contains more than 10 elements.');\n    }\n\n    chargingModes.forEach((element) => {\n        checkChargingMode(element);\n    });\n\n    return chargingModes;\n}\n\n/**\n * @ignore\n * Checks whether the given country name's list uses the ISO 3166 alpha-3 or alpha-2 format.\n * @param {Boolean} allowEmpty Specifies that it allows an empty array as a valid value.\n * @param {String|Array} value\n * @return {String} list\n * @throws {TypeError} if one of the country names is not valid.\n */\nexport function countrySetAlpha3(allowEmpty, value) {\n    throwTypeErrorWhen(!isString(value) && checkArray(value),\n        'An array of string country names or string (divided with commas) of country ' +\n        'names (three-characters long) is expected, but ' + value + ' [' + typeof value + '] given');\n\n    const stringValue = isString(value) ? value : value.join();\n    if (allowEmpty && stringValue === '') {\n        return value;\n    }\n    throwTypeErrorWhen(!stringValue.match(/^([a-zA-z]{3},)*[a-zA-z]{3}$/),\n        'An array of string country names or string (divided with commas) of country ' +\n        'names (three-characters long) is expected, but ' + value + ' [' + typeof value + '] given');\n\n    return value;\n}\n\n/**\n * @ignore\n * Checks whether the given point is in the proper format.\n * @param {String} value\n * @return {String} value\n * @throws {TypeError} if the given value is in an invalid format.\n */\nexport function point(value) {\n    isPointValid(value);\n    return value;\n}\n\n/**\n * @ignore\n * Checks whether the given parameter is a positive integer (greater than 0) and lower than 5.\n * @param {Number} value The value\n * @return {Number} value\n * @throws {TypeError} for an invalid parameter.\n */\nexport function fuzzinessLevel(value) {\n    return validateIntInInterval(1, 4, 'Fuzziness level value (a positive integer lower than 5) is expected')(value);\n}\n\n/**\n * @ignore\n * Checks whether the given parameter is a positive integer (greater than 0) and lower than 100.\n * @param {Number} value The value\n * @return {Number} value\n * @throws {TypeError} for an invalid parameter.\n */\nexport function limit(value) {\n    return validateIntInInterval(1, 100, 'Limit value (a positive integer lower than 100) is expected')(value);\n}\n\n/**\n * @ignore\n * Checks whether the given parameter is an offset - positive integer <0, 1900>.\n * @param {Number} value The value\n * @return {Number} value\n * @throws {TypeError} for an invalid parameter.\n */\nexport function offset(value) {\n    return validateIntInInterval(0, 1900, 'Offset an integer value <0, 1900> is expected')(value);\n}\n\n/**\n * @ignore\n * Checks whether the given parameter is a plain object (array and functions are not accepted).\n * @param {Object} object\n * @return {Object} object\n * @throws {TypeError} for a non-object.\n */\nexport function plainObject(object) {\n    if (typeof object !== 'object' || object.constructor !== Object) {\n        throw new TypeError('an object is expected, but ' + object + '  [' + typeof object + '] given');\n    }\n    return object;\n}\n\n/**\n * @ignore\n * Checks whether the given parameter is an array (objects and functions are not accepted).\n * @param {Array} array\n * @return {Array} array\n * @throws {TypeError} for a non-array.\n */\nexport function arrayType(array) {\n    if (checkArray(array)) {\n        throw new TypeError('an array is expected, but ' + array + '  [' + typeof array + '] given');\n    }\n    return array;\n}\n\nexport function arrayOf(options) {\n    return (values) => {\n        values.forEach((value) => validateField(options, value));\n        return values;\n    };\n}\n\nexport function entityType(values) {\n    const entityTypeValues = [\n        'Country',\n        'CountrySubdivision',\n        'CountrySecondarySubdivision',\n        'CountryTertiarySubdivision',\n        'Municipality',\n        'MunicipalitySubdivision',\n        'Neighbourhood',\n        'PostalCodeArea'\n    ];\n    for (const value of values.split(',')) {\n        if (entityTypeValues.indexOf(value) === -1) {\n            throw new TypeError(\n                `Entity type (${entityTypeValues}) is expected, but ${values} [${typeof values}] given`);\n        }\n    }\n\n    return values;\n}\n\nexport function objectOf(options) {\n    return (value) => {\n        validateField(options, value);\n        return value;\n    };\n}\n\nexport function roadUse(value) {\n    const roadUseValues = ['LimitedAccess', 'Arterial', 'Terminal', 'Ramp', 'Rotary', 'LocalStreet'];\n    throwTypeErrorWhen(!isString(value) || !value.match(/^\\[(\"\\w*\",?)+\\]$/),\n        'Road use is expected, but ' + value + '  [' + typeof value + '] given');\n\n    const elements = value.replace(/[\"[\\]]/g, '').split(',');\n    for (let i = 0; i < elements.length; i += 1) {\n        throwTypeErrorWhen(roadUseValues.indexOf(elements[i]) < 0,\n            'Road use (' + roadUseValues + ') is expected, but ' + value +\n            '  [' + typeof value + '] given');\n    }\n    return value;\n}\n\nexport function arrayOfValues(values, paramName) {\n    return (value) => {\n        const message = 'Supported ' + paramName + ' type is expected (array with one of: ' + values +\n            '), but ' + value + ' [' + typeof value + '] given';\n        if (checkArray(value)) {\n            throw new TypeError('an array is expected, but ' + value + '  [' + typeof value + '] given');\n        }\n        for (let i = 0; i < value.length; i += 1) {\n            validateAgainstSetOfValues(value[i], values, message);\n        }\n        return value;\n    };\n}\n\n/**\n * @ignore\n * Checks whether the given departure time is now or in the proper RFC-3339 format ( 1996-12-19T16:39:57 or\n * 1996-12-19T16:39:57-08:00 ):\n * @param {String} value\n * @return {String} value\n * @throws {TypeError} if the given value is not valid.\n */\nexport function departAt(value) {\n    if (value === 'now' || isDateRfc3339(value) && Date.now() < Date.parse(value)) {\n        return value;\n    } else {\n        throw new TypeError('Supported departAt is now or rfc3339 format and no earlier than now(), but ' +\n            value + ' [' + typeof value + '] given');\n    }\n}\n\n/**\n * @ignore\n * Checks whether the given arrive time is in proper RFC-3339 format (1996-12-19T16:39:57 or\n * 1996-12-19T16:39:57-08:00):\n * @param {String} value\n * @return {String} value\n * @throws {TypeError} if the given value is not valid.\n */\nexport function arriveAt(value) {\n    if (isDateRfc3339(value) && Date.now() < Date.parse(value)) {\n        return value;\n    } else {\n        throw new TypeError('Supported arriveAt is rfc3339 format, but and no earlier than now() ' +\n            value + ' [' + typeof value + '] given');\n    }\n}\n\nexport function routingGuidanceLanguage(value) {\n    const routingGuidanceLanguageValues = Object.keys(routingLanguageMap);\n    const message = 'Supported routing guidance language is expected to be one of: ' +\n        routingGuidanceLanguageValues + '), but ' + value + ' [' + typeof value + '] given';\n    return validateAgainstSetOfValues(value, routingGuidanceLanguageValues, message);\n}\n\nexport function mapsLanguage(value) {\n    const message = 'Supported maps language is expected to be one of: ' +\n    mapsLangCodes + '), but ' + value + ' [' + typeof value + '] given';\n    return validateAgainstSetOfValues(value, mapsLangCodes, message);\n}\n\n/**\n * @ignore\n * Checks whether the given routing locations is in the proper format:\n * circle - A circle with a center point and a radius (in meters).\n * The radius must be a positive integer with the maximum value of 20050000. Note that larger integer values\n * will not be rejected but lowered to the maximum value. circle(52.37245,4.89406,10000) location - A point or\n * a circle.\n * 52.37245,4.89406\n * circle(52.37245,4.89406,10000)\n * @param {String} value\n * @return {String} value\n * @throws {TypeError} if the given value is not valid.\n */\nexport function routingLocations(value) {\n    const point = pointRegex,\n        circle = circleRegex;\n\n    if (value.constructor.toString().indexOf('Array') > -1) {\n        value = value.join(':');\n    }\n\n    const routingLocation = new RegExp('^' + point.source + ':(?:(?:' + point.source + '|' +\n        circle.source + '):)*' + point.source + '$');\n    if (!value.match(routingLocation)) {\n        throw new TypeError('Routing location is expected. But ' + value + ' [' + typeof value + '] given');\n    }\n    return value;\n}\n\n/**\n * @ignore\n * Checks whether the given input is in the proper circle format:\n * circle - A circle with a center point and a radius (in meters).\n * The radius must be a positive integer with the maximum value of 20050000. Note that larger integer values\n * will not be rejected but lowered to the maximum value. circle(52.37245,4.89406,10000)\n * @param {String} value\n * @return {String} value\n * @throws {TypeError} if the given value is not valid.\n */\nexport function circle(value) {\n    throwTypeErrorWhen(!isString(value),\n        'Expecting circle but ' + value + ' [' + typeof value + '] given');\n\n    const match = value.match(/circle\\(-?\\d*(?:\\.\\d*)?\\s*,\\s*-?\\d*(?:\\.\\d*)?\\s*,\\s*(\\d+)\\)/);\n    throwTypeErrorWhen(!match || parseFloat(match[1]) > 20050000,\n        'Expecting circle but ' + value + ' [' + typeof value + '] given');\n\n    return value;\n}\n\n/**\n * @ignore\n * Checks whether the given input is in the proper geometry list format.\n * Geometry list represents a list of figures (polygons or circles) objects.\n * Circle contains properties like: type (\"CIRCLE\"), position (lat & lon) and radius.\n * Polygon contains properties like: type (\"POLYGON\") and vertices (as a list of points).\n *\n * @param {Array} value\n * @return {Array} value\n * @throws {TypeError} if the given value is not valid.\n */\nexport function geometryList(value) {\n    throwTypeErrorWhen(checkArray(value), 'An array of geometry objects is expected, but ' +\n    value + ' [' + typeof value + '] given');\n\n    if (value.length > 0) {\n        for (let i = 0; i < value.length; i += 1) {\n            const geoObject = value[i];\n            throwTypeErrorWhen(!Object.prototype.hasOwnProperty.call(geoObject, 'type') ||\n                !Object.prototype.hasOwnProperty.call(geoObject, 'vertices') &&\n                (!Object.prototype.hasOwnProperty.call(geoObject, 'position') ||\n                !Object.prototype.hasOwnProperty.call(geoObject, 'radius')),\n            'An array of geometry objects is expected, but ' + value + ' [' + typeof value + '] given');\n        }\n    } else {\n        throw new TypeError('An array of geometry objects is expected, but ' + value +\n            ' [' + typeof value + '] given');\n    }\n    return value;\n}\n\n/**\n * @ignore\n *\n * Checks if the given value has a property 'route' which is an array of points.\n * By an array of points we mean an array of an array of { lon, lat }, { lng, lat }, [ num, num ],\n * Maps.LngLat objects or mixed.\n *\n * @param {Object} value\n *\n * @return {Object} value Stringified array of figures (JSON format).\n * @throws {TypeError} if the given value is not valid.\n */\nexport function route(value) {\n    let points;\n\n    if (typeof value.points !== 'undefined') {\n        points = value.points;\n    } else {\n        throw new TypeError('Invalid structure of the route object');\n    }\n\n    if (points && !(Array.isArray(points) && points.length > 2)) {\n        throw new TypeError('Provided route array ' +\n            points + ' is not valid. It should be an array with at least 2 points.');\n    }\n    points.forEach(checkPointObjectOrArray);\n    return value;\n}\n\nexport function supportingPoints(value) {\n    if (!Array.isArray(value)) {\n        throw new TypeError('Expecting array in supporting points validator');\n    }\n    if (!value.length || value.length < 2) {\n        throw new TypeError('There should be at least two supporting points');\n    }\n    return value;\n}\n\nexport function waitTimeSeconds(value) {\n    if (isNaN(value) || !isInteger(value) || !(value === 120 || (value >= 5 && value <= 60))) {\n        throw new TypeError('Invalid `waitTimeSeconds` parameter value. ' +\n        'Must be 120 or an integer between 5 and 60.');\n    }\n\n    return value;\n}\n\nexport function clientTime(value) {\n    return checkDateRfc3339(value, 'clientTime');\n}\n\nexport function dateTime(value) {\n    return checkDateRfc3339(value, 'dateTime');\n}\n\n/**\n * @ignore\n * Checks whether object-like fields definition matches\n * available fields.\n *\n * @param {String} value Object-like fields definition.\n * @returns {String} value Object-like fields definition.\n * @throws {TypeError} if given value not matches available fields.\n */\nexport function validIncidentDetailsV5Fields(value) {\n    const availableFields = convertFieldStringIntoObject(incidentDetailsAvailableFields);\n    const testFields = convertFieldStringIntoObject(value);\n\n    const recursiveComparer = (objToTest, objToCompare) => {\n        Object.keys(objToTest).forEach(function(key) {\n            if (objToCompare.hasOwnProperty(key) &&\n                (typeof objToTest[key] === typeof objToCompare[key])) {\n                if (typeof objToTest[key] === 'object') {\n                    recursiveComparer(objToTest[key], objToCompare[key]);\n                }\n            } else {\n                throw new TypeError(`Property ${key} not matches available fields: ` + incidentDetailsAvailableFields);\n            }\n        });\n    };\n    recursiveComparer(testFields, availableFields);\n\n    return value;\n}\n\nconst customEndpoints = [\n    'adpEndpoint',\n    'autocompleteEndpoint',\n    'batchRoutingEndpoint',\n    'batchSearchEndpoint',\n    'batchSyncRoutingEndpoint',\n    'batchSyncSearchEndpoint',\n    'calculateReachableRangeEndpoint',\n    'captionV2Endpoint',\n    'chargingAvailabilityEndpoint',\n    'copyrightsV2Endpoint',\n    'flowSegmentDataEndpoint',\n    'geocodeEndpoint',\n    'incidentDetailsV5Endpoint',\n    'incidentRegionsEndpoint',\n    'incidentViewportEndpoint',\n    'longDistanceEVRoutingEndpoint',\n    'matrixRoutingEndpoint',\n    'matrixSyncRoutingEndpoint',\n    'nearbySearchEndpoint',\n    'placeByIdEndpoint',\n    'poiCategoriesEndpoint',\n    'reverseGeocodeEndpoint',\n    'routingEndpoint',\n    'searchEndpoint',\n    'staticMapImageEndpoint',\n    'structuredGeocodeEndpoint'\n];\n\nconst customQueries = [\n    'batchAdpQueryEndpoint',\n    'batchChargingAvailabilityQueryEndpoint',\n    'batchNearbySearchQueryEndpoint',\n    'batchReachableRangeQueryEndpoint',\n    'batchReverseGeocodeQueryEndpoint',\n    'batchRoutingQueryEndpoint',\n    'batchSearchQueryEndpoint',\n    'batchStructuredGeocodeQueryEndpoint'\n];\n\nexport function validCustomEndpointsObject(value) {\n    try {\n        plainObject(value);\n\n        for (const endpointName in value) {\n            if (customEndpoints.includes(endpointName)) {\n                validCustomEndpoint(value[endpointName]);\n            } else if (customQueries.includes(endpointName)) {\n                validCustomQuery(value[endpointName]);\n            } else {\n                throw new TypeError('Endpoint name is expected to be one of supported values, but ' +\n                value + 'given');\n            }\n        }\n    } catch (error) {\n        throw new TypeError(`Invalid custom endpoints object. ${error.message}`);\n    }\n\n    return value;\n}\n\nexport function validCustomEndpoint(value) {\n    if (!isString(value)) {\n        throw new TypeError(`Invalid custom URL. A string URL is expected, ${value} [${typeof value}] given`);\n    }\n\n    const hasProtocolRegex = new RegExp(/(https:\\/\\/|http:\\/\\/).*/);\n    if (hasProtocolRegex.test(value)) {\n        throw new TypeError(`Invalid custom URL. URL without protocol (http/https) is expected, ${value} given`);\n    }\n\n    const tomtomDomainRegex = new RegExp(/^[0-9a-zA-Z-.]+(\\.tomtom\\.com)(\\/.*)?$/);\n    if (!tomtomDomainRegex.test(value)) {\n        throw new TypeError(`Invalid custom URL. URL in TomTom domain (*.tomtom.com) is expected, ${value} given`);\n    }\n\n    return value;\n}\n\nexport function validCustomQuery(value) {\n    if (!isString(value)) {\n        throw new TypeError(`Invalid custom query. A string URL is expected, ${value} [${typeof value}] given`);\n    }\n\n    const startingWithSlash = new RegExp(/^\\//);\n    if (!startingWithSlash.test(value)) {\n        throw new TypeError(`Invalid custom query. A string starting with / is expected, ${value} given`);\n    }\n\n    return value;\n}\n\nexport { keyValidator as key } from './validators/key';\nexport { numberValidator as number } from './validators/number';\nexport { oneOfValueValidator as oneOfValue } from './validators/oneOfValue';\n\n","import {isStringSinglePoint} from '../utils/pointUtils';\nimport has from 'lodash/has';\nimport isFunction from 'lodash/isFunction';\nimport isString from 'lodash/isString';\n\n/*\n * Class to convert points or arrays of points.\n *\n * By default, the points will be converted to {lon: 00, lat: 00} format.\n *\n * Points in the format [00.0, 00.0] are considered lon-lat points,\n * for lat-lon points set the option isLatLon to true;\n *\n * It is possible to convert the points to a custom format by passing a function in the options\n * as customPointConverter with params longitude and latitude - customPointConverter(longitude,latitude)\n */\nexport class PointFacade {\n\n    constructor(options = {}) {\n        this.options = options;\n    }\n\n    convert(data) {\n        if (this._isSinglePoint(data)) {\n            return this._convertPoint(data);\n        }\n        return this._convertToArrayOfPoints(data);\n    }\n\n    _isSinglePoint(data) {\n        if (Array.isArray(data)) {\n            if (data.length === 2 && typeof data[0] !== 'object') { // for [00, 00] points\n                return true;\n            }\n            return false;\n        }\n        if (isString(data)) {\n            const points = data.split(':');\n            if (points.length >= 2) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    _convertToArrayOfPoints(data) {\n        if (isString(data)) {\n            return data.split(':').map(this._convertPoint.bind(this));\n        }\n        return data.map(this._convertPoint.bind(this));\n    }\n\n    _convertPoint(point) {\n\n        // converts {lat: 00.0, lon: 00.0}\n        if (has(point, 'lat') && has(point, 'lon')) {\n            return this._covertToDefaultFormat(point.lon, point.lat);\n        }\n\n        // converts {latitude: 00.0, longitude: 00.0}\n        if (has(point, 'latitude') && has(point, 'longitude')) {\n            return this._covertToDefaultFormat(point.longitude, point.latitude);\n        }\n\n        // converts {x: 00.0, y: 00.0} x === longitude, y === latitude\n        if (has(point, 'x') && has(point, 'y')) {\n            return this._covertToDefaultFormat(point.x, point.y);\n        }\n\n        // converts [00.0, 00.0]\n        if (Array.isArray(point) && point.length === 2) {\n            if (this.options.isLatLon) {\n                return this._covertToDefaultFormat(point[1], point[0]);\n            }\n            return this._covertToDefaultFormat(point[0], point[1]);\n        }\n\n        // converts \"00.000,00.000\"\n        if (isString(point)) {\n            return this._convertStringPoint(point);\n        }\n\n        return point;\n    }\n\n    _convertStringPoint(point) {\n        const p = point.split(',');\n\n        if (!isStringSinglePoint(point) || p.length !== 2) {\n            throw new Error('The point is not valid: ' + point);\n        }\n\n        if (this.options.isLatLon) {\n            return this._covertToDefaultFormat(p[1], p[0]);\n        }\n        return this._covertToDefaultFormat(p[0], p[1]);\n    }\n\n    _covertToDefaultFormat(longitude, latitude) {\n        if ((!longitude && longitude !== 0) || (!latitude && latitude !== 0)) {\n            throw new Error('Longitude and latitude must be provided.');\n        }\n        if (isFunction(this.options.customPointConverter)) {\n            return this.options.customPointConverter(longitude, latitude);\n        }\n        return {\n            lng: parseFloat(longitude),\n            lat: parseFloat(latitude)\n        };\n    }\n}\n","export const isStringSinglePoint = stringPoint => {\n    if (/^-?\\d+(\\.\\d+)?,-?\\d+(\\.\\d+)?$/.test(stringPoint)) {\n        return true;\n    }\n    return false;\n};\n","import {PointFacade} from './pointFacade';\nimport isNil from 'lodash/isNil';\nimport isObject from 'lodash/isObject';\n\nconst pointFacade = new PointFacade();\n\nexport const convertResponsePoints = (elem) => {\n    if (!elem) {\n        return;\n    }\n\n    if (elem.boundingBox) {\n        elem.boundingBox.btmRightPoint = pointFacade.convert(elem.boundingBox.btmRightPoint);\n        elem.boundingBox.topLeftPoint = pointFacade.convert(elem.boundingBox.topLeftPoint);\n    }\n    if (elem.viewport) {\n        elem.viewport.btmRightPoint = pointFacade.convert(elem.viewport.btmRightPoint);\n        elem.viewport.topLeftPoint = pointFacade.convert(elem.viewport.topLeftPoint);\n    }\n    if (elem.position) {\n        elem.position = pointFacade.convert(elem.position);\n    }\n    if (elem.summary && elem.summary.geoBias) {\n        elem.summary.geoBias = pointFacade.convert(elem.summary.geoBias);\n    }\n};\n\nexport const setProperty = (properties, propertyName, value) => {\n    if (!isNil(value)) {\n        properties[propertyName] = value;\n    }\n};\n\nexport const newFeature = (properties, type) => {\n    return {\n        type: 'Feature',\n        geometry: {type, coordinates: []},\n        properties: properties\n    };\n};\n\nexport const newFeatureCollection = () => {\n    return {\n        type: 'FeatureCollection',\n        features: []\n    };\n};\n\nexport const getFeature = (data) => {\n    const properties = {};\n    properties.id = data.id;\n\n    if (isObject(data)) {\n        Object.keys(data).forEach(name => {\n            setProperty(properties, name, data[name]);\n        });\n    }\n\n    const feature = newFeature(properties, 'Point');\n    feature.geometry.coordinates = [data.position.lng, data.position.lat];\n\n    return feature;\n};\n\nexport const toGeoJson = (data) => {\n    const result = newFeatureCollection();\n\n    for (let i = 0; i < data.results.length; i++) {\n        const feature = getFeature(data.results[i]);\n        result.features.push(feature);\n    }\n    return result;\n};\n","import { convertResponsePoints, toGeoJson } from '../modelUtils';\n\nfunction convertEntryPoints(element) {\n    if (element && element.entryPoints && Array.isArray(element.entryPoints)) {\n        element.entryPoints.forEach(entryPoint => {\n            convertResponsePoints(entryPoint);\n        });\n    }\n}\n\nexport function searchModel(data) {\n    if (!data) {\n        return data;\n    }\n    // converts location points\n    if (Array.isArray(data.results)) {\n        data.results.forEach(result => {\n            if (Array.isArray(result)) {\n                result.forEach(r => {\n                    convertResponsePoints(r);\n                    convertEntryPoints(r);\n                });\n            } else {\n                convertResponsePoints(result);\n                convertEntryPoints(result);\n            }\n        });\n    } else {\n        convertResponsePoints(data);\n        convertEntryPoints(data);\n    }\n\n    return Object.assign(data, {\n        toGeoJson: () => toGeoJson(data)\n    });\n}\n","import {searchModel} from './search';\n\nexport function batchModel(data) {\n    if (!Array.isArray(data.batchItems)) {\n        return null;\n    }\n\n    data.batchItems = data.batchItems.map((batchItem) => {\n        if (batchItem.response.error) {\n            return { error: batchItem.response.error};\n        } else {\n            return searchModel(batchItem.response);\n        }\n    });\n\n    return data;\n}\n","\nexport default {\n    POST: 'POST',\n    PATH: 'PATH',\n    QUERY: 'QUERY',\n    OTHER: 'OTHER',\n    HEADER: 'HEADER'\n};\n","export function modelResponse({ data, trackingId }, modelCallback) {\n    const modeledResponseData = typeof data === 'string' ? { data } : { ...data };\n    const modeledResponse = modelCallback ? modelCallback(data) : modeledResponseData;\n    modeledResponse.getTrackingId = () => trackingId || null;\n\n    return modeledResponse;\n}\n","import mainConfig from 'mainConfig';\n\nexport const copyrightsV2Endpoint = mainConfig['endpoints.copyrightsV2'];\nexport const captionV2Endpoint = mainConfig['endpoints.captionV2'];\n\n//Search\nexport const batchSearchEndpoint = mainConfig['endpoints.batchSearch'];\nexport const batchSyncSearchEndpoint = mainConfig['endpoints.batchSyncSearch'];\nexport const batchSearchQueryEndpoint = mainConfig['endpoints.batchSearchQuery'];\nexport const geocodeEndpoint = mainConfig['endpoints.geocode'];\nexport const reverseGeocodeEndpoint = mainConfig['endpoints.reverseGeocode'];\nexport const batchReverseGeocodeQueryEndpoint = mainConfig['endpoints.batchReverseGeocodeQuery'];\nexport const structuredGeocodeEndpoint = mainConfig['endpoints.structuredGeocode'];\nexport const searchEndpoint = mainConfig['endpoints.search'];\nexport const batchStructuredGeocodeQueryEndpoint = mainConfig['endpoints.batchStructuredGeocodeQuery'];\nexport const adpEndpoint = mainConfig['endpoints.adp'];\nexport const batchAdpQueryEndpoint = mainConfig['endpoints.batchAdpQuery'];\nexport const nearbySearchEndpoint = mainConfig['endpoints.nearbySearch'];\nexport const batchNearbySearchQueryEndpoint = mainConfig['endpoints.batchNearbySearchQuery'];\nexport const autocompleteEndpoint = mainConfig['endpoints.autocomplete'];\nexport const poiCategoriesEndpoint = mainConfig['endpoints.poiCategories'];\nexport const chargingAvailabilityEndpoint = mainConfig['endpoints.chargingAvailability'];\nexport const batchChargingAvailabilityQueryEndpoint = mainConfig['endpoints.batchChargingAvailabilityQuery'];\nexport const placeByIdEndpoint = mainConfig['endpoints.placeById'];\n\n//Routing\nexport const routingEndpoint = mainConfig['endpoints.routing'];\nexport const calculateReachableRangeEndpoint = mainConfig['endpoints.calculateReachableRange'];\nexport const batchRoutingQueryEndpoint = mainConfig['endpoints.batchRoutingQuery'];\nexport const batchRoutingEndpoint = mainConfig['endpoints.batchRouting'];\nexport const batchSyncRoutingEndpoint = mainConfig['endpoints.batchSyncRouting'];\nexport const matrixRoutingEndpoint = mainConfig['endpoints.matrixRouting'];\nexport const matrixSyncRoutingEndpoint = mainConfig['endpoints.matrixSyncRouting'];\nexport const batchReachableRangeQueryEndpoint = mainConfig['endpoints.batchReachableRangeQuery'];\nexport const longDistanceEVRoutingEndpoint = mainConfig['endpoints.longDistanceEVRouting'];\n\n//traffic\nexport const incidentDetailsV5Endpoint = mainConfig['endpoints.incidentDetailsV5'];\nexport const incidentViewportEndpoint = mainConfig['endpoints.incidentViewport'];\nexport const flowSegmentDataEndpoint = mainConfig['endpoints.flowSegmentData'];\nexport const incidentRegionsEndpoint = mainConfig['endpoints.incidentRegions'];\n\n//layers\nexport const trafficLayerEndpoint = mainConfig['endpoints.trafficLayer'];\nexport const rasterTrafficFlowTilesLayerEndpoint = mainConfig['endpoints.rasterTrafficFlowTilesLayer'];\nexport const vectorTrafficFlowTilesLayerEndpoint = mainConfig['endpoints.vectorTrafficFlowTilesLayer'];\nexport const tileLayerEndpoint = mainConfig['endpoints.tileLayer'];\n\nexport const staticMapImageEndpoint = mainConfig['endpoints.staticImage'];\nexport const origin = mainConfig.origin;\n","/* eslint-disable max-len */\n\nimport * as defaultEndpoints from './endpoints';\nimport { validCustomEndpoint, validCustomEndpointsObject } from '../services/validators';\n\n/**\n * @ignore\n * Resolves endpoint by given name. Enables use of custom domain or endpoint.\n *\n * To use custom domain set it with `additionalOptions.customDomain` attribute.\n * @example\n * ```js\n * const options = {\n *   key: 'your-key'\n * };\n * const additionalOptions = {\n *   customDomain: 'custom-domain.tomtom.com'\n * }\n * tt.services.copyrightsV2(options, additionalOptions)\n *   .then(successCallback)\n *   .catch(errorCallback);\n * ```\n *\n * To replace entire endpoint set it with 'additionalOptions.customEndpoints' object.\n * Key describes which endpoint you want to change, value should be endpoint string.\n * @example\n * ```js\n * const options = {\n *   key: 'your-key',\n *   ...\n * };\n * const additionalOptions = {\n *   customEndpoints: {\n *     routingEndpoint: 'custom.tomtom.com/routing-custom/1/calculateRoute/{locations}/{contentType}'\n *   }\n * }\n * tt.services.calculateRoute(options, additionalOptions)\n *   .then(successCallback)\n *   .catch(errorCallback);\n * ```\n *\n * In both cases provide URL without protocol prefix (http/https). URL must be in TomTom domain (*.tomtom.com).\n * If `customDomain` and `customEndpoints` will be provided together, `customDomain` won't affect\n * endpooints set using customEndpoints.\n *\n * List of methods and endpoints that may be replaced using customEndpoints option ([key]: url):\n * For default value please check ./endpoints.js file and corresponding URL in mainConfig.js in root directory.\n *\n * tt.services.additionalData: adpEndpoint; batch requests: batchAdpQueryEndpoint, batchSyncSearchEndpoint, batchSearchEndpoint\n * tt.services.alongRouteSearch: searchEndpoint; batch requests: batchSearchQueryEndpoint, batchSyncSearchEndpoint, batchSearchEndpoint\n * tt.services.autocomplete: autocompleteEndpoint\n * tt.services.calculateReachableRange: calculateReachableRangeEndpoint; batch requests: batchSyncRoutingEndpoint, batchRoutingEndpoint, batchReachableRangeQueryEndpoint\n * tt.services.calculateRoute: routingEndpoint; batch requests: batchSyncRoutingEndpoint, batchRoutingEndpoint, batchRoutingQueryEndpoint\n * tt.services.categorySearch: searchEndpoint; batch requests: batchSearchQueryEndpoint, batchSyncSearchEndpoint, batchSearchEndpoint\n * tt.services.copyrightsCaptionV2: captionV2Endpoint\n * tt.services.copyrightsV2: copyrightsV2Endpoint\n * tt.services.crossStreetLookup: reverseGeocodeEndpoint; batch requests: batchReverseGeocodeQueryEndpoint, batchSearchEndpoint, batchSyncSearchEndpoint\n * tt.services.evChargingStationsAvailability: chargingAvailabilityEndpoint; batch requests: batchChargingAvailabilityQueryEndpoint, batchSyncSearchEndpoint, batchSearchEndpoint\n * tt.services.fuzzySearch: searchEndpoint; batch requests: batchSearchQueryEndpoint, batchSyncSearchEndpoint, batchSearchEndpoint\n * tt.services.geocode: geocodeEndpoint; batch requests: batchSearchQueryEndpoint, batchSyncSearchEndpoint, batchSearchEndpoint\n * tt.services.geometrySearch: searchEndpoint; batch requests: batchSearchQueryEndpoint, batchSyncSearchEndpoint, batchSearchEndpoint\n * tt.services.incidentDetailsV5: incidentDetailsV5Endpoint\n * tt.services.incidentViewport: incidentViewportEndpoint\n * tt.services.longDistanceEVRouting: longDistanceEVRoutingEndpoint\n * tt.services.matrixRouting: matrixSyncRoutingEndpoint, matrixRoutingEndpoint\n * tt.services.nearbySearch: nearbySearchEndpoint; batch requests: batchNearbySearchQueryEndpoint, batchSyncSearchEndpoint, batchSearchEndpoint\n * tt.services.placeById: placeByIdEndpoint\n * tt.services.poiCategories: poiCategoriesEndpoint\n * tt.services.poiSearch: searchEndpoint; batch requests: batchSearchQueryEndpoint, batchSyncSearchEndpoint, batchSearchEndpoint\n * tt.services.reverseGeocode: reverseGeocodeEndpoint; batch requests: batchReverseGeocodeQueryEndpoint, batchSearchEndpoint, batchSyncSearchEndpoint\n * tt.services.staticImage: staticMapImageEndpoint\n * tt.services.structuredGeocode: structuredGeocodeEndpoint; batch requests: batchStructuredGeocodeQueryEndpoint, batchSearchEndpoint, batchSyncSearchEndpoint\n * tt.services.trafficFlowSegmentData: flowSegmentDataEndpoint\n */\nexport class Endpoints {\n    constructor(additionalOptions) {\n        if (additionalOptions?.customEndpoints !== undefined) {\n            this._customEndpoints = validCustomEndpointsObject(additionalOptions.customEndpoints);\n        }\n        if (additionalOptions?.customDomain !== undefined) {\n            this._customDomain = validCustomEndpoint(additionalOptions.customDomain);\n            this._customDomain = this._customDomain.replace(new RegExp(/\\/$/), '');\n        }\n    }\n\n    resolve(endpointName) {\n        if (this._customEndpoints?.[endpointName] !== undefined) {\n            return this._customEndpoints[endpointName];\n        }\n\n        const defaultEndpoint = defaultEndpoints[endpointName];\n        if (this._customDomain !== undefined) {\n            return this._changeDomain(defaultEndpoint, this._customDomain);\n        }\n\n        return defaultEndpoint;\n    }\n\n    _changeDomain(endpointUrl, newDomain) {\n        return endpointUrl.replace(defaultEndpoints.origin, newDomain);\n    }\n}\n","export default class ValidationError extends Error {\n    constructor(errors, ...params) {\n        super(...params);\n\n        // Maintains proper stack trace for where our error was thrown (only available on V8)\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, ValidationError);\n        }\n        let consolidatedErrorMessages = '\\n';\n        errors.forEach(element => {\n            consolidatedErrorMessages += element.message + '\\n';\n        });\n\n        this.errors = errors;\n        this.message = 'Validation errors occured: ' + consolidatedErrorMessages;\n    }\n}\n","import isFunction from 'lodash/isFunction';\n\nconst dateRegex = /^\\d{4}[\\/-]\\d{1,2}[\\/-]\\d{1,2}$/; // eslint-disable-line\n\nexport default class Field {\n    constructor({validators, converters, required, defaultValue, deprecationDate}) {\n        Object.assign(this, {validators, converters, required, defaultValue, deprecationDate});\n\n        this._validateFields();\n    }\n\n    _isArrayOfFunctions(array) {\n        if (!Array.isArray(array)) {\n            return false;\n        }\n\n        for (let i = 0; i < array.length; i++) {\n            if (!isFunction(array[i])) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    _validateFields() {\n        if (this.validators === null || (this.validators && !this._isArrayOfFunctions(this.validators))) {\n            throw new Error('Validators are not an array of functions.');\n        }\n        if (this.converters === null || (this.converters && !this._isArrayOfFunctions(this.converters))) {\n            throw new Error('Converters are not an array of functions.');\n        }\n        if (!(this.required === undefined || typeof this.required === 'boolean')) {\n            throw new Error('Required must be a Boolean.');\n        }\n        if (this.deprecationDate &&\n            (Number.isNaN(Date.parse(this.deprecationDate)) || !dateRegex.test(this.deprecationDate))) {\n            throw new Error('deprecationDate must contain a valid date');\n        }\n    }\n\n    getDefaultValue() {\n        if (isFunction(this.defaultValue)) {\n            return this.defaultValue();\n        }\n\n        return this.defaultValue;\n    }\n\n    getConverters() {\n        return this.converters ? this.converters : [];\n    }\n\n    getValidators() {\n        return this.validators ? this.validators : [];\n    }\n\n    getDeprecationDate() {\n        return this.deprecationDate;\n    }\n\n    isRequired() {\n        return this.required === true;\n    }\n}\n\nexport function field(options) {\n    return new Field(options);\n}\n","import isNil from 'lodash/isNil';\n\n// import * as isNil from 'lodash.isnil';\nclass DeprecationHandler {\n    constructor() {\n        this.log = {};\n    }\n\n    _isLogPrinted(serviceName, name) {\n        const serviceLog = this.log[serviceName];\n        if (serviceLog) {\n            return serviceLog[name];\n        }\n\n        return false;\n    }\n\n    _setLog(serviceName, name) {\n        this.log[serviceName] = this.log[serviceName] || {};\n        this.log[serviceName][name] = true;\n    }\n\n    _displayWarning(name, date, serviceName) {\n        const isPastCurrentDate = Date.now() > Date.parse(date);\n        const serviceNameMsg = serviceName !== 'default' ? `(used in ${serviceName}) ` : '';\n\n        if (isPastCurrentDate) {\n            console.error(`[DEPRECATION WARNING] The parameter '${name}' ${serviceNameMsg} deprecation period ` +\n            'has ended. It is recommended to stop using it as it may stop working. ' +\n            'Please refer to https://developer.tomtom.com/maps-sdk-web-js/documentation for more information');\n        } else {\n            console.warn(`[DEPRECATION NOTICE] The parameter '${name}' ${serviceNameMsg}is deprecated. ` +\n                `By ${date} we can not guarantee that it will continue to work. ` +\n                'Please refer to https://developer.tomtom.com/maps-sdk-web-js/documentation for more information');\n        }\n\n    }\n\n    checkDeprecation(name, date, serviceName = 'default') {\n        if (isNil(name) || isNil(date) || this._isLogPrinted(serviceName, name)) {\n            return;\n        }\n\n        this._displayWarning(name, date, serviceName);\n        this._setLog(serviceName, name);\n    }\n\n}\n\nexport default new DeprecationHandler();\n","import ValidationError from '../error/ValidationError';\nimport Field from '../model/Field';\nimport isNil from 'lodash/isNil';\nimport deprecationHandler from './deprecationHandler';\nimport { trackingId as validateTrackingId } from './validators';\nimport { v4 as uuid } from 'uuid';\nimport {keyValidator} from './validators/key';\nimport {oneOfValueValidator} from './validators/oneOfValue';\nimport {numberValidator} from './validators/number';\n\nconst runValidators = (value, validators, params, key) => {\n    const errors = [];\n\n    for (const validator of validators) {\n        try {\n            validator(value, params, key);\n        } catch (error) {\n            errors.push(error);\n        }\n    }\n    return errors;\n};\n\nconst convertToFields = (fields) => {\n    const convertedFields = {};\n    for (const [key, field] of Object.entries(fields)) {\n        convertedFields[key] = new Field(field);\n    }\n    return convertedFields;\n};\n\nconst internalValidator = (fields, params = {}, serviceName) => {\n    const convertedFields = convertToFields(fields);\n    let errors = [];\n    for (const [name, field] of Object.entries(convertedFields)) {\n        const value = params[name];\n        const isRequiredFieldMissing = isNil(value) && field.isRequired();\n        const isAppliedForAll = name === '__all';\n\n        if (isRequiredFieldMissing) {\n            errors.push(new Error(`${name} is a required field.`));\n        } else if (!isNil(value) || isAppliedForAll) { // runs validators for the given field)\n            deprecationHandler.checkDeprecation(name, field.getDeprecationDate(), serviceName);\n\n            const validationErrors = runValidators(value, field.getValidators(), params, name);\n            errors = [...errors, ...validationErrors];\n        }\n    }\n    return errors;\n};\n\n/**\n * Receives a list of fields and parameters and converts them according to the converters\n * defined. It also sets the default value when the field is undefined.\n *\n * @method convert\n * @private\n * @param {Object} [fields] Object containing the fields and their converters.\n * @param {Object} [params] Object containing the params and their values.\n * @param {Object} [serviceType] Service type - required for some converters.\n * @returns {Object} Converted values.\n */\nexport const convert = (fields, params = {}, serviceType) => {\n    const convertedFields = convertToFields(fields);\n    const converted = {};\n    for (const [name, field] of Object.entries(convertedFields)) {\n        const defaultValue = field.getDefaultValue();\n        let fieldValue = params[name];\n        if (isNil(fieldValue) || fieldValue === '') {\n            if (!isNil(defaultValue)) {\n                fieldValue = defaultValue;\n            } else {\n                continue;\n            }\n        }\n        const converters = field.getConverters();\n        converted[name] = converters.reduce((value, converter) => {\n            return converter(value, serviceType);\n        }, fieldValue);\n    }\n    return converted;\n};\n\n/**\n * Responsible for processing batch items. It validates and converts them and it returns\n * the properties and the errors.\n *\n * @method processBatchItems\n * @private\n * @param {Object} [fields] Object containing the fields, their validators and converters, and if they\n * are required.\n * @param {Object} [params] Object containing the parameters and their values.\n * @param {String} [serviceType] ServiceType.\n * @param {String} [serviceName] serviceName.\n * @returns {Object} Batch properties and errors.\n */\nfunction processBatchItems(fields, params, serviceType, serviceName) {\n    const batchProperties = {};\n    let batchErrors = [];\n\n    if (fields.batchItems && params.batchItems) {\n        batchProperties.batchItems = params.batchItems.map((param) => {\n            const convertedField = convert(fields.batchItems, param, serviceType);\n            batchErrors = batchErrors.concat(internalValidator(fields.batchItems, convertedField, serviceName));\n            return convertedField;\n        });\n        if (params.batchMode) {\n            batchProperties.batchMode =\n                oneOfValueValidator(['sync', 'async', 'redirect'], 'batchMode')(params.batchMode);\n        }\n        if (params.key) {\n            batchProperties.key = keyValidator(params.key);\n        }\n        batchProperties.trackingId = params.trackingId ? validateTrackingId(params.trackingId) : uuid();\n        if (params.waitTimeSeconds) {\n            numberValidator(params.waitTimeSeconds);\n\n            if (!(params.waitTimeSeconds === 120 || (params.waitTimeSeconds >= 5 && params.waitTimeSeconds <= 60))) {\n                throw new Error('Invalid `waitTimeSeconds` parameter value. ' +\n                'Must be 120 or an integer between 5 and 60.');\n            }\n\n            batchProperties.waitTimeSeconds = params.waitTimeSeconds;\n        }\n    }\n\n    return { batchProperties, batchErrors };\n}\n\n/**\n * Receives a list of fields and parameters, validates and converts them according to the validators and\n * converters defined.\n * It also sets the API Key if defined.\n *\n * @method goPrototype\n * @private\n * @param {Object} [fields] Object containing the fields, their validators and converters, and if they\n * are required.\n * @param {Object} [params] Object containing the parameters and their values.\n * @param {String} [serviceType] ServiceType.\n * @param {String} [serviceName] serviceName.\n * @param {Function} [callback] Callback.\n * @param {Object} [abortSignal] abortSignal generated with Abort Controller.\n * @returns {Object} Validated and converted values.\n */\nexport async function goPrototype(fields, params = {}, serviceType, serviceName, callback, abortSignal) {\n    let converted = convert(fields, params, serviceType);\n    let errors = internalValidator(fields, converted, serviceName);\n\n    if (fields.batchItems && params.batchItems) {\n        const { batchProperties, batchErrors } = processBatchItems(fields, params, serviceType, serviceName);\n        converted = { ...converted, ...batchProperties };\n        errors = errors.concat(batchErrors);\n    }\n\n    if (errors.length) {\n        throw new ValidationError(errors);\n    }\n    return callback(converted, abortSignal);\n}\n","import { goPrototype } from './service';\nimport isFunction from 'lodash/isFunction';\n\nexport function serviceFactory(fields, serviceType, serviceName, handleServiceCall, handleBatchServiceCall) {\n    const batchFields = {\n        batchItems: fields\n    };\n\n    return (options = {}, additionalOptions = {}) => {\n        let serviceCall = handleServiceCall;\n        let opt = options;\n        let serviceFields = fields;\n\n        if (options.batchItems && isFunction(handleBatchServiceCall)) {\n            opt = {\n                trackingId: options.trackingId,\n                batchMode: options.batchMode,\n                waitTimeSeconds: options.waitTimeSeconds,\n                batchItems: options.batchItems,\n                key: options.key\n            };\n            serviceCall = handleBatchServiceCall;\n            serviceFields = batchFields;\n        }\n\n        return goPrototype(\n            serviceFields,\n            opt,\n            serviceType,\n            serviceName,\n            serviceCall,\n            additionalOptions.abortSignal\n        );\n    };\n}\n","import isFunction from 'lodash/isFunction';\nimport isUndefined from 'lodash/isUndefined';\n\nexport default function(template, values) {\n    return template.replace(/\\{ *([\\w_]+) *\\}/g, (_, key) => {\n        let value = values[key];\n\n        if (isUndefined(value)) {\n            return '{' + key + '}';\n        }\n\n        if (isFunction(value)) {\n            value = value(key);\n        }\n\n        return key === 'query' ? encodeURIComponent(value) : value;\n    });\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:http\");","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:https\");","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:zlib\");","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:stream\");","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:buffer\");","/**\n * Returns a `Buffer` instance from the given data URI `uri`.\n *\n * @param {String} uri Data URI to turn into a Buffer instance\n * @returns {Buffer} Buffer instance from Data URI\n * @api public\n */\nexport function dataUriToBuffer(uri) {\n    if (!/^data:/i.test(uri)) {\n        throw new TypeError('`uri` does not appear to be a Data URI (must begin with \"data:\")');\n    }\n    // strip newlines\n    uri = uri.replace(/\\r?\\n/g, '');\n    // split the URI up into the \"metadata\" and the \"data\" portions\n    const firstComma = uri.indexOf(',');\n    if (firstComma === -1 || firstComma <= 4) {\n        throw new TypeError('malformed data: URI');\n    }\n    // remove the \"data:\" scheme and parse the metadata\n    const meta = uri.substring(5, firstComma).split(';');\n    let charset = '';\n    let base64 = false;\n    const type = meta[0] || 'text/plain';\n    let typeFull = type;\n    for (let i = 1; i < meta.length; i++) {\n        if (meta[i] === 'base64') {\n            base64 = true;\n        }\n        else {\n            typeFull += `;${meta[i]}`;\n            if (meta[i].indexOf('charset=') === 0) {\n                charset = meta[i].substring(8);\n            }\n        }\n    }\n    // defaults to US-ASCII only if type is not provided\n    if (!meta[0] && !charset.length) {\n        typeFull += ';charset=US-ASCII';\n        charset = 'US-ASCII';\n    }\n    // get the encoded data portion and decode URI-encoded chars\n    const encoding = base64 ? 'base64' : 'ascii';\n    const data = unescape(uri.substring(firstComma + 1));\n    const buffer = Buffer.from(data, encoding);\n    // set `.type` and `.typeFull` properties to MIME type\n    buffer.type = type;\n    buffer.typeFull = typeFull;\n    // set the `.charset` property\n    buffer.charset = charset;\n    return buffer;\n}\nexport default dataUriToBuffer;\n//# sourceMappingURL=index.js.map","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:util\");","export class FetchBaseError extends Error {\n\tconstructor(message, type) {\n\t\tsuper(message);\n\t\t// Hide custom error implementation details from end-users\n\t\tError.captureStackTrace(this, this.constructor);\n\n\t\tthis.type = type;\n\t}\n\n\tget name() {\n\t\treturn this.constructor.name;\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn this.constructor.name;\n\t}\n}\n","\nimport {FetchBaseError} from './base.js';\n\n/**\n * @typedef {{ address?: string, code: string, dest?: string, errno: number, info?: object, message: string, path?: string, port?: number, syscall: string}} SystemError\n*/\n\n/**\n * FetchError interface for operational errors\n */\nexport class FetchError extends FetchBaseError {\n\t/**\n\t * @param  {string} message -      Error message for human\n\t * @param  {string} [type] -        Error type for machine\n\t * @param  {SystemError} [systemError] - For Node.js system error\n\t */\n\tconstructor(message, type, systemError) {\n\t\tsuper(message, type);\n\t\t// When err.type is `system`, err.erroredSysCall contains system error and err.code contains system error code\n\t\tif (systemError) {\n\t\t\t// eslint-disable-next-line no-multi-assign\n\t\t\tthis.code = this.errno = systemError.code;\n\t\t\tthis.erroredSysCall = systemError.syscall;\n\t\t}\n\t}\n}\n","/**\n * Is.js\n *\n * Object type checks.\n */\n\nconst NAME = Symbol.toStringTag;\n\n/**\n * Check if `obj` is a URLSearchParams object\n * ref: https://github.com/node-fetch/node-fetch/issues/296#issuecomment-307598143\n * @param {*} object - Object to check for\n * @return {boolean}\n */\nexport const isURLSearchParameters = object => {\n\treturn (\n\t\ttypeof object === 'object' &&\n\t\ttypeof object.append === 'function' &&\n\t\ttypeof object.delete === 'function' &&\n\t\ttypeof object.get === 'function' &&\n\t\ttypeof object.getAll === 'function' &&\n\t\ttypeof object.has === 'function' &&\n\t\ttypeof object.set === 'function' &&\n\t\ttypeof object.sort === 'function' &&\n\t\tobject[NAME] === 'URLSearchParams'\n\t);\n};\n\n/**\n * Check if `object` is a W3C `Blob` object (which `File` inherits from)\n * @param {*} object - Object to check for\n * @return {boolean}\n */\nexport const isBlob = object => {\n\treturn (\n\t\tobject &&\n\t\ttypeof object === 'object' &&\n\t\ttypeof object.arrayBuffer === 'function' &&\n\t\ttypeof object.type === 'string' &&\n\t\ttypeof object.stream === 'function' &&\n\t\ttypeof object.constructor === 'function' &&\n\t\t/^(Blob|File)$/.test(object[NAME])\n\t);\n};\n\n/**\n * Check if `obj` is an instance of AbortSignal.\n * @param {*} object - Object to check for\n * @return {boolean}\n */\nexport const isAbortSignal = object => {\n\treturn (\n\t\ttypeof object === 'object' && (\n\t\t\tobject[NAME] === 'AbortSignal' ||\n\t\t\tobject[NAME] === 'EventTarget'\n\t\t)\n\t);\n};\n\n/**\n * isDomainOrSubdomain reports whether sub is a subdomain (or exact match) of\n * the parent domain.\n *\n * Both domains must already be in canonical form.\n * @param {string|URL} original\n * @param {string|URL} destination\n */\nexport const isDomainOrSubdomain = (destination, original) => {\n\tconst orig = new URL(original).hostname;\n\tconst dest = new URL(destination).hostname;\n\n\treturn orig === dest || orig.endsWith(`.${dest}`);\n};\n\n/**\n * isSameProtocol reports whether the two provided URLs use the same protocol.\n *\n * Both domains must already be in canonical form.\n * @param {string|URL} original\n * @param {string|URL} destination\n */\nexport const isSameProtocol = (destination, original) => {\n\tconst orig = new URL(original).protocol;\n\tconst dest = new URL(destination).protocol;\n\n\treturn orig === dest;\n};\n","\n/**\n * Body.js\n *\n * Body interface provides common methods for Request and Response\n */\n\nimport Stream, {PassThrough} from 'node:stream';\nimport {types, deprecate, promisify} from 'node:util';\nimport {Buffer} from 'node:buffer';\n\nimport Blob from 'fetch-blob';\nimport {FormData, formDataToBlob} from 'formdata-polyfill/esm.min.js';\n\nimport {FetchError} from './errors/fetch-error.js';\nimport {FetchBaseError} from './errors/base.js';\nimport {isBlob, isURLSearchParameters} from './utils/is.js';\n\nconst pipeline = promisify(Stream.pipeline);\nconst INTERNALS = Symbol('Body internals');\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nexport default class Body {\n\tconstructor(body, {\n\t\tsize = 0\n\t} = {}) {\n\t\tlet boundary = null;\n\n\t\tif (body === null) {\n\t\t\t// Body is undefined or null\n\t\t\tbody = null;\n\t\t} else if (isURLSearchParameters(body)) {\n\t\t\t// Body is a URLSearchParams\n\t\t\tbody = Buffer.from(body.toString());\n\t\t} else if (isBlob(body)) {\n\t\t\t// Body is blob\n\t\t} else if (Buffer.isBuffer(body)) {\n\t\t\t// Body is Buffer\n\t\t} else if (types.isAnyArrayBuffer(body)) {\n\t\t\t// Body is ArrayBuffer\n\t\t\tbody = Buffer.from(body);\n\t\t} else if (ArrayBuffer.isView(body)) {\n\t\t\t// Body is ArrayBufferView\n\t\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t\t} else if (body instanceof Stream) {\n\t\t\t// Body is stream\n\t\t} else if (body instanceof FormData) {\n\t\t\t// Body is FormData\n\t\t\tbody = formDataToBlob(body);\n\t\t\tboundary = body.type.split('=')[1];\n\t\t} else {\n\t\t\t// None of the above\n\t\t\t// coerce to string then buffer\n\t\t\tbody = Buffer.from(String(body));\n\t\t}\n\n\t\tlet stream = body;\n\n\t\tif (Buffer.isBuffer(body)) {\n\t\t\tstream = Stream.Readable.from(body);\n\t\t} else if (isBlob(body)) {\n\t\t\tstream = Stream.Readable.from(body.stream());\n\t\t}\n\n\t\tthis[INTERNALS] = {\n\t\t\tbody,\n\t\t\tstream,\n\t\t\tboundary,\n\t\t\tdisturbed: false,\n\t\t\terror: null\n\t\t};\n\t\tthis.size = size;\n\n\t\tif (body instanceof Stream) {\n\t\t\tbody.on('error', error_ => {\n\t\t\t\tconst error = error_ instanceof FetchBaseError ?\n\t\t\t\t\terror_ :\n\t\t\t\t\tnew FetchError(`Invalid response body while trying to fetch ${this.url}: ${error_.message}`, 'system', error_);\n\t\t\t\tthis[INTERNALS].error = error;\n\t\t\t});\n\t\t}\n\t}\n\n\tget body() {\n\t\treturn this[INTERNALS].stream;\n\t}\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t}\n\n\t/**\n\t * Decode response as ArrayBuffer\n\t *\n\t * @return  Promise\n\t */\n\tasync arrayBuffer() {\n\t\tconst {buffer, byteOffset, byteLength} = await consumeBody(this);\n\t\treturn buffer.slice(byteOffset, byteOffset + byteLength);\n\t}\n\n\tasync formData() {\n\t\tconst ct = this.headers.get('content-type');\n\n\t\tif (ct.startsWith('application/x-www-form-urlencoded')) {\n\t\t\tconst formData = new FormData();\n\t\t\tconst parameters = new URLSearchParams(await this.text());\n\n\t\t\tfor (const [name, value] of parameters) {\n\t\t\t\tformData.append(name, value);\n\t\t\t}\n\n\t\t\treturn formData;\n\t\t}\n\n\t\tconst {toFormData} = await import('./utils/multipart-parser.js');\n\t\treturn toFormData(this.body, ct);\n\t}\n\n\t/**\n\t * Return raw response as Blob\n\t *\n\t * @return Promise\n\t */\n\tasync blob() {\n\t\tconst ct = (this.headers && this.headers.get('content-type')) || (this[INTERNALS].body && this[INTERNALS].body.type) || '';\n\t\tconst buf = await this.arrayBuffer();\n\n\t\treturn new Blob([buf], {\n\t\t\ttype: ct\n\t\t});\n\t}\n\n\t/**\n\t * Decode response as json\n\t *\n\t * @return  Promise\n\t */\n\tasync json() {\n\t\tconst text = await this.text();\n\t\treturn JSON.parse(text);\n\t}\n\n\t/**\n\t * Decode response as text\n\t *\n\t * @return  Promise\n\t */\n\tasync text() {\n\t\tconst buffer = await consumeBody(this);\n\t\treturn new TextDecoder().decode(buffer);\n\t}\n\n\t/**\n\t * Decode response as buffer (non-spec api)\n\t *\n\t * @return  Promise\n\t */\n\tbuffer() {\n\t\treturn consumeBody(this);\n\t}\n}\n\nBody.prototype.buffer = deprecate(Body.prototype.buffer, 'Please use \\'response.arrayBuffer()\\' instead of \\'response.buffer()\\'', 'node-fetch#buffer');\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: {enumerable: true},\n\tbodyUsed: {enumerable: true},\n\tarrayBuffer: {enumerable: true},\n\tblob: {enumerable: true},\n\tjson: {enumerable: true},\n\ttext: {enumerable: true},\n\tdata: {get: deprecate(() => {},\n\t\t'data doesn\\'t exist, use json(), text(), arrayBuffer(), or body instead',\n\t\t'https://github.com/node-fetch/node-fetch/issues/1000 (response)')}\n});\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return Promise\n */\nasync function consumeBody(data) {\n\tif (data[INTERNALS].disturbed) {\n\t\tthrow new TypeError(`body used already for: ${data.url}`);\n\t}\n\n\tdata[INTERNALS].disturbed = true;\n\n\tif (data[INTERNALS].error) {\n\t\tthrow data[INTERNALS].error;\n\t}\n\n\tconst {body} = data;\n\n\t// Body is null\n\tif (body === null) {\n\t\treturn Buffer.alloc(0);\n\t}\n\n\t/* c8 ignore next 3 */\n\tif (!(body instanceof Stream)) {\n\t\treturn Buffer.alloc(0);\n\t}\n\n\t// Body is stream\n\t// get ready to actually consume the body\n\tconst accum = [];\n\tlet accumBytes = 0;\n\n\ttry {\n\t\tfor await (const chunk of body) {\n\t\t\tif (data.size > 0 && accumBytes + chunk.length > data.size) {\n\t\t\t\tconst error = new FetchError(`content size at ${data.url} over limit: ${data.size}`, 'max-size');\n\t\t\t\tbody.destroy(error);\n\t\t\t\tthrow error;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t}\n\t} catch (error) {\n\t\tconst error_ = error instanceof FetchBaseError ? error : new FetchError(`Invalid response body while trying to fetch ${data.url}: ${error.message}`, 'system', error);\n\t\tthrow error_;\n\t}\n\n\tif (body.readableEnded === true || body._readableState.ended === true) {\n\t\ttry {\n\t\t\tif (accum.every(c => typeof c === 'string')) {\n\t\t\t\treturn Buffer.from(accum.join(''));\n\t\t\t}\n\n\t\t\treturn Buffer.concat(accum, accumBytes);\n\t\t} catch (error) {\n\t\t\tthrow new FetchError(`Could not create Buffer from response body for ${data.url}: ${error.message}`, 'system', error);\n\t\t}\n\t} else {\n\t\tthrow new FetchError(`Premature close of server response while trying to fetch ${data.url}`);\n\t}\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed   instance       Response or Request instance\n * @param   String  highWaterMark  highWaterMark for both PassThrough body streams\n * @return  Mixed\n */\nexport const clone = (instance, highWaterMark) => {\n\tlet p1;\n\tlet p2;\n\tlet {body} = instance[INTERNALS];\n\n\t// Don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// Check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif ((body instanceof Stream) && (typeof body.getBoundary !== 'function')) {\n\t\t// Tee instance body\n\t\tp1 = new PassThrough({highWaterMark});\n\t\tp2 = new PassThrough({highWaterMark});\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// Set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].stream = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n};\n\nconst getNonSpecFormDataBoundary = deprecate(\n\tbody => body.getBoundary(),\n\t'form-data doesn\\'t follow the spec and requires special treatment. Use alternative package',\n\t'https://github.com/node-fetch/node-fetch/issues/1167'\n);\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param {any} body Any options.body input\n * @returns {string | null}\n */\nexport const extractContentType = (body, request) => {\n\t// Body is null or undefined\n\tif (body === null) {\n\t\treturn null;\n\t}\n\n\t// Body is string\n\tif (typeof body === 'string') {\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n\n\t// Body is a URLSearchParams\n\tif (isURLSearchParameters(body)) {\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t}\n\n\t// Body is blob\n\tif (isBlob(body)) {\n\t\treturn body.type || null;\n\t}\n\n\t// Body is a Buffer (Buffer, ArrayBuffer or ArrayBufferView)\n\tif (Buffer.isBuffer(body) || types.isAnyArrayBuffer(body) || ArrayBuffer.isView(body)) {\n\t\treturn null;\n\t}\n\n\tif (body instanceof FormData) {\n\t\treturn `multipart/form-data; boundary=${request[INTERNALS].boundary}`;\n\t}\n\n\t// Detect form data input from form-data module\n\tif (body && typeof body.getBoundary === 'function') {\n\t\treturn `multipart/form-data;boundary=${getNonSpecFormDataBoundary(body)}`;\n\t}\n\n\t// Body is stream - can't really do much about this\n\tif (body instanceof Stream) {\n\t\treturn null;\n\t}\n\n\t// Body constructor defaults other things to string\n\treturn 'text/plain;charset=UTF-8';\n};\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param {any} obj.body Body object from the Body instance.\n * @returns {number | null}\n */\nexport const getTotalBytes = request => {\n\tconst {body} = request[INTERNALS];\n\n\t// Body is null or undefined\n\tif (body === null) {\n\t\treturn 0;\n\t}\n\n\t// Body is Blob\n\tif (isBlob(body)) {\n\t\treturn body.size;\n\t}\n\n\t// Body is Buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn body.length;\n\t}\n\n\t// Detect form data input from form-data module\n\tif (body && typeof body.getLengthSync === 'function') {\n\t\treturn body.hasKnownLength && body.hasKnownLength() ? body.getLengthSync() : null;\n\t}\n\n\t// Body is stream\n\treturn null;\n};\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param {Stream.Writable} dest The stream to write to.\n * @param obj.body Body object from the Body instance.\n * @returns {Promise<void>}\n */\nexport const writeToStream = async (dest, {body}) => {\n\tif (body === null) {\n\t\t// Body is null\n\t\tdest.end();\n\t} else {\n\t\t// Body is stream\n\t\tawait pipeline(body, dest);\n\t}\n};\n","/**\n * Headers.js\n *\n * Headers class offers convenient helpers\n */\n\nimport {types} from 'node:util';\nimport http from 'node:http';\n\n/* c8 ignore next 9 */\nconst validateHeaderName = typeof http.validateHeaderName === 'function' ?\n\thttp.validateHeaderName :\n\tname => {\n\t\tif (!/^[\\^`\\-\\w!#$%&'*+.|~]+$/.test(name)) {\n\t\t\tconst error = new TypeError(`Header name must be a valid HTTP token [${name}]`);\n\t\t\tObject.defineProperty(error, 'code', {value: 'ERR_INVALID_HTTP_TOKEN'});\n\t\t\tthrow error;\n\t\t}\n\t};\n\n/* c8 ignore next 9 */\nconst validateHeaderValue = typeof http.validateHeaderValue === 'function' ?\n\thttp.validateHeaderValue :\n\t(name, value) => {\n\t\tif (/[^\\t\\u0020-\\u007E\\u0080-\\u00FF]/.test(value)) {\n\t\t\tconst error = new TypeError(`Invalid character in header content [\"${name}\"]`);\n\t\t\tObject.defineProperty(error, 'code', {value: 'ERR_INVALID_CHAR'});\n\t\t\tthrow error;\n\t\t}\n\t};\n\n/**\n * @typedef {Headers | Record<string, string> | Iterable<readonly [string, string]> | Iterable<Iterable<string>>} HeadersInit\n */\n\n/**\n * This Fetch API interface allows you to perform various actions on HTTP request and response headers.\n * These actions include retrieving, setting, adding to, and removing.\n * A Headers object has an associated header list, which is initially empty and consists of zero or more name and value pairs.\n * You can add to this using methods like append() (see Examples.)\n * In all methods of this interface, header names are matched by case-insensitive byte sequence.\n *\n */\nexport default class Headers extends URLSearchParams {\n\t/**\n\t * Headers class\n\t *\n\t * @constructor\n\t * @param {HeadersInit} [init] - Response headers\n\t */\n\tconstructor(init) {\n\t\t// Validate and normalize init object in [name, value(s)][]\n\t\t/** @type {string[][]} */\n\t\tlet result = [];\n\t\tif (init instanceof Headers) {\n\t\t\tconst raw = init.raw();\n\t\t\tfor (const [name, values] of Object.entries(raw)) {\n\t\t\t\tresult.push(...values.map(value => [name, value]));\n\t\t\t}\n\t\t} else if (init == null) { // eslint-disable-line no-eq-null, eqeqeq\n\t\t\t// No op\n\t\t} else if (typeof init === 'object' && !types.isBoxedPrimitive(init)) {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\t// eslint-disable-next-line no-eq-null, eqeqeq\n\t\t\tif (method == null) {\n\t\t\t\t// Record<ByteString, ByteString>\n\t\t\t\tresult.push(...Object.entries(init));\n\t\t\t} else {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// Sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tresult = [...init]\n\t\t\t\t\t.map(pair => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof pair !== 'object' || types.isBoxedPrimitive(pair)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tthrow new TypeError('Each header pair must be an iterable object');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn [...pair];\n\t\t\t\t\t}).map(pair => {\n\t\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn [...pair];\n\t\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Failed to construct \\'Headers\\': The provided value is not of type \\'(sequence<sequence<ByteString>> or record<ByteString, ByteString>)');\n\t\t}\n\n\t\t// Validate and lowercase\n\t\tresult =\n\t\t\tresult.length > 0 ?\n\t\t\t\tresult.map(([name, value]) => {\n\t\t\t\t\tvalidateHeaderName(name);\n\t\t\t\t\tvalidateHeaderValue(name, String(value));\n\t\t\t\t\treturn [String(name).toLowerCase(), String(value)];\n\t\t\t\t}) :\n\t\t\t\tundefined;\n\n\t\tsuper(result);\n\n\t\t// Returning a Proxy that will lowercase key names, validate parameters and sort keys\n\t\t// eslint-disable-next-line no-constructor-return\n\t\treturn new Proxy(this, {\n\t\t\tget(target, p, receiver) {\n\t\t\t\tswitch (p) {\n\t\t\t\t\tcase 'append':\n\t\t\t\t\tcase 'set':\n\t\t\t\t\t\treturn (name, value) => {\n\t\t\t\t\t\t\tvalidateHeaderName(name);\n\t\t\t\t\t\t\tvalidateHeaderValue(name, String(value));\n\t\t\t\t\t\t\treturn URLSearchParams.prototype[p].call(\n\t\t\t\t\t\t\t\ttarget,\n\t\t\t\t\t\t\t\tString(name).toLowerCase(),\n\t\t\t\t\t\t\t\tString(value)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t};\n\n\t\t\t\t\tcase 'delete':\n\t\t\t\t\tcase 'has':\n\t\t\t\t\tcase 'getAll':\n\t\t\t\t\t\treturn name => {\n\t\t\t\t\t\t\tvalidateHeaderName(name);\n\t\t\t\t\t\t\treturn URLSearchParams.prototype[p].call(\n\t\t\t\t\t\t\t\ttarget,\n\t\t\t\t\t\t\t\tString(name).toLowerCase()\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t};\n\n\t\t\t\t\tcase 'keys':\n\t\t\t\t\t\treturn () => {\n\t\t\t\t\t\t\ttarget.sort();\n\t\t\t\t\t\t\treturn new Set(URLSearchParams.prototype.keys.call(target)).keys();\n\t\t\t\t\t\t};\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn Reflect.get(target, p, receiver);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t/* c8 ignore next */\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn this.constructor.name;\n\t}\n\n\ttoString() {\n\t\treturn Object.prototype.toString.call(this);\n\t}\n\n\tget(name) {\n\t\tconst values = this.getAll(name);\n\t\tif (values.length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet value = values.join(', ');\n\t\tif (/^content-encoding$/i.test(name)) {\n\t\t\tvalue = value.toLowerCase();\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tforEach(callback, thisArg = undefined) {\n\t\tfor (const name of this.keys()) {\n\t\t\tReflect.apply(callback, thisArg, [this.get(name), name, this]);\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const name of this.keys()) {\n\t\t\tyield this.get(name);\n\t\t}\n\t}\n\n\t/**\n\t * @type {() => IterableIterator<[string, string]>}\n\t */\n\t* entries() {\n\t\tfor (const name of this.keys()) {\n\t\t\tyield [name, this.get(name)];\n\t\t}\n\t}\n\n\t[Symbol.iterator]() {\n\t\treturn this.entries();\n\t}\n\n\t/**\n\t * Node-fetch non-spec method\n\t * returning all headers and their values as array\n\t * @returns {Record<string, string[]>}\n\t */\n\traw() {\n\t\treturn [...this.keys()].reduce((result, key) => {\n\t\t\tresult[key] = this.getAll(key);\n\t\t\treturn result;\n\t\t}, {});\n\t}\n\n\t/**\n\t * For better console.log(headers) and also to convert Headers into Node.js Request compatible format\n\t */\n\t[Symbol.for('nodejs.util.inspect.custom')]() {\n\t\treturn [...this.keys()].reduce((result, key) => {\n\t\t\tconst values = this.getAll(key);\n\t\t\t// Http.request() only supports string as Host header.\n\t\t\t// This hack makes specifying custom Host header possible.\n\t\t\tif (key === 'host') {\n\t\t\t\tresult[key] = values[0];\n\t\t\t} else {\n\t\t\t\tresult[key] = values.length > 1 ? values : values[0];\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}, {});\n\t}\n}\n\n/**\n * Re-shaping object for Web IDL tests\n * Only need to do it for overridden methods\n */\nObject.defineProperties(\n\tHeaders.prototype,\n\t['get', 'entries', 'forEach', 'values'].reduce((result, property) => {\n\t\tresult[property] = {enumerable: true};\n\t\treturn result;\n\t}, {})\n);\n\n/**\n * Create a Headers object from an http.IncomingMessage.rawHeaders, ignoring those that do\n * not conform to HTTP grammar productions.\n * @param {import('http').IncomingMessage['rawHeaders']} headers\n */\nexport function fromRawHeaders(headers = []) {\n\treturn new Headers(\n\t\theaders\n\t\t\t// Split into pairs\n\t\t\t.reduce((result, value, index, array) => {\n\t\t\t\tif (index % 2 === 0) {\n\t\t\t\t\tresult.push(array.slice(index, index + 2));\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}, [])\n\t\t\t.filter(([name, value]) => {\n\t\t\t\ttry {\n\t\t\t\t\tvalidateHeaderName(name);\n\t\t\t\t\tvalidateHeaderValue(name, String(value));\n\t\t\t\t\treturn true;\n\t\t\t\t} catch {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t})\n\n\t);\n}\n","const redirectStatus = new Set([301, 302, 303, 307, 308]);\n\n/**\n * Redirect code matching\n *\n * @param {number} code - Status code\n * @return {boolean}\n */\nexport const isRedirect = code => {\n\treturn redirectStatus.has(code);\n};\n","/**\n * Response.js\n *\n * Response class provides content decoding\n */\n\nimport Headers from './headers.js';\nimport Body, {clone, extractContentType} from './body.js';\nimport {isRedirect} from './utils/is-redirect.js';\n\nconst INTERNALS = Symbol('Response internals');\n\n/**\n * Response class\n *\n * Ref: https://fetch.spec.whatwg.org/#response-class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nexport default class Response extends Body {\n\tconstructor(body = null, options = {}) {\n\t\tsuper(body, options);\n\n\t\t// eslint-disable-next-line no-eq-null, eqeqeq, no-negated-condition\n\t\tconst status = options.status != null ? options.status : 200;\n\n\t\tconst headers = new Headers(options.headers);\n\n\t\tif (body !== null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body, this);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS] = {\n\t\t\ttype: 'default',\n\t\t\turl: options.url,\n\t\t\tstatus,\n\t\t\tstatusText: options.statusText || '',\n\t\t\theaders,\n\t\t\tcounter: options.counter,\n\t\t\thighWaterMark: options.highWaterMark\n\t\t};\n\t}\n\n\tget type() {\n\t\treturn this[INTERNALS].type;\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS].status;\n\t}\n\n\t/**\n\t * Convenience property representing if the request ended normally\n\t */\n\tget ok() {\n\t\treturn this[INTERNALS].status >= 200 && this[INTERNALS].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS].headers;\n\t}\n\n\tget highWaterMark() {\n\t\treturn this[INTERNALS].highWaterMark;\n\t}\n\n\t/**\n\t * Clone this response\n\t *\n\t * @return  Response\n\t */\n\tclone() {\n\t\treturn new Response(clone(this, this.highWaterMark), {\n\t\t\ttype: this.type,\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected,\n\t\t\tsize: this.size,\n\t\t\thighWaterMark: this.highWaterMark\n\t\t});\n\t}\n\n\t/**\n\t * @param {string} url    The URL that the new response is to originate from.\n\t * @param {number} status An optional status code for the response (e.g., 302.)\n\t * @returns {Response}    A Response object.\n\t */\n\tstatic redirect(url, status = 302) {\n\t\tif (!isRedirect(status)) {\n\t\t\tthrow new RangeError('Failed to execute \"redirect\" on \"response\": Invalid status code');\n\t\t}\n\n\t\treturn new Response(null, {\n\t\t\theaders: {\n\t\t\t\tlocation: new URL(url).toString()\n\t\t\t},\n\t\t\tstatus\n\t\t});\n\t}\n\n\tstatic error() {\n\t\tconst response = new Response(null, {status: 0, statusText: ''});\n\t\tresponse[INTERNALS].type = 'error';\n\t\treturn response;\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn 'Response';\n\t}\n}\n\nObject.defineProperties(Response.prototype, {\n\ttype: {enumerable: true},\n\turl: {enumerable: true},\n\tstatus: {enumerable: true},\n\tok: {enumerable: true},\n\tredirected: {enumerable: true},\n\tstatusText: {enumerable: true},\n\theaders: {enumerable: true},\n\tclone: {enumerable: true}\n});\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:url\");","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:net\");","import {isIP} from 'node:net';\n\n/**\n * @external URL\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/URL|URL}\n */\n\n/**\n * @module utils/referrer\n * @private\n */\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#strip-url|Referrer Policy §8.4. Strip url for use as a referrer}\n * @param {string} URL\n * @param {boolean} [originOnly=false]\n */\nexport function stripURLForUseAsAReferrer(url, originOnly = false) {\n\t// 1. If url is null, return no referrer.\n\tif (url == null) { // eslint-disable-line no-eq-null, eqeqeq\n\t\treturn 'no-referrer';\n\t}\n\n\turl = new URL(url);\n\n\t// 2. If url's scheme is a local scheme, then return no referrer.\n\tif (/^(about|blob|data):$/.test(url.protocol)) {\n\t\treturn 'no-referrer';\n\t}\n\n\t// 3. Set url's username to the empty string.\n\turl.username = '';\n\n\t// 4. Set url's password to null.\n\t// Note: `null` appears to be a mistake as this actually results in the password being `\"null\"`.\n\turl.password = '';\n\n\t// 5. Set url's fragment to null.\n\t// Note: `null` appears to be a mistake as this actually results in the fragment being `\"#null\"`.\n\turl.hash = '';\n\n\t// 6. If the origin-only flag is true, then:\n\tif (originOnly) {\n\t\t// 6.1. Set url's path to null.\n\t\t// Note: `null` appears to be a mistake as this actually results in the path being `\"/null\"`.\n\t\turl.pathname = '';\n\n\t\t// 6.2. Set url's query to null.\n\t\t// Note: `null` appears to be a mistake as this actually results in the query being `\"?null\"`.\n\t\turl.search = '';\n\t}\n\n\t// 7. Return url.\n\treturn url;\n}\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#enumdef-referrerpolicy|enum ReferrerPolicy}\n */\nexport const ReferrerPolicy = new Set([\n\t'',\n\t'no-referrer',\n\t'no-referrer-when-downgrade',\n\t'same-origin',\n\t'origin',\n\t'strict-origin',\n\t'origin-when-cross-origin',\n\t'strict-origin-when-cross-origin',\n\t'unsafe-url'\n]);\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#default-referrer-policy|default referrer policy}\n */\nexport const DEFAULT_REFERRER_POLICY = 'strict-origin-when-cross-origin';\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#referrer-policies|Referrer Policy §3. Referrer Policies}\n * @param {string} referrerPolicy\n * @returns {string} referrerPolicy\n */\nexport function validateReferrerPolicy(referrerPolicy) {\n\tif (!ReferrerPolicy.has(referrerPolicy)) {\n\t\tthrow new TypeError(`Invalid referrerPolicy: ${referrerPolicy}`);\n\t}\n\n\treturn referrerPolicy;\n}\n\n/**\n * @see {@link https://w3c.github.io/webappsec-secure-contexts/#is-origin-trustworthy|Referrer Policy §3.2. Is origin potentially trustworthy?}\n * @param {external:URL} url\n * @returns `true`: \"Potentially Trustworthy\", `false`: \"Not Trustworthy\"\n */\nexport function isOriginPotentiallyTrustworthy(url) {\n\t// 1. If origin is an opaque origin, return \"Not Trustworthy\".\n\t// Not applicable\n\n\t// 2. Assert: origin is a tuple origin.\n\t// Not for implementations\n\n\t// 3. If origin's scheme is either \"https\" or \"wss\", return \"Potentially Trustworthy\".\n\tif (/^(http|ws)s:$/.test(url.protocol)) {\n\t\treturn true;\n\t}\n\n\t// 4. If origin's host component matches one of the CIDR notations 127.0.0.0/8 or ::1/128 [RFC4632], return \"Potentially Trustworthy\".\n\tconst hostIp = url.host.replace(/(^\\[)|(]$)/g, '');\n\tconst hostIPVersion = isIP(hostIp);\n\n\tif (hostIPVersion === 4 && /^127\\./.test(hostIp)) {\n\t\treturn true;\n\t}\n\n\tif (hostIPVersion === 6 && /^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(hostIp)) {\n\t\treturn true;\n\t}\n\n\t// 5. If origin's host component is \"localhost\" or falls within \".localhost\", and the user agent conforms to the name resolution rules in [let-localhost-be-localhost], return \"Potentially Trustworthy\".\n\t// We are returning FALSE here because we cannot ensure conformance to\n\t// let-localhost-be-loalhost (https://tools.ietf.org/html/draft-west-let-localhost-be-localhost)\n\tif (url.host === 'localhost' || url.host.endsWith('.localhost')) {\n\t\treturn false;\n\t}\n\n\t// 6. If origin's scheme component is file, return \"Potentially Trustworthy\".\n\tif (url.protocol === 'file:') {\n\t\treturn true;\n\t}\n\n\t// 7. If origin's scheme component is one which the user agent considers to be authenticated, return \"Potentially Trustworthy\".\n\t// Not supported\n\n\t// 8. If origin has been configured as a trustworthy origin, return \"Potentially Trustworthy\".\n\t// Not supported\n\n\t// 9. Return \"Not Trustworthy\".\n\treturn false;\n}\n\n/**\n * @see {@link https://w3c.github.io/webappsec-secure-contexts/#is-url-trustworthy|Referrer Policy §3.3. Is url potentially trustworthy?}\n * @param {external:URL} url\n * @returns `true`: \"Potentially Trustworthy\", `false`: \"Not Trustworthy\"\n */\nexport function isUrlPotentiallyTrustworthy(url) {\n\t// 1. If url is \"about:blank\" or \"about:srcdoc\", return \"Potentially Trustworthy\".\n\tif (/^about:(blank|srcdoc)$/.test(url)) {\n\t\treturn true;\n\t}\n\n\t// 2. If url's scheme is \"data\", return \"Potentially Trustworthy\".\n\tif (url.protocol === 'data:') {\n\t\treturn true;\n\t}\n\n\t// Note: The origin of blob: and filesystem: URLs is the origin of the context in which they were\n\t// created. Therefore, blobs created in a trustworthy origin will themselves be potentially\n\t// trustworthy.\n\tif (/^(blob|filesystem):$/.test(url.protocol)) {\n\t\treturn true;\n\t}\n\n\t// 3. Return the result of executing §3.2 Is origin potentially trustworthy? on url's origin.\n\treturn isOriginPotentiallyTrustworthy(url);\n}\n\n/**\n * Modifies the referrerURL to enforce any extra security policy considerations.\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#determine-requests-referrer|Referrer Policy §8.3. Determine request's Referrer}, step 7\n * @callback module:utils/referrer~referrerURLCallback\n * @param {external:URL} referrerURL\n * @returns {external:URL} modified referrerURL\n */\n\n/**\n * Modifies the referrerOrigin to enforce any extra security policy considerations.\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#determine-requests-referrer|Referrer Policy §8.3. Determine request's Referrer}, step 7\n * @callback module:utils/referrer~referrerOriginCallback\n * @param {external:URL} referrerOrigin\n * @returns {external:URL} modified referrerOrigin\n */\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#determine-requests-referrer|Referrer Policy §8.3. Determine request's Referrer}\n * @param {Request} request\n * @param {object} o\n * @param {module:utils/referrer~referrerURLCallback} o.referrerURLCallback\n * @param {module:utils/referrer~referrerOriginCallback} o.referrerOriginCallback\n * @returns {external:URL} Request's referrer\n */\nexport function determineRequestsReferrer(request, {referrerURLCallback, referrerOriginCallback} = {}) {\n\t// There are 2 notes in the specification about invalid pre-conditions.  We return null, here, for\n\t// these cases:\n\t// > Note: If request's referrer is \"no-referrer\", Fetch will not call into this algorithm.\n\t// > Note: If request's referrer policy is the empty string, Fetch will not call into this\n\t// > algorithm.\n\tif (request.referrer === 'no-referrer' || request.referrerPolicy === '') {\n\t\treturn null;\n\t}\n\n\t// 1. Let policy be request's associated referrer policy.\n\tconst policy = request.referrerPolicy;\n\n\t// 2. Let environment be request's client.\n\t// not applicable to node.js\n\n\t// 3. Switch on request's referrer:\n\tif (request.referrer === 'about:client') {\n\t\treturn 'no-referrer';\n\t}\n\n\t// \"a URL\": Let referrerSource be request's referrer.\n\tconst referrerSource = request.referrer;\n\n\t// 4. Let request's referrerURL be the result of stripping referrerSource for use as a referrer.\n\tlet referrerURL = stripURLForUseAsAReferrer(referrerSource);\n\n\t// 5. Let referrerOrigin be the result of stripping referrerSource for use as a referrer, with the\n\t//    origin-only flag set to true.\n\tlet referrerOrigin = stripURLForUseAsAReferrer(referrerSource, true);\n\n\t// 6. If the result of serializing referrerURL is a string whose length is greater than 4096, set\n\t//    referrerURL to referrerOrigin.\n\tif (referrerURL.toString().length > 4096) {\n\t\treferrerURL = referrerOrigin;\n\t}\n\n\t// 7. The user agent MAY alter referrerURL or referrerOrigin at this point to enforce arbitrary\n\t//    policy considerations in the interests of minimizing data leakage. For example, the user\n\t//    agent could strip the URL down to an origin, modify its host, replace it with an empty\n\t//    string, etc.\n\tif (referrerURLCallback) {\n\t\treferrerURL = referrerURLCallback(referrerURL);\n\t}\n\n\tif (referrerOriginCallback) {\n\t\treferrerOrigin = referrerOriginCallback(referrerOrigin);\n\t}\n\n\t// 8.Execute the statements corresponding to the value of policy:\n\tconst currentURL = new URL(request.url);\n\n\tswitch (policy) {\n\t\tcase 'no-referrer':\n\t\t\treturn 'no-referrer';\n\n\t\tcase 'origin':\n\t\t\treturn referrerOrigin;\n\n\t\tcase 'unsafe-url':\n\t\t\treturn referrerURL;\n\n\t\tcase 'strict-origin':\n\t\t\t// 1. If referrerURL is a potentially trustworthy URL and request's current URL is not a\n\t\t\t//    potentially trustworthy URL, then return no referrer.\n\t\t\tif (isUrlPotentiallyTrustworthy(referrerURL) && !isUrlPotentiallyTrustworthy(currentURL)) {\n\t\t\t\treturn 'no-referrer';\n\t\t\t}\n\n\t\t\t// 2. Return referrerOrigin.\n\t\t\treturn referrerOrigin.toString();\n\n\t\tcase 'strict-origin-when-cross-origin':\n\t\t\t// 1. If the origin of referrerURL and the origin of request's current URL are the same, then\n\t\t\t//    return referrerURL.\n\t\t\tif (referrerURL.origin === currentURL.origin) {\n\t\t\t\treturn referrerURL;\n\t\t\t}\n\n\t\t\t// 2. If referrerURL is a potentially trustworthy URL and request's current URL is not a\n\t\t\t//    potentially trustworthy URL, then return no referrer.\n\t\t\tif (isUrlPotentiallyTrustworthy(referrerURL) && !isUrlPotentiallyTrustworthy(currentURL)) {\n\t\t\t\treturn 'no-referrer';\n\t\t\t}\n\n\t\t\t// 3. Return referrerOrigin.\n\t\t\treturn referrerOrigin;\n\n\t\tcase 'same-origin':\n\t\t\t// 1. If the origin of referrerURL and the origin of request's current URL are the same, then\n\t\t\t//    return referrerURL.\n\t\t\tif (referrerURL.origin === currentURL.origin) {\n\t\t\t\treturn referrerURL;\n\t\t\t}\n\n\t\t\t// 2. Return no referrer.\n\t\t\treturn 'no-referrer';\n\n\t\tcase 'origin-when-cross-origin':\n\t\t\t// 1. If the origin of referrerURL and the origin of request's current URL are the same, then\n\t\t\t//    return referrerURL.\n\t\t\tif (referrerURL.origin === currentURL.origin) {\n\t\t\t\treturn referrerURL;\n\t\t\t}\n\n\t\t\t// Return referrerOrigin.\n\t\t\treturn referrerOrigin;\n\n\t\tcase 'no-referrer-when-downgrade':\n\t\t\t// 1. If referrerURL is a potentially trustworthy URL and request's current URL is not a\n\t\t\t//    potentially trustworthy URL, then return no referrer.\n\t\t\tif (isUrlPotentiallyTrustworthy(referrerURL) && !isUrlPotentiallyTrustworthy(currentURL)) {\n\t\t\t\treturn 'no-referrer';\n\t\t\t}\n\n\t\t\t// 2. Return referrerURL.\n\t\t\treturn referrerURL;\n\n\t\tdefault:\n\t\t\tthrow new TypeError(`Invalid referrerPolicy: ${policy}`);\n\t}\n}\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#parse-referrer-policy-from-header|Referrer Policy §8.1. Parse a referrer policy from a Referrer-Policy header}\n * @param {Headers} headers Response headers\n * @returns {string} policy\n */\nexport function parseReferrerPolicyFromHeader(headers) {\n\t// 1. Let policy-tokens be the result of extracting header list values given `Referrer-Policy`\n\t//    and response’s header list.\n\tconst policyTokens = (headers.get('referrer-policy') || '').split(/[,\\s]+/);\n\n\t// 2. Let policy be the empty string.\n\tlet policy = '';\n\n\t// 3. For each token in policy-tokens, if token is a referrer policy and token is not the empty\n\t//    string, then set policy to token.\n\t// Note: This algorithm loops over multiple policy values to allow deployment of new policy\n\t// values with fallbacks for older user agents, as described in § 11.1 Unknown Policy Values.\n\tfor (const token of policyTokens) {\n\t\tif (token && ReferrerPolicy.has(token)) {\n\t\t\tpolicy = token;\n\t\t}\n\t}\n\n\t// 4. Return policy.\n\treturn policy;\n}\n","/**\n * Request.js\n *\n * Request class contains server only options\n *\n * All spec algorithm step numbers are based on https://fetch.spec.whatwg.org/commit-snapshots/ae716822cb3a61843226cd090eefc6589446c1d2/.\n */\n\nimport {format as formatUrl} from 'node:url';\nimport {deprecate} from 'node:util';\nimport Headers from './headers.js';\nimport Body, {clone, extractContentType, getTotalBytes} from './body.js';\nimport {isAbortSignal} from './utils/is.js';\nimport {getSearch} from './utils/get-search.js';\nimport {\n\tvalidateReferrerPolicy, determineRequestsReferrer, DEFAULT_REFERRER_POLICY\n} from './utils/referrer.js';\n\nconst INTERNALS = Symbol('Request internals');\n\n/**\n * Check if `obj` is an instance of Request.\n *\n * @param  {*} object\n * @return {boolean}\n */\nconst isRequest = object => {\n\treturn (\n\t\ttypeof object === 'object' &&\n\t\ttypeof object[INTERNALS] === 'object'\n\t);\n};\n\nconst doBadDataWarn = deprecate(() => {},\n\t'.data is not a valid RequestInit property, use .body instead',\n\t'https://github.com/node-fetch/node-fetch/issues/1000 (request)');\n\n/**\n * Request class\n *\n * Ref: https://fetch.spec.whatwg.org/#request-class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nexport default class Request extends Body {\n\tconstructor(input, init = {}) {\n\t\tlet parsedURL;\n\n\t\t// Normalize input and force URL to be encoded as UTF-8 (https://github.com/node-fetch/node-fetch/issues/245)\n\t\tif (isRequest(input)) {\n\t\t\tparsedURL = new URL(input.url);\n\t\t} else {\n\t\t\tparsedURL = new URL(input);\n\t\t\tinput = {};\n\t\t}\n\n\t\tif (parsedURL.username !== '' || parsedURL.password !== '') {\n\t\t\tthrow new TypeError(`${parsedURL} is an url with embedded credentials.`);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tif (/^(delete|get|head|options|post|put)$/i.test(method)) {\n\t\t\tmethod = method.toUpperCase();\n\t\t}\n\n\t\tif (!isRequest(init) && 'data' in init) {\n\t\t\tdoBadDataWarn();\n\t\t}\n\n\t\t// eslint-disable-next-line no-eq-null, eqeqeq\n\t\tif ((init.body != null || (isRequest(input) && input.body !== null)) &&\n\t\t\t(method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tconst inputBody = init.body ?\n\t\t\tinit.body :\n\t\t\t(isRequest(input) && input.body !== null ?\n\t\t\t\tclone(input) :\n\t\t\t\tnull);\n\n\t\tsuper(inputBody, {\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody !== null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody, this);\n\t\t\tif (contentType) {\n\t\t\t\theaders.set('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ?\n\t\t\tinput.signal :\n\t\t\tnull;\n\t\tif ('signal' in init) {\n\t\t\tsignal = init.signal;\n\t\t}\n\n\t\t// eslint-disable-next-line no-eq-null, eqeqeq\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal or EventTarget');\n\t\t}\n\n\t\t// §5.4, Request constructor steps, step 15.1\n\t\t// eslint-disable-next-line no-eq-null, eqeqeq\n\t\tlet referrer = init.referrer == null ? input.referrer : init.referrer;\n\t\tif (referrer === '') {\n\t\t\t// §5.4, Request constructor steps, step 15.2\n\t\t\treferrer = 'no-referrer';\n\t\t} else if (referrer) {\n\t\t\t// §5.4, Request constructor steps, step 15.3.1, 15.3.2\n\t\t\tconst parsedReferrer = new URL(referrer);\n\t\t\t// §5.4, Request constructor steps, step 15.3.3, 15.3.4\n\t\t\treferrer = /^about:(\\/\\/)?client$/.test(parsedReferrer) ? 'client' : parsedReferrer;\n\t\t} else {\n\t\t\treferrer = undefined;\n\t\t}\n\n\t\tthis[INTERNALS] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal,\n\t\t\treferrer\n\t\t};\n\n\t\t// Node-fetch-only options\n\t\tthis.follow = init.follow === undefined ? (input.follow === undefined ? 20 : input.follow) : init.follow;\n\t\tthis.compress = init.compress === undefined ? (input.compress === undefined ? true : input.compress) : init.compress;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t\tthis.highWaterMark = init.highWaterMark || input.highWaterMark || 16384;\n\t\tthis.insecureHTTPParser = init.insecureHTTPParser || input.insecureHTTPParser || false;\n\n\t\t// §5.4, Request constructor steps, step 16.\n\t\t// Default is empty string per https://fetch.spec.whatwg.org/#concept-request-referrer-policy\n\t\tthis.referrerPolicy = init.referrerPolicy || input.referrerPolicy || '';\n\t}\n\n\t/** @returns {string} */\n\tget method() {\n\t\treturn this[INTERNALS].method;\n\t}\n\n\t/** @returns {string} */\n\tget url() {\n\t\treturn formatUrl(this[INTERNALS].parsedURL);\n\t}\n\n\t/** @returns {Headers} */\n\tget headers() {\n\t\treturn this[INTERNALS].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS].redirect;\n\t}\n\n\t/** @returns {AbortSignal} */\n\tget signal() {\n\t\treturn this[INTERNALS].signal;\n\t}\n\n\t// https://fetch.spec.whatwg.org/#dom-request-referrer\n\tget referrer() {\n\t\tif (this[INTERNALS].referrer === 'no-referrer') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (this[INTERNALS].referrer === 'client') {\n\t\t\treturn 'about:client';\n\t\t}\n\n\t\tif (this[INTERNALS].referrer) {\n\t\t\treturn this[INTERNALS].referrer.toString();\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tget referrerPolicy() {\n\t\treturn this[INTERNALS].referrerPolicy;\n\t}\n\n\tset referrerPolicy(referrerPolicy) {\n\t\tthis[INTERNALS].referrerPolicy = validateReferrerPolicy(referrerPolicy);\n\t}\n\n\t/**\n\t * Clone this request\n\t *\n\t * @return  Request\n\t */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn 'Request';\n\t}\n}\n\nObject.defineProperties(Request.prototype, {\n\tmethod: {enumerable: true},\n\turl: {enumerable: true},\n\theaders: {enumerable: true},\n\tredirect: {enumerable: true},\n\tclone: {enumerable: true},\n\tsignal: {enumerable: true},\n\treferrer: {enumerable: true},\n\treferrerPolicy: {enumerable: true}\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param {Request} request - A Request instance\n * @return The options object to be passed to http.request\n */\nexport const getNodeRequestOptions = request => {\n\tconst {parsedURL} = request[INTERNALS];\n\tconst headers = new Headers(request[INTERNALS].headers);\n\n\t// Fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body === null && /^(post|put)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\n\tif (request.body !== null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\t// Set Content-Length if totalBytes is a number (that is not NaN)\n\t\tif (typeof totalBytes === 'number' && !Number.isNaN(totalBytes)) {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// 4.1. Main fetch, step 2.6\n\t// > If request's referrer policy is the empty string, then set request's referrer policy to the\n\t// > default referrer policy.\n\tif (request.referrerPolicy === '') {\n\t\trequest.referrerPolicy = DEFAULT_REFERRER_POLICY;\n\t}\n\n\t// 4.1. Main fetch, step 2.7\n\t// > If request's referrer is not \"no-referrer\", set request's referrer to the result of invoking\n\t// > determine request's referrer.\n\tif (request.referrer && request.referrer !== 'no-referrer') {\n\t\trequest[INTERNALS].referrer = determineRequestsReferrer(request);\n\t} else {\n\t\trequest[INTERNALS].referrer = 'no-referrer';\n\t}\n\n\t// 4.5. HTTP-network-or-cache fetch, step 6.9\n\t// > If httpRequest's referrer is a URL, then append `Referer`/httpRequest's referrer, serialized\n\t// >  and isomorphic encoded, to httpRequest's header list.\n\tif (request[INTERNALS].referrer instanceof URL) {\n\t\theaders.set('Referer', request.referrer);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip, deflate, br');\n\t}\n\n\tlet {agent} = request;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\tif (!headers.has('Connection') && !agent) {\n\t\theaders.set('Connection', 'close');\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\tconst search = getSearch(parsedURL);\n\n\t// Pass the full URL directly to request(), but overwrite the following\n\t// options:\n\tconst options = {\n\t\t// Overwrite search to retain trailing ? (issue #776)\n\t\tpath: parsedURL.pathname + search,\n\t\t// The following options are not expressed in the URL\n\t\tmethod: request.method,\n\t\theaders: headers[Symbol.for('nodejs.util.inspect.custom')](),\n\t\tinsecureHTTPParser: request.insecureHTTPParser,\n\t\tagent\n\t};\n\n\treturn {\n\t\t/** @type {URL} */\n\t\tparsedURL,\n\t\toptions\n\t};\n};\n","export const getSearch = parsedURL => {\n\tif (parsedURL.search) {\n\t\treturn parsedURL.search;\n\t}\n\n\tconst lastOffset = parsedURL.href.length - 1;\n\tconst hash = parsedURL.hash || (parsedURL.href[lastOffset] === '#' ? '#' : '');\n\treturn parsedURL.href[lastOffset - hash.length] === '?' ? '?' : '';\n};\n","import {FetchBaseError} from './base.js';\n\n/**\n * AbortError interface for cancelled requests\n */\nexport class AbortError extends FetchBaseError {\n\tconstructor(message, type = 'aborted') {\n\t\tsuper(message, type);\n\t}\n}\n","/**\n * Index.js\n *\n * a request API compatible with window.fetch\n *\n * All spec algorithm step numbers are based on https://fetch.spec.whatwg.org/commit-snapshots/ae716822cb3a61843226cd090eefc6589446c1d2/.\n */\n\nimport http from 'node:http';\nimport https from 'node:https';\nimport zlib from 'node:zlib';\nimport Stream, {PassThrough, pipeline as pump} from 'node:stream';\nimport {Buffer} from 'node:buffer';\n\nimport dataUriToBuffer from 'data-uri-to-buffer';\n\nimport {writeToStream, clone} from './body.js';\nimport Response from './response.js';\nimport Headers, {fromRawHeaders} from './headers.js';\nimport Request, {getNodeRequestOptions} from './request.js';\nimport {FetchError} from './errors/fetch-error.js';\nimport {AbortError} from './errors/abort-error.js';\nimport {isRedirect} from './utils/is-redirect.js';\nimport {FormData} from 'formdata-polyfill/esm.min.js';\nimport {isDomainOrSubdomain, isSameProtocol} from './utils/is.js';\nimport {parseReferrerPolicyFromHeader} from './utils/referrer.js';\nimport {\n\tBlob,\n\tFile,\n\tfileFromSync,\n\tfileFrom,\n\tblobFromSync,\n\tblobFrom\n} from 'fetch-blob/from.js';\n\nexport {FormData, Headers, Request, Response, FetchError, AbortError, isRedirect};\nexport {Blob, File, fileFromSync, fileFrom, blobFromSync, blobFrom};\n\nconst supportedSchemas = new Set(['data:', 'http:', 'https:']);\n\n/**\n * Fetch function\n *\n * @param   {string | URL | import('./request').default} url - Absolute url or Request instance\n * @param   {*} [options_] - Fetch options\n * @return  {Promise<import('./response').default>}\n */\nexport default async function fetch(url, options_) {\n\treturn new Promise((resolve, reject) => {\n\t\t// Build request object\n\t\tconst request = new Request(url, options_);\n\t\tconst {parsedURL, options} = getNodeRequestOptions(request);\n\t\tif (!supportedSchemas.has(parsedURL.protocol)) {\n\t\t\tthrow new TypeError(`node-fetch cannot load ${url}. URL scheme \"${parsedURL.protocol.replace(/:$/, '')}\" is not supported.`);\n\t\t}\n\n\t\tif (parsedURL.protocol === 'data:') {\n\t\t\tconst data = dataUriToBuffer(request.url);\n\t\t\tconst response = new Response(data, {headers: {'Content-Type': data.typeFull}});\n\t\t\tresolve(response);\n\t\t\treturn;\n\t\t}\n\n\t\t// Wrap http.request into fetch\n\t\tconst send = (parsedURL.protocol === 'https:' ? https : http).request;\n\t\tconst {signal} = request;\n\t\tlet response = null;\n\n\t\tconst abort = () => {\n\t\t\tconst error = new AbortError('The operation was aborted.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\trequest.body.destroy(error);\n\t\t\t}\n\n\t\t\tif (!response || !response.body) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = () => {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// Send request\n\t\tconst request_ = send(parsedURL.toString(), options);\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tconst finalize = () => {\n\t\t\trequest_.abort();\n\t\t\tif (signal) {\n\t\t\t\tsignal.removeEventListener('abort', abortAndFinalize);\n\t\t\t}\n\t\t};\n\n\t\trequest_.on('error', error => {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${error.message}`, 'system', error));\n\t\t\tfinalize();\n\t\t});\n\n\t\tfixResponseChunkedTransferBadEnding(request_, error => {\n\t\t\tif (response && response.body) {\n\t\t\t\tresponse.body.destroy(error);\n\t\t\t}\n\t\t});\n\n\t\t/* c8 ignore next 18 */\n\t\tif (process.version < 'v14') {\n\t\t\t// Before Node.js 14, pipeline() does not fully support async iterators and does not always\n\t\t\t// properly handle when the socket close/end events are out of order.\n\t\t\trequest_.on('socket', s => {\n\t\t\t\tlet endedWithEventsCount;\n\t\t\t\ts.prependListener('end', () => {\n\t\t\t\t\tendedWithEventsCount = s._eventsCount;\n\t\t\t\t});\n\t\t\t\ts.prependListener('close', hadError => {\n\t\t\t\t\t// if end happened before close but the socket didn't emit an error, do it now\n\t\t\t\t\tif (response && endedWithEventsCount < s._eventsCount && !hadError) {\n\t\t\t\t\t\tconst error = new Error('Premature close');\n\t\t\t\t\t\terror.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\t\t\tresponse.body.emit('error', error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\trequest_.on('response', response_ => {\n\t\t\trequest_.setTimeout(0);\n\t\t\tconst headers = fromRawHeaders(response_.rawHeaders);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (isRedirect(response_.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tlet locationURL = null;\n\t\t\t\ttry {\n\t\t\t\t\tlocationURL = location === null ? null : new URL(location, request.url);\n\t\t\t\t} catch {\n\t\t\t\t\t// error here can only be invalid URL in Location: header\n\t\t\t\t\t// do not throw when options.redirect == manual\n\t\t\t\t\t// let the user extract the errorneous redirect URL\n\t\t\t\t\tif (request.redirect !== 'manual') {\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, 'invalid-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// Nothing to do\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow': {\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOptions = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: clone(request),\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\tsize: request.size,\n\t\t\t\t\t\t\treferrer: request.referrer,\n\t\t\t\t\t\t\treferrerPolicy: request.referrerPolicy\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// when forwarding sensitive headers like \"Authorization\",\n\t\t\t\t\t\t// \"WWW-Authenticate\", and \"Cookie\" to untrusted targets,\n\t\t\t\t\t\t// headers will be ignored when following a redirect to a domain\n\t\t\t\t\t\t// that is not a subdomain match or exact match of the initial domain.\n\t\t\t\t\t\t// For example, a redirect from \"foo.com\" to either \"foo.com\" or \"sub.foo.com\"\n\t\t\t\t\t\t// will forward the sensitive headers, but a redirect to \"bar.com\" will not.\n\t\t\t\t\t\t// headers will also be ignored when following a redirect to a domain using\n\t\t\t\t\t\t// a different protocol. For example, a redirect from \"https://foo.com\" to \"http://foo.com\"\n\t\t\t\t\t\t// will not forward the sensitive headers\n\t\t\t\t\t\tif (!isDomainOrSubdomain(request.url, locationURL) || !isSameProtocol(request.url, locationURL)) {\n\t\t\t\t\t\t\tfor (const name of ['authorization', 'www-authenticate', 'cookie', 'cookie2']) {\n\t\t\t\t\t\t\t\trequestOptions.headers.delete(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (response_.statusCode !== 303 && request.body && options_.body instanceof Stream.Readable) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (response_.statusCode === 303 || ((response_.statusCode === 301 || response_.statusCode === 302) && request.method === 'POST')) {\n\t\t\t\t\t\t\trequestOptions.method = 'GET';\n\t\t\t\t\t\t\trequestOptions.body = undefined;\n\t\t\t\t\t\t\trequestOptions.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 14\n\t\t\t\t\t\tconst responseReferrerPolicy = parseReferrerPolicyFromHeader(headers);\n\t\t\t\t\t\tif (responseReferrerPolicy) {\n\t\t\t\t\t\t\trequestOptions.referrerPolicy = responseReferrerPolicy;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOptions)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn reject(new TypeError(`Redirect option '${request.redirect}' is not a valid value of RequestRedirect`));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Prepare response\n\t\t\tif (signal) {\n\t\t\t\tresponse_.once('end', () => {\n\t\t\t\t\tsignal.removeEventListener('abort', abortAndFinalize);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tlet body = pump(response_, new PassThrough(), error => {\n\t\t\t\tif (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// see https://github.com/nodejs/node/pull/29376\n\t\t\t/* c8 ignore next 3 */\n\t\t\tif (process.version < 'v12.10') {\n\t\t\t\tresponse_.on('aborted', abortAndFinalize);\n\t\t\t}\n\n\t\t\tconst responseOptions = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: response_.statusCode,\n\t\t\t\tstatusText: response_.statusMessage,\n\t\t\t\theaders,\n\t\t\t\tsize: request.size,\n\t\t\t\tcounter: request.counter,\n\t\t\t\thighWaterMark: request.highWaterMark\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || response_.statusCode === 204 || response_.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, responseOptions);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// For gzip\n\t\t\tif (codings === 'gzip' || codings === 'x-gzip') {\n\t\t\t\tbody = pump(body, zlib.createGunzip(zlibOptions), error => {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tresponse = new Response(body, responseOptions);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For deflate\n\t\t\tif (codings === 'deflate' || codings === 'x-deflate') {\n\t\t\t\t// Handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = pump(response_, new PassThrough(), error => {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\traw.once('data', chunk => {\n\t\t\t\t\t// See http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = pump(body, zlib.createInflate(), error => {\n\t\t\t\t\t\t\tif (error) {\n\t\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = pump(body, zlib.createInflateRaw(), error => {\n\t\t\t\t\t\t\tif (error) {\n\t\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tresponse = new Response(body, responseOptions);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\traw.once('end', () => {\n\t\t\t\t\t// Some old IIS servers return zero-length OK deflate responses, so\n\t\t\t\t\t// 'data' is never emitted. See https://github.com/node-fetch/node-fetch/pull/903\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\tresponse = new Response(body, responseOptions);\n\t\t\t\t\t\tresolve(response);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For br\n\t\t\tif (codings === 'br') {\n\t\t\t\tbody = pump(body, zlib.createBrotliDecompress(), error => {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tresponse = new Response(body, responseOptions);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Otherwise, use response as-is\n\t\t\tresponse = new Response(body, responseOptions);\n\t\t\tresolve(response);\n\t\t});\n\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\twriteToStream(request_, request).catch(reject);\n\t});\n}\n\nfunction fixResponseChunkedTransferBadEnding(request, errorCallback) {\n\tconst LAST_CHUNK = Buffer.from('0\\r\\n\\r\\n');\n\n\tlet isChunkedTransfer = false;\n\tlet properLastChunkReceived = false;\n\tlet previousChunk;\n\n\trequest.on('response', response => {\n\t\tconst {headers} = response;\n\t\tisChunkedTransfer = headers['transfer-encoding'] === 'chunked' && !headers['content-length'];\n\t});\n\n\trequest.on('socket', socket => {\n\t\tconst onSocketClose = () => {\n\t\t\tif (isChunkedTransfer && !properLastChunkReceived) {\n\t\t\t\tconst error = new Error('Premature close');\n\t\t\t\terror.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\terrorCallback(error);\n\t\t\t}\n\t\t};\n\n\t\tconst onData = buf => {\n\t\t\tproperLastChunkReceived = Buffer.compare(buf.slice(-5), LAST_CHUNK) === 0;\n\n\t\t\t// Sometimes final 0-length chunk and end of message code are in separate packets\n\t\t\tif (!properLastChunkReceived && previousChunk) {\n\t\t\t\tproperLastChunkReceived = (\n\t\t\t\t\tBuffer.compare(previousChunk.slice(-3), LAST_CHUNK.slice(0, 3)) === 0 &&\n\t\t\t\t\tBuffer.compare(buf.slice(-2), LAST_CHUNK.slice(3)) === 0\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tpreviousChunk = buf;\n\t\t};\n\n\t\tsocket.prependListener('close', onSocketClose);\n\t\tsocket.on('data', onData);\n\n\t\trequest.on('close', () => {\n\t\t\tsocket.removeListener('close', onSocketClose);\n\t\t\tsocket.removeListener('data', onData);\n\t\t});\n\t});\n}\n","import fetch from 'node-fetch';\n\nexport default fetch;\n","import fetchProxy from '@fetch';\nimport template from './template';\nimport { getAnalyticsHeader } from './analytics';\n\nexport function getRequestConfiguration(options, transformResponse, contentType) {\n    options.pathParameters = options.pathParameters || {};\n    options.pathParameters.contentType = contentType;\n    options.pathParameters.protocol = options.pathParameters.protocol || 'https';\n    const url = template(options.url, options.pathParameters);\n    const headers = getAnalyticsHeader();\n    headers['Accept'] = 'application/json'; //eslint-disable-line dot-notation\n    if (options.headers && options.headers.trackingId) {\n        headers['Tracking-ID'] = options.headers.trackingId;\n    }\n\n    let requestOptions = {\n        method: 'GET',\n        headers: headers,\n        mode: 'cors',\n        ...options.abortSignal && { signal: options.abortSignal }\n    };\n\n    if (transformResponse) {\n        requestOptions = { ...requestOptions, transformResponse };\n    }\n    return {\n        options, url, requestOptions\n    };\n}\n\nexport function performRequest(options, url, requestOptions = {}, getData) {\n    return fetchProxy(withQueryParams(options, url), requestOptions)\n        .then(async (response) => {\n            const data = await getData(response);\n            if (!response.ok) {\n                return Promise.reject({ response, data });\n            }\n\n            if (options._getOriginalResponse) {\n                return response;\n            }\n            if (options.requestType === 'batch' && response.status === 202) {\n                return response.headers.location;\n            }\n\n            const trackingIdHeader = response.headers &&\n                (response.headers.get('tracking-id') || response.headers.get('Tracking-ID'));\n\n            return {\n                data,\n                ...trackingIdHeader && { trackingId: trackingIdHeader }\n            };\n        })\n        .catch((error = {}) => {\n            if (requestOptions.signal && requestOptions.signal.aborted === true) {\n                return Promise.reject(error);\n            }\n\n            const { response, data } = error;\n            const err = options._getOriginalResponse ? response || error :\n                errorResponse(data, response && response.status) || error;\n\n            return Promise.reject(err);\n        });\n}\n\nexport function getResponseText(response) {\n    return response.text();\n}\n\nexport function getResponseJson(response) {\n    return response.json();\n}\n\nconst errorResponse = (data, status) => {\n    if (!data) {\n        return undefined;\n    }\n\n    const { error, detailedError } = data;\n\n    // preflight response failed\n    if (!error || !detailedError) {\n        return data;\n    }\n\n    return {\n        message: error.description,\n        data: detailedError,\n        status\n    };\n};\n\nfunction withQueryParams(options, url) {\n    if (!options.queryParameters) {\n        return url;\n    }\n\n    const queryString = Object.keys(options.queryParameters)\n        .map(function(key) {\n            return mapQueryParamToKeyValueString(options, key);\n        })\n        .join('&');\n    return url + '?' + queryString;\n}\n\nfunction mapQueryParamToKeyValueString(options, key) {\n    const queryParamValue = options.queryParameters[key];\n    let result = '';\n    if (Array.isArray(queryParamValue)) {\n        result = queryParamValue.map(function(value) {\n            return createKeyValueString(key, value);\n        }).join('&');\n    } else {\n        result = createKeyValueString(key, options.queryParameters[key]);\n    }\n    return result;\n}\n\nfunction createKeyValueString(key, value) {\n    return encodeURIComponent(key) + '=' + encodeURIComponent(value);\n}\n","import template from './template';\nimport { getAnalyticsHeader } from './analytics';\nimport isString from 'lodash/isString';\nimport isObject from 'lodash/isObject';\nimport { getRequestConfiguration, performRequest, getResponseJson } from './helpers';\n\nfunction stringify(obj) {\n    try {\n        return JSON.stringify(obj);\n    } catch (ex) {\n        return null;\n    }\n}\n\nfunction setHeader(requestOptions, headerName, headerValue) {\n    if (!requestOptions.headers) {\n        requestOptions.headers = {};\n    }\n\n    const header = requestOptions.headers[headerName] || requestOptions.headers[headerName.toLowerCase()];\n    if (!header) {\n        requestOptions.headers[headerName] = headerValue;\n    }\n}\n\nfunction addObjectBodyParams(bodyParams, requestOptions) {\n    const body = stringify(bodyParams);\n    if (!body) {\n        throw new Error('Unsupported request body type: ' + bodyParams);\n    }\n    setHeader(requestOptions, 'Content-Type', 'application/json');\n    return body;\n}\n\nfunction addBodyParams(options, requestOptions) {\n    const bodyParams = options.bodyParameters;\n    let body;\n    if (!bodyParams) {\n        return;\n    }\n\n    if (isObject(bodyParams)) {\n        body = addObjectBodyParams(bodyParams, requestOptions);\n    } else if (isString(bodyParams)) {\n        body = bodyParams;\n    }\n\n    requestOptions.body = body;\n}\n\nexport const json = {\n    /**\n     * Executes a request and processes the response as JSON.\n     * @method get\n     * @param {Object} options Specifies the details of the request.\n     * @param {String} options.url The URL to request.\n     * @param {Object} [options.queryParameters] The data to pass as GET parameters with the request.\n     * @param {Object} [options.pathParameters] The data to use as {placeholders} in url.\n     * @param {Function} [transformResponse] The custom response transformer function.\n     * @return {Promise} Returns a promise\n     */\n    get: function(options, transformResponse) {\n        const config = getRequestConfiguration(options, transformResponse, 'json');\n        return performRequest(config.options, config.url, config.requestOptions, getResponseJson);\n    },\n\n    /**\n     * Executes a request and processes the response as JSON.\n     * @method post\n     * @param {Object} options Specifies the details of the request.\n     * @param {String} options.url The URL to request.\n     * @param {Object} [options.queryParameters] The data to pass as Url parameters with the request.\n     * @param {Object} [options.pathParameters] The data to use as {placeholders} in url.\n     * @param {Object} [options.bodyParameters] The data to pass to request body.\n     * @return {Promise} Returns a promise\n     */\n    post: function(options) {\n        options.pathParameters = options.pathParameters || {};\n        options.pathParameters.contentType = 'json';\n        options.pathParameters.protocol = options.pathParameters.protocol || 'https';\n\n        const url = template(options.url, options.pathParameters);\n        const headers = getAnalyticsHeader();\n        headers['Accept'] = 'application/json'; //eslint-disable-line dot-notation\n        if (options.headers && options.headers.trackingId) {\n            headers['Tracking-ID'] = options.headers.trackingId;\n        }\n        const requestOptions = {\n            method: 'POST',\n            headers: headers,\n            mode: 'cors',\n            redirect: 'follow',\n            ...options.abortSignal && { signal: options.abortSignal }\n        };\n\n        addBodyParams(options, requestOptions);\n\n        return performRequest(options, url, requestOptions, getResponseJson);\n    }\n};\n","import { getRequestConfiguration, performRequest, getResponseText } from './helpers';\n\nexport const text = {\n    /**\n     * Executes a request and processes the response as text.\n     * @method get\n     * @param {Object} options Specifies the details of the request.\n     * @param {String} options.url The URL to request.\n     * @param {Object} [options.queryParameters] The data to pass as GET parameters with the request.\n     * @param {Object} [options.pathParameters] The data to use as {placeholders} in url.\n     * @param {Function} [transformResponse] The custom response transformer function.\n     * @return {Promise} Returns a promise\n     */\n    get: function(options, transformResponse) {\n        const config = getRequestConfiguration(options, transformResponse, 'text');\n        return performRequest(config.options, config.url, config.requestOptions, getResponseText);\n    }\n};\n","import { json } from './json';\nimport { text } from './text';\n\nlet useHttp = false;\n\nconst setUseHttp = (use) => {\n    useHttp = use;\n};\n\nconst getProtocol = () => {\n    return useHttp ? 'http' : 'https';\n};\n\nexport default {\n    useHttp: setUseHttp,\n    protocol: getProtocol,\n\n    get: (options, transformResponse) => {\n        options.protocol = (options && options.protocol) || getProtocol();\n        const pathParameters = options.pathParameters;\n        if (pathParameters && pathParameters.contentType === 'text') {\n            return text.get(options, transformResponse);\n        }\n        return json.get(options, transformResponse);\n    },\n\n    post: (options) => {\n        options.protocol = options.protocol || getProtocol();\n        return json.post(options);\n    }\n};\n","import parameterApplications from 'common/parameterApplications';\n\nfunction isQueryParameter(fieldEntry) {\n    const field = fieldEntry[1];\n    return !field.application || field.application === parameterApplications.QUERY;\n}\n\nfunction isPathParam(fieldEntry) {\n    const field = fieldEntry[1];\n    return field.application === parameterApplications.PATH;\n}\n\nfunction isPostParam(fieldEntry) {\n    const field = fieldEntry[1];\n    return field.application === parameterApplications.POST;\n}\n\nfunction isOtherParam(fieldEntry) {\n    const field = fieldEntry[1];\n    return field.application === parameterApplications.OTHER;\n}\n\nfunction isHeaderParam(fieldEntry) {\n    const field = fieldEntry[1];\n    return field.application === parameterApplications.HEADER;\n}\n\nfunction getFieldEntryNames(fieldEntry) {\n    return {\n        name: fieldEntry[0],\n        fieldName: fieldEntry[2]\n    };\n}\n\nfunction toEntry(source) {\n    return (fieldName) => {\n        const name = (source[fieldName] && source[fieldName].name) || fieldName;\n        return [name, source[fieldName], fieldName];\n    };\n}\n\nfunction createParamsNames(fields, paramsFilterFunction) {\n    let params = Object.keys(fields).map(toEntry(fields));\n    params = params.filter(paramsFilterFunction);\n    params = params.map(getFieldEntryNames);\n\n    return params;\n}\n\nfunction createQueryParamsNames(fields) {\n    return createParamsNames(fields, isQueryParameter);\n}\n\nfunction createPathParamsNames(fields) {\n    return createParamsNames(fields, isPathParam);\n}\n\nfunction createPostParamsNames(fields) {\n    return createParamsNames(fields, isPostParam);\n}\n\nfunction createOtherParamsNames(fields) {\n    return createParamsNames(fields, isOtherParam);\n}\n\nfunction createHeaderParamsNames(fields) {\n    return createParamsNames(fields, isHeaderParam);\n}\n\nfunction createParams(fields, createParamNamesFunction, requestOptions) {\n    const params = {};\n    const paramNames = createParamNamesFunction(fields);\n    paramNames.forEach((param) => {\n        if (param.fieldName in requestOptions) {\n            const field = fields[param.fieldName];\n            const paramValue = requestOptions[param.fieldName];\n            if (field.cast) {\n                field.cast(paramValue, params);\n            } else {\n                params[param.name] = paramValue;\n            }\n        }\n    });\n\n    return params;\n}\n\nexport function createRequestParams(fields, requestOptions) {\n    return {\n        pathParams: createParams(fields, createPathParamsNames, requestOptions),\n        queryParams: createParams(fields, createQueryParamsNames, requestOptions),\n        postParams: createParams(fields, createPostParamsNames, requestOptions),\n        otherParams: createParams(fields, createOtherParamsNames, requestOptions),\n        headerParams: createParams(fields, createHeaderParamsNames, requestOptions)\n    };\n}\n","import parameterApplications from 'common/parameterApplications';\n\nconst fieldName = 'contentType';\n\nexport function setField(fields) {\n    const copiedFields = Object.assign({}, fields);\n    copiedFields[fieldName] = {\n        application: parameterApplications.PATH\n    };\n    return copiedFields;\n}\n\nexport function setValue(requestOptions) {\n    requestOptions[fieldName] = requestOptions[fieldName] || 'json';\n    return requestOptions;\n}\n","import http from '@http';\nimport { createRequestParams } from '../request/requestParamsFactory';\nimport isEmpty from 'lodash/isEmpty';\nimport {setField, setValue} from '../request/contentTypeConfigurer';\n\nexport const singleRequestServiceFactory = (endpoint) => {\n    return (fields, options, abortSignal) => {\n        const { pathParams, queryParams, postParams, headerParams } = createRequestParams(\n            setField(fields),\n            setValue(options)\n        );\n\n        const httpOptions = {\n            headers: headerParams,\n            url: '{protocol}://' + endpoint,\n            pathParameters: pathParams,\n            queryParameters: queryParams,\n            abortSignal\n        };\n\n        if (isEmpty(postParams)) {\n            return http.get(httpOptions);\n        } else {\n            httpOptions.bodyParameters = postParams;\n            return http.post(httpOptions);\n        }\n    };\n};\n","export default {\n    or: (value, defaultValue) => {\n        return value || defaultValue;\n    },\n\n    required: (value, error) => {\n        if (value === undefined || value === null) {\n            throw new TypeError(error);\n        }\n        return value;\n    }\n};\n","/* eslint-disable object-curly-spacing */\n/* eslint-disable no-undef */\nimport template from './template';\n\nfunction createKeyValueString(key, value) {\n    return encodeURIComponent(key) + '=' + encodeURIComponent(value);\n}\n\nfunction mapQueryParamToKeyValueString(key, queryParams) {\n    const queryParamValue = queryParams[key];\n    let result = '';\n    if (Array.isArray(queryParamValue)) {\n        result = queryParamValue.map(function(value) {\n            return createKeyValueString(key, value);\n        }).join('&');\n    } else {\n        result = createKeyValueString(key, queryParams[key]);\n    }\n    return result;\n}\n\nfunction withQueryParams(url, queryParams) {\n    if (!queryParams) {\n        return url;\n    }\n\n    const queryString = Object.keys(queryParams)\n        .map((key) => {\n            return mapQueryParamToKeyValueString(key, queryParams);\n        })\n        .join('&');\n    return url + '?' + queryString;\n}\n\nexport default (urlTemplate, pathParams, queryParams) => {\n    const url = template(urlTemplate, pathParams);\n    return withQueryParams(url, queryParams);\n};\n","import http from '@http';\nimport asyncRedirectModeFactory from './asyncRedirectModeFactory';\n\nexport function batchRequestStrategy(options) {\n    let endpoint;\n\n    switch (options.batchMode) {\n    case 'async':\n        endpoint = options.endpoints.async;\n        break;\n    case 'sync':\n        endpoint = options.endpoints.sync;\n        break;\n    default: // same as redirect\n        endpoint = options.endpoints.async;\n        options.queryParams.redirectMode = 'manual';\n        break;\n    }\n\n    if (options.batchMode !== 'sync' && options.waitTimeSeconds) {\n        options.queryParams.waitTimeSeconds = options.waitTimeSeconds;\n    } else if (options.queryParams && options.queryParams.waitTimeSeconds) {\n        delete options.queryParams.waitTimeSeconds;\n    }\n\n    return http.post({\n        url: '{protocol}://' + endpoint,\n        queryParameters: options.queryParams,\n        bodyParameters: options.bodyParams,\n        headers: options.headers,\n        requestType: 'batch',\n        ...options.abortSignal && { abortSignal: options.abortSignal }\n    }).then((response) => {\n        if (options.queryParams.redirectMode === 'manual') {\n            // if batch request is async with manual mode - fetch the results using the url provided\n            return asyncRedirectModeFactory(response);\n        }\n        return response;\n    });\n}\n","import http from '@http';\nimport { origin } from 'endpoints';\n\nexport default urlResponse => http.get({ url: '{protocol}://' + origin + urlResponse });\n","import utils from 'rest/utils';\nimport urlBuilder from '../../requester/urlBuilder';\nimport {createRequestParams} from '../request/requestParamsFactory';\nimport isEmpty from 'lodash/isEmpty';\nimport {setField, setValue} from '../request/contentTypeConfigurer';\n\nimport {batchRequestStrategy} from './batchRequestStrategy';\n\nexport const batchRequestServiceFactory = (maxNoOfElementsInBatchRequest, batchEndpoints) => {\n    return (fields, options, abortSignal) => {\n        const queryParams = {},\n            bodyParams = {};\n\n        queryParams.key = options.key;\n\n        const headers = {};\n        if (options.trackingId) {\n            headers.trackingId = options.trackingId;\n        }\n\n        const rawBatchItems = utils.required(options.batchItems);\n\n        fields = setField(fields);\n        bodyParams.batchItems = rawBatchItems.map(function(item) {\n            const { pathParams, queryParams, postParams } = createRequestParams(\n                fields, setValue(item)\n            );\n\n            const request = {\n                query: urlBuilder(batchEndpoints.single, pathParams, queryParams)\n            };\n\n            if (!isEmpty(postParams)) {\n                request.post = postParams;\n            }\n\n            return request;\n        });\n\n        const batchMode = options.batchMode ||\n            (bodyParams.batchItems.length <= maxNoOfElementsInBatchRequest ? 'sync' : 'redirect');\n\n        return batchRequestStrategy({\n            batchMode,\n            waitTimeSeconds: options.waitTimeSeconds,\n            queryParams: queryParams,\n            bodyParams: bodyParams,\n            headers,\n            endpoints: {\n                sync: batchEndpoints.batchSync,\n                async: batchEndpoints.batch\n            },\n            abortSignal\n        });\n    };\n};\n","import { createRequestParams } from '../request/requestParamsFactory';\nimport { batchRequestStrategy } from './batchRequestStrategy';\n\nconst mainPostParamsName = ['origins', 'destinations'];\n\nfunction getOptionalBodyParams(postParams) {\n    const optionalBodyParamsNames = Object.keys(postParams)\n        .filter(paramName => mainPostParamsName.indexOf(paramName) === -1);\n\n    if (!optionalBodyParamsNames.length) {\n        return null;\n    }\n\n    return optionalBodyParamsNames.reduce((accumulator, paramName) => {\n        accumulator[paramName] = postParams[paramName];\n        return accumulator;\n    }, {});\n}\n\nfunction getBodyParams(postParams) {\n    const bodyParams = {\n            origins: postParams.origins,\n            destinations: postParams.destinations\n        },\n        optionalBodyParams = getOptionalBodyParams(postParams);\n\n    if (optionalBodyParams) {\n        bodyParams.options = {\n            post: optionalBodyParams\n        };\n    }\n\n    return bodyParams;\n}\n\nexport function matrixFactory(maxNoOfElementsInBatchRequest, matrixEndpoints) {\n    return (fields, options, abortSignal) => {\n        const requestParams = createRequestParams(fields, options);\n        const bodyParams = getBodyParams(requestParams.postParams);\n        const queryParams = requestParams.queryParams;\n        const headers = requestParams.headerParams;\n\n        const batchMode = options.batchMode ||\n            (bodyParams.origins.length * bodyParams.destinations.length <= maxNoOfElementsInBatchRequest ?\n                'sync' : 'redirect');\n\n        return batchRequestStrategy({\n            batchMode,\n            headers,\n            waitTimeSeconds: options.waitTimeSeconds,\n            queryParams: queryParams,\n            bodyParams: bodyParams,\n            endpoints: {\n                sync: matrixEndpoints.sync,\n                async: matrixEndpoints.async\n            },\n            abortSignal\n        });\n    };\n}\n","/* eslint-disable object-curly-spacing */\n/* eslint-disable no-undef */\n/**\n * Retrieve polygons (in GeoJSON format) representing administrative borders using IDs related to\n * search results entities.\n *\n * Parameters need to be passed to the constructor.\n *\n * ### Response\n * The response is extended with `getTrackingId()` method, which returns the `Tracking-ID`\n * associated with the request.\n *\n * Please refer to {{#crossLinkModule \"Services\"}}Difference between\n * API responses and this library's responses{{/crossLinkModule}} section.\n *\n * @example\n * ```js\n * tt.services.fuzzySearch({\n *      key: <Your API key>,\n *      query: \"Amsterdam\"\n * }).then(function(response) {\n *      var geometryId = response.results[0].dataSources.geometry.id;\n *      tt.services.additionalData({\n *          key: <Your API key>,\n *          geometries: [geometryId]\n *      }).then(function(adpResponse) {\n *          console.log(adpResponse);\n *      })\n *   });\n * ```\n *\n * @class additionalData\n * @module Services\n * @namespace Services.services\n * @uses KeyMixin\n * @uses BatchMixin\n * @uses GeometriesMixin\n * @uses GeometriesZoomMixin\n * @uses TrackingIdMixin\n * @uses AbortSignalMixin\n * @constructor\n *\n * @param {Object} [options]\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n */\n\nimport {SERVICE_TYPES} from 'Core/serviceTypes';\nimport {\n    string as validateString, trackingId as validateTrackingId, arrayType as validateArrayType,\n    geometriesZoom as validateGeometriesZoom\n} from '../validators';\nimport { batchModel } from '../../model/search/batchModel';\nimport parameterApplications from '../../common/parameterApplications';\nimport {modelResponse} from '../../model/modelResponse';\nimport { v4 as uuid } from 'uuid';\nimport { Endpoints } from '../../endpoints/endpointsManager';\nimport {\n    serviceFactory,\n    singleRequestServiceFactory,\n    batchRequestServiceFactory\n} from '../../core';\n\nconst fields = {\n    key: {\n        validators: [validateString]\n    },\n    trackingId: {\n        validators: [validateTrackingId],\n        application: parameterApplications.HEADER,\n        defaultValue: uuid\n    },\n    geometries: {\n        validators: [validateArrayType],\n        required: true\n    },\n    geometriesZoom: {\n        validators: [validateGeometriesZoom]\n    }\n};\n\nexport function additionalData(options, additionalOptions) {\n    const endpoints = new Endpoints(additionalOptions);\n    const singleAdpRequest = singleRequestServiceFactory(endpoints.resolve('adpEndpoint'));\n    const batchAdpRequest = batchRequestServiceFactory(100, {\n        single: endpoints.resolve('batchAdpQueryEndpoint'),\n        batchSync: endpoints.resolve('batchSyncSearchEndpoint'),\n        batch: endpoints.resolve('batchSearchEndpoint')\n    });\n\n    function handleServiceCall(data, abortSignal) {\n        return singleAdpRequest(fields, data, abortSignal).then(modelResponse);\n    }\n    function handleBatchServiceCall(data, abortSignal) {\n        return batchAdpRequest(fields, data, abortSignal).then(response => modelResponse(response, batchModel));\n    }\n\n    return serviceFactory(\n        fields,\n        SERVICE_TYPES.SEARCH,\n        'additionalData',\n        handleServiceCall,\n        handleBatchServiceCall\n    )(options, additionalOptions);\n}\n","/* jshint nomen:false */\nimport isFunction from 'lodash/isFunction';\nimport castArray from 'lodash/castArray';\nimport isString from 'lodash/isString';\nimport isNil from 'lodash/isNil';\nimport {pointRegex, circleRegex} from './utils';\nimport {\n    routing as routingLanguageMap,\n    search as searchLanguageMap,\n    maps as mapsLanguageMap,\n    incidentV5 as incidentV5LanguageMap\n} from '../config/language/mappings';\n\nimport geopoliticalViewMappings from 'Services/config/geopolView/mappings';\n\nfunction isLatLon(latlon) {\n    return Object.prototype.hasOwnProperty.call(latlon, 'lat') &&\n    (Object.prototype.hasOwnProperty.call(latlon, 'lon') || Object.prototype.hasOwnProperty.call(latlon, 'lng'));\n}\n\nfunction or(first, second) {\n    if (first === undefined) {\n        return second;\n    }\n    return first;\n}\n\nfunction throwTypeErrorWhen(condition, message) {\n    if (condition) {\n        throw new TypeError(message);\n    }\n}\n\nfunction normalizeLatitude(latitude) {\n    const numLatitude = parseFloat(latitude);\n    if (!isFinite(numLatitude)) {\n        throw new TypeError('an number is expected, but ' + latitude + ' [' + typeof latitude + '] given');\n    }\n    const i = Math.ceil((numLatitude - 90) / 180);\n    return numLatitude - 180 * i;\n}\n\nfunction normalizeLongitude(longitude) {\n    const numLongitude = parseFloat(longitude);\n    if (!isFinite(numLongitude)) {\n        throw new TypeError('an number is expected, but ' + longitude + ' [' + typeof longitude + '] given');\n    }\n    const i = Math.ceil((numLongitude - 180) / 360);\n    return numLongitude - 360 * i;\n}\n\nfunction isXY(xy) {\n    return Object.prototype.hasOwnProperty.call(xy, 'x') && Object.prototype.hasOwnProperty.call(xy, 'y');\n}\n\nfunction isLatitudeLongitude(value) {\n    return Object.prototype.hasOwnProperty.call(value, 'latitude') &&\n        Object.prototype.hasOwnProperty.call(value, 'longitude');\n}\n\nfunction isLatLonFunction(value) {\n    return isFunction(value.lat) && isFunction(value.lng);\n}\n\nfunction castPoint(value) {\n    if (Array.isArray(value) && value.length === 2) {\n        return [...value].reverse();\n    }\n    if (isString(value)) {\n        const match = value.match(pointRegex);\n        throwTypeErrorWhen(!match || !match[1] || !match[2],\n            'A point is expected, but ' + value + ' [' + typeof value + '] given');\n        return [match[2], match[1]];\n    }\n    if (isLatLonFunction(value)) {\n        return [value.lat(), value.lng()];\n    }\n    if (isLatLon(value)) {\n        return [value.lat, or(value.lon, value.lng)];\n    }\n    if (isXY(value)) {\n        return [value.y, value.x];\n    }\n    if (isLatitudeLongitude(value)) {\n        return [value.latitude, value.longitude];\n    }\n    throw new TypeError('A point is expected, but ' + value + ' [' + typeof value + '] given');\n}\n\nfunction isLatLonBBox(bbox) {\n    return Object.prototype.hasOwnProperty.call(bbox, 'minLon') &&\n        Object.prototype.hasOwnProperty.call(bbox, 'minLat') &&\n        Object.prototype.hasOwnProperty.call(bbox, 'maxLon') &&\n        Object.prototype.hasOwnProperty.call(bbox, 'maxLat');\n}\n\nfunction isRightLeftTopBottomBBox(bbox) {\n    return Object.prototype.hasOwnProperty.call(bbox, 'left') &&\n        Object.prototype.hasOwnProperty.call(bbox, 'bottom') &&\n        Object.prototype.hasOwnProperty.call(bbox, 'right') &&\n        Object.prototype.hasOwnProperty.call(bbox, 'top');\n}\n\nfunction isWestEastNorthSouthBBox(bbox) {\n    return isFunction(bbox.getWest) && isFunction(bbox.getEast) &&\n        isFunction(bbox.getSouth) && isFunction(bbox.getNorth);\n}\n\nfunction castBoundingBox(bbox) {\n    let sw, ne;\n    if (isLatLonBBox(bbox)) {\n        return bbox;\n    }\n    if (isRightLeftTopBottomBBox(bbox)) {\n        return { minLon: bbox.left, minLat: bbox.bottom, maxLon: bbox.right, maxLat: bbox.top };\n    }\n    if (isWestEastNorthSouthBBox(bbox)) {\n        return {\n            minLon: bbox.getWest(),\n            minLat: bbox.getSouth(),\n            maxLon: bbox.getEast(),\n            maxLat: bbox.getNorth()\n        };\n    }\n    if (isFunction(bbox.getNorthEast) && isFunction(bbox.getSouthWest)) {\n        ne = castPoint(bbox.getNorthEast());\n        sw = castPoint(bbox.getSouthWest());\n        return { minLon: sw[1], minLat: sw[0], maxLon: ne[1], maxLat: ne[0] };\n    }\n    if (Array.isArray(bbox) && bbox.length === 4) {\n        return { minLon: bbox[0], minLat: bbox[1], maxLon: bbox[2], maxLat: bbox[3] };\n    }\n    if (Array.isArray(bbox) && bbox.length === 2) {\n        sw = castPoint(bbox[0]);\n        ne = castPoint(bbox[1]);\n        return { minLon: sw[1], minLat: sw[0], maxLon: ne[1], maxLat: ne[0] };\n    }\n    if (isString(bbox)) {\n        bbox = bbox.trim().split(/\\s*,\\s*/);\n        if (bbox.length === 4) {\n            return {\n                minLon: parseFloat(bbox[0]),\n                minLat: parseFloat(bbox[1]),\n                maxLon: parseFloat(bbox[2]),\n                maxLat: parseFloat(bbox[3])\n            };\n        }\n    }\n    throw new TypeError('Unable to cast ' + bbox + ' [' + typeof bbox + '] to bounding box');\n}\n\nfunction normalizeBoundingBox(bbox) {\n    let w = bbox.minLon, e = bbox.maxLon, s = bbox.minLat, n = bbox.maxLat;\n    if (e - w > 360) {\n        e = 180;\n        w = -180;\n    } else {\n        if (e > 270) {\n            const right = Math.ceil(w / 360);\n            e -= 360 * right;\n            w -= 360 * right;\n        }\n        if (w < -270) {\n            const left = Math.ceil(-e / 360);\n            e += 360 * left;\n            w += 360 * left;\n        }\n    }\n    s = s < -90 ? -90 : s;\n    n = n > 90 ? 90 : n;\n    return { minLon: w, minLat: s, maxLon: e, maxLat: n };\n}\n\nfunction languageConverter(value, mapping) {\n\n    if (isNil(value) || value === '') {\n        return '';\n    }\n\n    if (mapping[value]) {\n        return value;\n    }\n\n    value = value.toLowerCase();\n\n    for (const language in mapping) {\n        if (Object.prototype.hasOwnProperty.call(mapping, language) && language !== 'defaultValue' &&\n            Object.prototype.hasOwnProperty.call(mapping[language].synonyms, value)\n        ) {\n            return language;\n        }\n    }\n    console.warn('Value provided is invalid (' + value +\n        '). Default value (' + mapping.defaultValue.value + ') will be used instead.');\n    return mapping.defaultValue.value;\n}\n\nfunction geopoliticalViewConverter(value) {\n    if (isNil(value) || value === '') {\n        return '';\n    }\n\n    if (geopoliticalViewMappings[value]) {\n        return value;\n    }\n    console.warn('Value provided is invalid (' + value +\n        '). Default value (' + geopoliticalViewMappings.defaultValue + ') will be used instead.');\n    return geopoliticalViewMappings.defaultValue;\n}\n\nfunction circleFromString(value) {\n    const match = value.match(circleRegex);\n    throwTypeErrorWhen(!match || !match[1] || !match[2] || !match[3],\n        'Unable to cast ' + value + ' [' + typeof value + '] to circle');\n\n    const lat = parseFloat(match[2]);\n    const lon = parseFloat(match[1]);\n    const radius = parseFloat(match[3]);\n    throwTypeErrorWhen(!isFinite(lat) || !isFinite(lon),\n        'Unable to cast ' + value + ' [' + typeof value + '] to circle');\n\n    return 'circle(' + lat + ',' + lon + ',' + radius + ')';\n}\n\nfunction castAndNormalizePoint(value) {\n    const point = castPoint(value);\n    return normalizeLatitude(point[0]) + ',' + normalizeLongitude(point[1]);\n}\n\nfunction convertPointOrCircle(value) {\n    if (isString(value) && value.indexOf('circle') > -1) {\n        return circleFromString(value);\n    }\n    if (Array.isArray(value) && value.length === 3) {\n        return 'circle(' + normalizeLatitude(value[1]) + ',' +\n            normalizeLongitude(value[0]) + ',' + value[2] + ')';\n    }\n    return castAndNormalizePoint(value);\n}\n\nfunction extractPointsFromPolygon(inputPoints) {\n    const points = [];\n    for (const point in inputPoints) {\n        if (Object.prototype.hasOwnProperty.call(inputPoints, point)) {\n            points.push(castAndNormalizePoint(inputPoints[point]));\n        }\n    }\n    return points;\n}\n\nfunction convertPointToLatitudeLongitude(point) {\n    if (!isString(point)) {\n        return point;\n    }\n\n    const splitPoint = point.split(',');\n\n    return {\n        latitude: splitPoint[0],\n        longitude: splitPoint[1]\n    };\n}\n\nfunction prepareSupportingPoints(supportingPoints) {\n    return supportingPoints.map(convertPointToLatitudeLongitude);\n}\n\nexport function convertBoundingBox(value) {\n    return normalizeBoundingBox(castBoundingBox(value));\n}\n\nexport function longitude(value) {\n    return normalizeLongitude(value);\n}\n\nexport function latitude(value) {\n    return normalizeLatitude(value);\n}\n\nexport function point(value) {\n    return castAndNormalizePoint(value);\n}\n\nexport function dateTime(value) {\n    if (value && value instanceof Date) {\n        return value.toISOString();\n    }\n\n    if (!value || !isString(value)) {\n        throw new TypeError('Unable to cast ' + value + ' [' + typeof value + '] to datetime value.');\n    }\n    if (value !== 'now') {\n        value = new Date(value).toISOString();\n    }\n    return value;\n}\n\nexport function geometryList(value) {\n    let figure;\n    throwTypeErrorWhen(!value || !Array.isArray(value),\n        'Unable to cast ' + value + ' [' + typeof value + '] to geometry list (array)');\n\n    for (const figureName in value) {\n        if (Object.prototype.hasOwnProperty.call(value, figureName)) {\n            figure = value[figureName];\n            if (figure.type === 'POLYGON') {\n                figure.vertices = extractPointsFromPolygon(figure.vertices);\n            } else if (figure.type === 'CIRCLE') {\n                figure.position = castAndNormalizePoint(figure.position);\n            }\n        }\n    }\n    return value;\n}\n\nexport function mapLanguage(value) {\n    return languageConverter(value, mapsLanguageMap);\n}\n\nexport function searchLanguage(value) {\n    return languageConverter(value, searchLanguageMap);\n}\n\nexport function routingGuidanceLanguage(value) {\n    return languageConverter(value, routingLanguageMap);\n}\n\nexport function incidentDetailsV5Language(value) {\n    return languageConverter(value, incidentV5LanguageMap);\n}\n\nexport function geopoliticalView(value) {\n    return geopoliticalViewConverter(value);\n}\n\nexport function routingLocations(value) {\n    const response = [];\n    if (isString(value)) {\n        return value\n            .split(':')\n            .map((point) => point.split(',').reverse().join(','))\n            .join(':');\n    }\n    if (Array.isArray(value)) {\n        throwTypeErrorWhen(value.length < 2,\n            'Unable to cast ' + value + ' [' + typeof value + '] to routing locations string');\n\n        // Convert first element to point\n        response.push(castAndNormalizePoint(value[0]));\n\n        // Convert elements from 1 to length-2 to point or circle\n        for (let i = 1; i < value.length - 1; i += 1) {\n            response.push(convertPointOrCircle(value[i]));\n        }\n\n        // Convert last element (length-1) to point\n        response.push(castAndNormalizePoint(value[value.length - 1]));\n\n        // Join converted elements\n        return response.join(':');\n    }\n    throw new TypeError('Unable to cast ' + value + ' [' + typeof value + '] to routing locations string');\n}\n\nexport function roadUse(value) {\n    if (isString(value)) {\n        return '[\"' + value.replace(/[\"']|^\\s+|\\s+$/g, '').split(/[\\s,]+/).join('\",\"') + '\"]';\n    }\n    if (Array.isArray(value)) {\n        for (let i = 0; i < value.length; i += 1) {\n            value[i] = String(value[i]).replace(/[\"']|^\\s+|\\s+$/g, '');\n        }\n        return '[\"' + value.join('\",\"') + '\"]';\n    }\n    throw new TypeError('Unable to cast ' + value + ' [' + typeof value + '] to road use string');\n}\n\nexport function arrayOf(options) {\n    return (values) => {\n        values.forEach((value) => {\n            for (const key in value) {\n                if (Object.prototype.hasOwnProperty.call(value, key) &&\n                        Object.prototype.hasOwnProperty.call(options, key) &&\n                        Array.isArray(options[key].converters)) {\n                    options[key].converters.forEach((converter) => {\n                        if (isFunction(converter)) {\n                            value[key] = converter(value[key]);\n                        }\n                    });\n                }\n            }\n        });\n        return values;\n    };\n}\n\nexport function objectOf(options) {\n    return (value) => {\n        for (const key in value) {\n            if (Object.prototype.hasOwnProperty.call(value, key) &&\n                    Object.prototype.hasOwnProperty.call(options, key) &&\n                    isFunction(options[key].converter)) {\n\n                value[key] = options[key].converter(value[key]);\n            }\n        }\n        return value;\n    };\n}\n\nexport function arrayOfStrings(value) {\n    if (!value) {\n        return [];\n    }\n    if (isString(value)) {\n        value = value.trim().replace(/\\s*[,;]\\s*/g, ',');\n        return value.split(/[,;]+/);\n    }\n    if (Array.isArray(value)) {\n        return value;\n    }\n    throw new TypeError('Unable to cast ' + value + ' [' + typeof value + '] to array of strings');\n}\n\nexport function route(values) {\n    return {\n        points: values.map(castPoint).map(([lat, lon]) => ({ lat, lon }))\n    };\n}\n\nexport function integer(value) {\n    return Math.round(Number(value));\n}\n\nexport function supportingPoints(value) {\n    const arrayOfPoints = [];\n    if (isString(value)) {\n        value = value.split(':');\n    }\n    if (Array.isArray(value)) {\n\n        // Convert elements to points\n        for (let i = 0; i < value.length; i++) {\n            arrayOfPoints.push(castAndNormalizePoint(value[i]));\n        }\n    } else {\n        arrayOfPoints.push(castAndNormalizePoint(value));\n    }\n    return prepareSupportingPoints(arrayOfPoints);\n}\n\nexport function constantSpeedConsumption(value) {\n    if (isString(value)) {\n        return value;\n    }\n\n    if (!Array.isArray(value)) {\n        throw new TypeError('An array is required');\n    }\n    return value.join(':');\n}\n\nexport function avoidAreas(value) {\n    if (!Array.isArray(value)) {\n        throw new TypeError('An array is required');\n    }\n    return {\n        rectangles: value.map((area) => {\n            return {\n                southWestCorner: convertPointToLatitudeLongitude(castAndNormalizePoint(area.southWestCorner)),\n                northEastCorner: convertPointToLatitudeLongitude(castAndNormalizePoint(area.northEastCorner))\n            };\n        })\n    };\n}\n\nexport function commaSeparated(value) {\n    if (Array.isArray(value)) {\n        return value.join();\n    } else {\n        throw new TypeError('An array is required');\n    }\n}\n\nexport function array(value) {\n    return castArray(value);\n}\n\nexport function removeWhitespaces(value) {\n    if (typeof value === 'string') {\n        return value.replace(/\\s/g, '');\n    } else {\n        throw new TypeError('A string is required');\n    }\n}\n\n","export const SEARCH = 'search';\nexport const POI_SEARCH = 'poiSearch';\nexport const CATEGORY_SEARCH = 'categorySearch';\nexport const GEOMETRY_SEARCH = 'geometrySearch';\nexport const NEARBY_SEARCH = 'nearbySearch';\nexport const SEARCH_ALONG_ROUTE = 'searchAlongRoute';\n\n","/* eslint-disable max-len */\n/**\n * Makes a search request using the TomTom\n * [Search API - Along Route Search](ALONG_ROUTE_SEARCH_URL).\n *\n * The Search Along Route endpoint allows you to perform a fuzzy search for\n * POIs along a specified route. This search is constrained by specifying the\n * Detour Time limiting measure.\n *\n * To send the route points, this service will use a POST request with the  {{#crossLink \"Services.services.alongRouteSearch/route:parameter\"}}{{/crossLink}} encoded as a JSON payload.\n * The minimum number of route points is 2.\n *\n * Parameters need to be passed to the constructor.\n *\n * ### Response\n * The response is extended with `getTrackingId()` method, which returns the `Tracking-ID`\n * associated with the request.\n *\n * Additionally, the response extends API response by providing `toGeoJson()` method, which converts along route search data into\n * FeatureCollection with <a target=\"_blank\" rel=”noopener” href=\"https://tools.ietf.org/html/rfc7946#section-3.1.2\">Point</a> geometry.\n *\n * Each point feature represents `poi` from the original response. Properties of `poi` are mapped into feature properties\n *\n * Please refer to {{#crossLinkModule \"Services\"}}Difference between\n * API responses and this library's responses{{/crossLinkModule}} section.\n *\n * @example\n *```js\n * tt.services.alongRouteSearch({\n *     key: <Your API key>,\n *     limit: 20,\n *     maxDetourTime: 120,\n *     query: 'gas station',\n *     route: [\n *         {\n *             'lat': 37.7524152343544,\n *             'lon':-122.43576049804686\n *         },\n *         {\n *             'lat': 37.70660472542312,\n *             'lon':-122.43301391601562\n *         },\n *         [-122.36434936523438, 37.712059855877314], // Another valid format\n *     ]\n *   }).then(function(response) {\n *     console.log('SUMMARY:');\n *     console.table(response.summary);\n *     console.log('RESULTS:');\n *     console.table(response.results);\n *   });\n * ```\n *\n * For a list of all available formats for routes, read the documentation for the\n * {{#crossLink \"Services.services.alongRouteSearch/route:parameter\"}}{{/crossLink}} option.\n *\n * @class alongRouteSearch\n * @namespace Services.services\n * @module Services\n * @uses KeyMixin\n * @uses QueryMixin\n * @uses BatchMixin\n * @uses BrandSetMixin\n * @uses OpeningHoursMixin\n * @uses CategorySetMixin\n * @uses ConnectorSetMixin\n * @uses TimeZoneMixin\n * @uses MapcodesMixin\n * @uses FuelSetMixin\n * @uses TrackingIdMixin\n * @uses MaxPowerKwMixin\n * @uses MinPowerKwMixin\n * @uses ViewMixin\n * @uses AbortSignalMixin\n * @constructor\n *\n * @param {Object} [options]\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n */\n/* eslint-enable max-len */\n\nimport {SERVICE_TYPES} from 'Core/serviceTypes';\nimport {\n    bool as validateBool, string as validateString, key as validateKey, trackingId as validateTrackingId,\n    oneOfValue as validateOneOfValue, number as validateNumber, integerInInterval as validateIntegerInInterval,\n    route as validateRoute, connectorSet as validateConnectorSet\n} from '../validators';\nimport {route as convertRoute} from '../converters';\nimport { SEARCH_ALONG_ROUTE } from '../../common/searchTypes';\nimport parameterApplications from '../../common/parameterApplications';\nimport { v4 as uuid } from 'uuid';\nimport {modelResponse} from '../../model/modelResponse';\nimport { Endpoints } from '../../endpoints/endpointsManager';\nimport {searchModel} from '../../model/search/search';\nimport {\n    singleRequestServiceFactory, batchRequestServiceFactory, serviceFactory\n} from '../../core';\n\nconst searchType = SEARCH_ALONG_ROUTE;\n\nconst fields = {\n    key: {\n        validators: [validateKey]\n    },\n\n    trackingId: {\n        validators: [validateTrackingId],\n        application: parameterApplications.HEADER,\n        defaultValue: uuid\n    },\n\n    /**\n     * The maximum allowed value is 3600.\n     *\n     * @attribute maxDetourTime\n     * @param {Number} [options.maxDetourTime] New maximum detour time in seconds.\n     */\n    maxDetourTime: {\n        validators: [validateIntegerInInterval(1, 3600)],\n        required: true\n    },\n\n    /**\n     * @attribute spreadingMode\n     * @param {String} [options.spreadingMode] Enables the spreading of returned results evenly along the route.\n     */\n    spreadingMode: {\n        validators: [validateOneOfValue(['auto'], 'spreading mode')]\n    },\n\n    /**\n     * The following formats are supported:\n     *\n     * - **String[]** (longitude/latitude pairs)\n     *   - `[\"4.8,52.3\", \"4.8,52.3\"]`\n     * - **Array[]** (longitude/latitude pairs)\n     *   - `[ [4.8,52.3], [4.8,52.3] ]`\n     * - **Object[]**\n     *   - `{lon: 4.8, lat: 52.3}`\n     *   - `{lng: 5.8, lat: 53.3}`\n     *   - `{x: 53.3, y: 5.8}`\n     *   - `{longitude: 5.8, latitude: 53.3}`\n     *   - `{lng: Function, lat: Function}` The functions should return a numeric value.\n     *\n     * @example\n     *```js\n     * function callbackFn(response) {\n     *   console.log(response);\n     * }\n     *\n     * tomtom.alongRouteSearch({\n     *   route:[\n     *     {\n     *         lat: 37.7524152343544,\n     *         lon:-122.43576049804686\n     *     },\n     *     {\n     *         lat: 37.70660472542312,\n     *         lon:-122.43301391601562\n     *     }\n     *   ]\n     * })\n     *\n     * .then(callbackFn);\n     *```\n     *\n     * @attribute route\n     * @param {Array} [options.route] Route representation.\n     */\n    route: {\n        required: true,\n        converters: [convertRoute],\n        validators: [validateRoute],\n        application: parameterApplications.POST\n    },\n\n    query: {\n        required: true,\n        validators: [validateString],\n        application: parameterApplications.PATH\n    },\n\n    // A custom \"limit\" docblock is used because the max limit value differs from the one used on the\n    // other services (100).\n    /**\n     * @attribute limit\n     * @param {Number} [options.limit=10] The maximum number of elements in the response. The maximum number is 20.\n     */\n    limit: {\n        validators: [validateIntegerInInterval(1, 20)]\n    },\n\n    type: {\n        validators: [validateString],\n        defaultValue: searchType,\n        application: parameterApplications.PATH\n    },\n\n    brandSet: {\n        validators: [validateString]\n    },\n\n    categorySet: {\n        validators: [validateString]\n    },\n\n    connectorSet: {\n        validators: [validateConnectorSet]\n    },\n\n    minPowerKW: {\n        validators: [validateNumber]\n    },\n\n    maxPowerKW: {\n        validators: [validateNumber]\n    },\n\n    openingHours: {\n        validators: [validateOneOfValue(['nextSevenDays'], 'openingHours parameter')]\n    },\n\n    timeZone: {\n        validators: [validateOneOfValue(['iana'], 'timeZone parameter')]\n    },\n\n    /**\n     * @attribute sortBy\n     * @param {String} [options.sortBy='detourTime']  Parameter which provides possibility to sort returned results.\n     * Values: `detourTime`, `detourDistance`, `detourOffset`\n     *\n     * * Detour distance will be calculated as a difference between the original distance and the distance of a new\n     * route with Point Of Interest location.\n     * * `detourDistance` field will be present in every response regardless of sorting parameter.\n     * * If detour offset is set to false `detourOffset=false` and sorting parameter is set to detourOffset\n     * `sortBy=detourOffset` then detour offset will be calculated and results will be sorted as expected, but\n     * detourOffset value will not be present in the response.\n     */\n    sortBy: {\n        validators: [validateOneOfValue(['detourTime', 'detourOffset', 'detourDistance'], 'sortBy')]\n    },\n\n    /**\n     * @attribute detourOffset\n     * @param {Boolean} [options.detourOffset=false] Parameter which turns on calculation of the distance between the\n     * start of the route and the starting point of the detour to a POI.\n     *\n     * * Detour offset is also calculated when `sortBy` parameter is set to `detourOffset`.\n     * * Value is provided in a response only when `detourOffset` is set to `true`.\n     */\n    detourOffset: {\n        validators: [validateBool]\n    },\n\n    view: {\n        validators: [validateString]\n    }\n};\n\nexport function alongRouteSearch(options, additionalOptions) {\n    const endpoints = new Endpoints(additionalOptions);\n    const singleRequest = singleRequestServiceFactory(endpoints.resolve('searchEndpoint'));\n    const batchRequest = batchRequestServiceFactory(100, {\n        single: endpoints.resolve('batchSearchQueryEndpoint'),\n        batchSync: endpoints.resolve('batchSyncSearchEndpoint'),\n        batch: endpoints.resolve('batchSearchEndpoint')\n    });\n\n    const handleServiceCall = (data, abortSignal) => {\n        return singleRequest(fields, data, abortSignal)\n            .then(response => modelResponse(response, searchModel));\n    };\n    const handleBatchServiceCall = (data, abortSignal) => {\n        return batchRequest(fields, data, abortSignal)\n            .then(response => modelResponse(response, searchModel));\n    };\n\n    return serviceFactory(\n        fields,\n        SERVICE_TYPES.SEARCH,\n        'alongRouteSearch',\n        handleServiceCall,\n        handleBatchServiceCall\n    )(options, additionalOptions);\n}\n","import isString from 'lodash/isString';\nimport isEmpty from 'lodash/isEmpty';\nimport {isValidValue} from './utils';\n\nconst engineType = {\n    combustion: 'combustion',\n    electric: 'electric',\n    any: 'any'\n};\n\nfunction validateIfPointsGreaterOrEqual(speedsAndConsumptions) {\n    const sortedKeys = Object.keys(speedsAndConsumptions).sort(function(x, y) {\n        return parseFloat(x) > parseFloat(y);\n    });\n    const keysLength = sortedKeys.length;\n\n    if (speedsAndConsumptions[sortedKeys[keysLength - 2]] > speedsAndConsumptions[sortedKeys[keysLength - 1]]) {\n        throw new Error('Consumption for two highest speeds should be increasing');\n    }\n}\n\nfunction validateFloat(val) {\n    if (isNaN(parseFloat(val)) || !isFinite(val)) {\n        throw new Error('A value parsable to float is expected, but ' + val + ' [' + typeof val + '] given');\n    }\n}\n\n/**\n * @param {String[]} arr\n */\nfunction consumptionPairsValidator(arr) {\n    const speedsAndConsumptions = {};\n    arr.forEach(function(element) {\n        const pair = element.split(',');\n        if (pair.length !== 2) {\n            throw new Error('Invalid number of parameters in the pair around ' + element);\n        }\n        if (pair[0].trim().length === 0) {\n            throw new Error('Speed value must not be empty.');\n        }\n        if (pair[1].trim().length === 0) {\n            throw new Error('Consumption value must not be empty.');\n        }\n        validateFloat(pair[0]);\n        validateFloat(pair[1]);\n        if (Object.prototype.hasOwnProperty.call(speedsAndConsumptions, parseFloat(pair[0]))) {\n            throw new Error('Duplicate speed: ' + pair[0]);\n        } else {\n            speedsAndConsumptions[parseFloat(pair[0])] = parseFloat(pair[1]);\n        }\n    });\n    if (Object.keys(speedsAndConsumptions).length > 1) {\n        validateIfPointsGreaterOrEqual(speedsAndConsumptions);\n    }\n}\n\nfunction checkIfCorrectEngineType(obj, type) {\n    if (obj.vehicleEngineType && obj.vehicleEngineType !== type && type !== engineType.any) {\n        throw new Error('Expecting vehicleEngineType set to ' + type);\n    }\n}\n\nfunction efficiencyParameterRequired(obj, paramName) {\n    if (!(isValidValue(obj.accelerationEfficiency) &&\n        isValidValue(obj.decelerationEfficiency) &&\n        isValidValue(obj.uphillEfficiency) &&\n        isValidValue(obj.downhillEfficiency))) {\n        throw new Error('Efficiency parameters are required when using ' + paramName);\n    }\n}\n\nfunction hasEfficiencyParameterSet(obj) {\n    return obj.accelerationEfficiency ||\n        obj.decelerationEfficiency ||\n        obj.uphillEfficiency ||\n        obj.downhillEfficiency;\n}\n\nfunction validateDependantParameters(obj, paramName1, paramName2) {\n    if (!(obj[paramName1] && obj[paramName2])) {\n        throw new Error('Missing dependant parameter. Expecting both defined: ' + paramName1 + ', ' + paramName2);\n    }\n}\n\nfunction validateEfficiencyParameters(obj, paramName1, paramName2) {\n    if (obj[paramName1] * obj[paramName2] > 1) {\n        throw new Error('Product of ' + paramName1 + ' and ' + paramName2 + ' cannot exceed 1');\n    }\n}\n\n/**\n * @ignore\n * Consumption Model cannot be used with travelMode values bicycle and pedestrian.\n * @param {Object} obj\n */\nfunction validateTravelMode(obj) {\n    if (obj.travelMode === 'bicycle' || obj.travelMode === 'pedestrian') {\n        throw new Error('Consumption model parameters cannot be set if travelMode is set to bicycle or pedestrian');\n    }\n}\n\n/**\n * @ignore\n * All parameters require constantSpeedConsumption* to be specified by the user. It is an\n * error to specify any other consumption model parameter (with the exception of vehicleWeight)\n * if constantSpeedConsumption* is not specified.\n * @param {Object} obj\n */\nfunction hasConstantSpeedConsumption(obj) {\n    if (!obj.constantSpeedConsumptionInLitersPerHundredkm && !obj.constantSpeedConsumptionInkWhPerHundredkm) {\n        throw new Error('Consumption model cannot be used without setting constant speed consumption parameter');\n    }\n}\n\n/**\n * @ignore\n * The list must contain between 1 and 25 points (inclusive), and may not contain\n * duplicate points for the same speed. If it only contains a single point, then the\n * consumption rate of that point is used without further processing.\n * Consumption specified for the highest speed must be greater than or equal to\n * that of the penultimate highest speed. This ensures that extrapolation does not\n * lead to negative consumption rates. Similarly, consumption values specified for the\n * two lowest speeds in the list cannot lead to a negative consumption rate for any lower speed.\n * The minimum and maximum values described here refer to the valid range for the consumption\n * values (expressed in l/100km).\n * @param {Number} engineType\n * @param {Object} obj\n * @return {Function} function\n */\nexport function constantSpeedConsumption(engineType) {\n    return (value, obj) => {\n        if (value === undefined || value === null) {\n            return;\n        }\n        validateTravelMode(obj);\n        checkIfCorrectEngineType(obj, engineType);\n        if (!isString(value)) {\n            throw new TypeError('Expecting a String like \"15.2,12.2:8.0,9.0\"');\n        }\n        const speedPairs = value.split(':');\n        if (speedPairs.length < 1 || speedPairs.length > 25) {\n            throw new Error('Incorrect amount of speed-consumption pairs provided. Expecting 1-25, but got ' +\n                value.length);\n        }\n        consumptionPairsValidator(speedPairs);\n    };\n}\n\nexport function vehicleWeight(value, obj) {\n    if (hasEfficiencyParameterSet(obj) && value === undefined) {\n        throw new Error('vehicleWeight parameter must be set if any efficiency parameters is present');\n    }\n}\n\nexport function floatAndEngineType(engineType, paramName) {\n    return function(value, obj) {\n        if (!value) {\n            return;\n        }\n        validateTravelMode(obj);\n        hasConstantSpeedConsumption(obj);\n        checkIfCorrectEngineType(obj, engineType);\n        validateFloat(value);\n        if (value < 0) {\n            throw new Error(paramName + ': Expecting positive value');\n        }\n    };\n}\n\nexport function fuelEnergyDensityInMJoulesPerLiter(value, obj) {\n    if (!value) {\n        return;\n    }\n    validateTravelMode(obj);\n    validateFloat(value);\n    hasConstantSpeedConsumption(obj);\n    checkIfCorrectEngineType(obj, 'combustion');\n    efficiencyParameterRequired(obj, 'fuelEnergyDensityInMJoulesPerLiter');\n}\n\n/**\n * @ignore\n * accelerationEfficiency and decelerationEfficiency must always be specified as a pair (i.e., both or none).\n * uphillEfficiency and downhillEfficiency must always be specified as a pair (i.e., both or none).\n * If accelerationEfficiency and decelerationEfficiency are specified, the\n * product of their values must not be greater than 1 (to prevent perpetual motion).\n * If uphillEfficiency and downhillEfficiency are specified, the product of their\n * values must not be greater than 1 (to prevent perpetual motion).\n * @param {Number} paramName1\n * @param {Number} paramName2\n * @return {undefined} undefined\n */\nexport function efficiencyParameter(paramName1, paramName2) {\n    return function(value, obj) {\n        if (!value) {\n            return;\n        }\n        validateTravelMode(obj);\n        hasConstantSpeedConsumption(obj);\n        checkIfCorrectEngineType(obj, engineType.any);\n        validateDependantParameters(obj, paramName1, paramName2);\n        /**\n         * @ignore\n         * If *Efficiency parameters are specified by the user, then vehicleWeight must also be specified.\n         */\n        validateDependantParameters(obj, paramName1, 'vehicleWeight');\n        /**\n         * @ignore\n         * When vehicleEngineType is combustion, fuelEnergyDensityInMJoulesPerLiter must be specified as well.\n         */\n        if (obj.vehicleEngineType === engineType.combustion) {\n            validateDependantParameters(obj, paramName1, 'fuelEnergyDensityInMJoulesPerLiter');\n        }\n        validateEfficiencyParameters(obj, paramName1, paramName2);\n        validateFloat(value);\n    };\n}\n\nexport function chargeParameter(paramName1, paramName2) {\n    return function(value, obj) {\n        if (!value) {\n            return;\n        }\n        validateTravelMode(obj);\n        hasConstantSpeedConsumption(obj);\n        checkIfCorrectEngineType(obj, engineType.electric);\n        validateDependantParameters(obj, paramName1, paramName2);\n        validateFloat(value);\n    };\n}\n\nexport function budgetInRange(_, data) {\n    let maxBudget;\n    let currentBudgetProvided;\n    const electricEngine = data.vehicleEngineType === 'electric';\n    if (electricEngine) {\n        maxBudget = data.currentChargeInkWh;\n        currentBudgetProvided = data.energyBudgetInkWh;\n        if (currentBudgetProvided > maxBudget) {\n            throw new Error('Energy budget may not be greater than current energy.');\n        }\n    } else {\n        maxBudget = data.currentFuelInLiters;\n        currentBudgetProvided = data.fuelBudgetInLiters;\n        if (currentBudgetProvided > maxBudget) {\n            throw new Error('Fuel budget may not be greater than current fuel.');\n        }\n    }\n    if (currentBudgetProvided < 0) {\n        throw new Error('Budget may not be negative.');\n    }\n}\n\nexport function requiredBudget(_, data) {\n    const liters = 'fuelBudgetInLiters' in data;\n    const watts = 'energyBudgetInkWh' in data;\n    const seconds = 'timeBudgetInSec' in data;\n    const meters = 'distanceBudgetInMeters' in data;\n    const numberOfSetParams = [liters, watts, seconds, meters].filter(budget => budget).length;\n    if (numberOfSetParams === 0 || numberOfSetParams > 1) {\n        throw new Error('Exactly one of fuelBudgetInLiters, energyBudgetInkWh, ' +\n            'timeBudgetInSec and distanceBudgetInMeters must be set.');\n    }\n}\n\nexport function requiredWithSpecificEngineType(value, data, key) {\n    const consumptionInLiters = 'constantSpeedConsumptionInLitersPerHundredkm' in data;\n    const consumptionInWatts = 'constantSpeedConsumptionInkWhPerHundredkm' in data;\n    const electricEngine = data.vehicleEngineType === 'electric';\n\n    if (key === 'energyBudgetInkWh' && value) {\n        if (!electricEngine) {\n            throw new Error('Engine type should be \"electric\" when energyBudgetInkWh is set');\n        }\n        if (!consumptionInWatts) {\n            throw new Error('Missing constant speed consumption for electric engine.');\n        }\n    } else if (key === 'fuelBudgetInLiters' && value) {\n        if (electricEngine) {\n            throw new Error('Engine type should be \"combustion\" or undefined when fuelBudgetInLiters is set');\n        }\n        if (!consumptionInLiters) {\n            throw new Error('Missing constant speed consumption for combustion engine.');\n        }\n    }\n}\n\nexport function notCommon(_, data) {\n    const forbiddenAvoid = 'alreadyUsedRoads';\n    const forbiddenModes = ['bicycle', 'pedestrian'];\n\n    if ('avoid' in data && data.avoid.indexOf(forbiddenAvoid) > -1) {\n        throw new Error(forbiddenAvoid + ' is not allowed value for avoid parameter ' +\n            'in Calculate Reachable Route request.');\n    }\n\n    if ('travelMode' in data && forbiddenModes.indexOf(data.travelMode) > -1) {\n        throw new Error(data.travelMode + ' is not allowed value for travelMode parameter ' +\n            'in Calculate Reachable Route request.');\n    }\n\n    if ('arriveAt' in data) {\n        throw new Error('arriveAt parameter is not allowed in Calculate Reachable Route request.');\n    }\n}\n\nexport function firstParamCannotBeUsedWithSecond(paramNameUsed, paramNameToAvoid) {\n    return function(value, obj) {\n        if (!value) {\n            return;\n        }\n        if (Object.prototype.hasOwnProperty.call(obj, paramNameToAvoid) &&\n            isValidValue(obj[paramNameToAvoid])) {\n            throw new Error(paramNameUsed + ' parameter cannot be used in conjunction with ' +\n                paramNameToAvoid);\n        }\n    };\n}\n\nexport function requiresDependantParameter(parameterName, dependantParameter) {\n    return function(value, obj) {\n        if (!value) {\n            return;\n        }\n        if (!Object.prototype.hasOwnProperty.call(obj, dependantParameter)) {\n            throw new Error(dependantParameter + ' must be specified when using with ' + parameterName);\n        }\n    };\n}\n\nexport function notRequiredWithCategoryNorBrandSet(_, data) {\n    const isQueryAbsent = isEmpty(data.query);\n    const isBrandSetAbsent = isEmpty(data.brandSet);\n    const isCategorySetAbsent = isEmpty(data.categorySet);\n    if (isQueryAbsent && isBrandSetAbsent && isCategorySetAbsent) {\n        throw new Error('Empty query parameter is only allowed when used with brandSet or categorySet filters');\n    }\n}\n\nexport function consumptionRecuperationAltitudeParameter(_, data) {\n    const recuperationInkWhPerkmAltitudeLoss = data.recuperationInkWhPerkmAltitudeLoss;\n    const consumptionInkWhPerkmAltitudeGain = data.consumptionInkWhPerkmAltitudeGain;\n\n    validateFloat(recuperationInkWhPerkmAltitudeLoss);\n    validateFloat(consumptionInkWhPerkmAltitudeGain);\n\n    if (consumptionInkWhPerkmAltitudeGain < recuperationInkWhPerkmAltitudeLoss) {\n        throw new Error('consumptionInkWhPerkmAltitudeGain must be greater than ' +\n        'recuperationInkWhPerkmAltitudeLoss');\n    }\n\n    if (consumptionInkWhPerkmAltitudeGain > 500) {\n        throw new Error('recuperationInkWhPerkmAltitudeLoss and less than 500.0');\n    }\n\n    if (recuperationInkWhPerkmAltitudeLoss < 0) {\n        throw new Error('recuperationInkWhPerkmAltitudeLoss must be greater than 0.0');\n    }\n}\n","import {\n    validateBoundingBox,\n    bool as validateBool, string as validateString, trackingId as validateTrackingId,\n    oneOfValue as validateOneOfValue, naturalInteger as validateNaturalInteger,\n    languageCode as validateLanguageCode, point as validatePoint, countrySet as validateCountrySet,\n    number as validateNumber, mapcodes as validateMapcodes, limit as validateLimit,\n    connectorSet as validateConnectorSet, fuelSet as validateFuelSet, offset as validateOffset\n} from '../../services/validators';\nimport {\n    convertBoundingBox, searchLanguage as convertLanguage, point as convertPoint\n} from '../../services/converters';\n\nimport { SEARCH } from '../../common/searchTypes';\nimport parameterApplications from '../../common/parameterApplications';\nimport {notRequiredWithCategoryNorBrandSet} from '../postValidators';\nimport { v4 as uuid } from 'uuid';\n\nexport default {\n    create: () => {\n        return {\n            __all: {\n                validators: [notRequiredWithCategoryNorBrandSet]\n            },\n            key: {\n                validators: [validateString]\n            },\n            trackingId: {\n                validators: [validateTrackingId],\n                application: parameterApplications.HEADER,\n                defaultValue: uuid\n            },\n            query: {\n                validators: [\n                    validateString\n                ],\n                application: parameterApplications.PATH,\n                defaultValue: ''\n            },\n            typeahead: {\n                validators: [validateBool]\n            },\n            limit: {\n                validators: [validateLimit]\n            },\n            offset: {\n                validators: [validateOffset],\n                name: 'ofs'\n            },\n            language: {\n                validators: [validateLanguageCode],\n                converters: [convertLanguage]\n            },\n            countrySet: {\n                validators: [validateCountrySet]\n            },\n            radius: {\n                validators: [validateNaturalInteger]\n            },\n            center: {\n                converters: [convertPoint], validators: [validatePoint],\n                cast: (center, requestOptions) => {\n                    const coordinates = center.split(',');\n                    requestOptions.lat = coordinates[0];\n                    requestOptions.lon = coordinates[1];\n                }\n            },\n            type: {\n                validators: [validateString],\n                defaultValue: SEARCH,\n                application: parameterApplications.PATH\n            },\n            bestResult: {\n                validators: [validateBool],\n                cast: (bestResults, requestOptions) => {\n                    if (!bestResults) {\n                        return;\n                    }\n                    requestOptions.limit = 1;\n                    requestOptions.ofs = 0;\n                }\n            },\n            protocol: {\n                validators: [validateOneOfValue(['http', 'https'], 'protocol')]\n            },\n            extendedPostalCodesFor: {\n                validators: [validateString]\n            },\n            view: {\n                validators: [validateOneOfValue(['IL', 'MA', 'IN', 'PK', 'Unified', 'RU', 'TR', 'AR', 'CN'], 'view')]\n            },\n            brandSet: {\n                validators: [validateString]\n            },\n            categorySet: {\n                validators: [validateString]\n            },\n            connectorSet: {\n                validators: [validateConnectorSet]\n            },\n            minPowerKW: {\n                validators: [validateNumber]\n            },\n            maxPowerKW: {\n                validators: [validateNumber]\n            },\n            openingHours: {\n                validators: [validateOneOfValue(['nextSevenDays'], 'openingHours parameter')]\n            },\n            timeZone: {\n                validators: [validateOneOfValue(['iana'], 'timeZone parameter')]\n            },\n            mapcodes: {\n                validators: [validateMapcodes]\n            },\n            fuelSet: {\n                validators: [validateFuelSet]\n            },\n            relatedPois: {\n                validators: [validateOneOfValue(['off', 'child', 'parent', 'all'], 'relatedPois')]\n            }\n        };\n    }\n};\n\nexport const boundingBox = () => ({\n    validators: [validateBoundingBox],\n    converters: [convertBoundingBox],\n    cast: (boundingBox, requestOptions) => {\n        requestOptions.topLeft = `${boundingBox.maxLat},${boundingBox.minLon}`;\n        requestOptions.btmRight = `${boundingBox.minLat},${boundingBox.maxLon}`;\n    }\n});\n\n","/**\n * Base class for all the Search services.\n *\n * @private\n * @class Search\n * @module Services\n * @uses ProtocolMixin\n * @uses KeyMixin\n * @uses LimitMixin\n * @uses LanguageMixin\n * @uses BatchMixin\n * @uses TimeZoneMixin\n * @uses TrackingIdMixin\n * @uses RelatedPoisMixin\n *\n * @constructor\n * @param {Object} [options] Options to be passed to the search call,\n *     or an array of such options objects to perform a batch request.\n */\n/* jshint nomen:false */\nimport {SERVICE_TYPES} from 'Core/serviceTypes';\nimport {clone, addFields} from '../utils';\nimport {searchModel} from '../../model/search/search';\nimport {batchModel} from '../../model/search/batchModel';\nimport searchParams from './searchParameters';\nimport {modelResponse} from '../../model/modelResponse';\nimport { Endpoints } from '../../endpoints/endpointsManager';\nimport {\n    serviceFactory,\n    singleRequestServiceFactory,\n    batchRequestServiceFactory\n} from '../../core';\n\nexport class Search {\n    constructor(options, additionalOptions) {\n        this.options = options;\n        this.additionalOptions = additionalOptions;\n        this.defaultFields = clone(searchParams.create());\n        this.fields = {};\n    }\n\n    _getRestService() {\n        const endpoints = new Endpoints(this.additionalOptions);\n        return {\n            search: singleRequestServiceFactory(endpoints.resolve('searchEndpoint')),\n            batch: batchRequestServiceFactory(100, {\n                single: endpoints.resolve('batchSearchQueryEndpoint'),\n                batchSync: endpoints.resolve('batchSyncSearchEndpoint'),\n                batch: endpoints.resolve('batchSearchEndpoint')\n            })\n        };\n    }\n\n    handleBatchServiceCall(data, abortSignal) {\n        return this._getRestService().batch(this.fields, data, abortSignal)\n            .then(response => modelResponse(response, batchModel));\n    }\n\n    handleServiceCall(options, abortSignal) {\n        return this._getRestService().search(this.fields, options, abortSignal)\n            .then(({ data, trackingId }) => {\n                return modelResponse({\n                    data: options.bestResult ? data.results[0] : data,\n                    trackingId\n                }, searchModel);\n            });\n    }\n\n    construct(serviceName) {\n        this.fields = addFields(this.fields, this.defaultFields);\n        const service = serviceFactory(\n            this.fields,\n            SERVICE_TYPES.SEARCH,\n            serviceName || 'search',\n            this.handleServiceCall.bind(this),\n            this.handleBatchServiceCall.bind(this)\n        );\n\n        return service(this.options, this.additionalOptions);\n    }\n}\n","/* eslint-disable max-len */\n/**\n * Makes a search request using the TomTom\n * [Search API - Category Search](CATEGORY_SEARCH_URL).\n *\n * Parameters need to be passed to the constructor.\n *\n * The list of all supported category codes are available\n * [here](SEARCH_API_SUPPORTED_CATEGORY_CODES_URL).\n *\n * ### Response\n * The response is extended with `getTrackingId()` method, which returns the `Tracking-ID`\n * associated with the request.\n *\n * Additionally, the response extends API response by providing `toGeoJson()` method, which converts category search data into\n * FeatureCollection with <a target=\"_blank\" rel=”noopener” href=\"https://tools.ietf.org/html/rfc7946#section-3.1.2\">Point</a> geometry.\n *\n * Each point feature represents `poi` from the original response. Properties of `poi` are mapped into feature properties\n *\n * Please refer to {{#crossLinkModule \"Services\"}}Difference between\n * API responses and this library's responses{{/crossLinkModule}} section.\n *\n * @example\n * ```js\n * function callbackFn(result) {\n *   console.log(result);\n * };\n *\n * tt.services.categorySearch({\n *    key: <Your API key>,\n *    query: 'restaurant'\n * }).then(callbackFn);\n * ```\n * @class categorySearch\n * @namespace Services.services\n * @extends Search\n * @uses ExtendedPostalCodesForMixin\n * @uses CenterMixin\n * @uses RadiusMixin\n * @uses BoundingBoxMixin\n * @uses CountrySetMixin\n * @uses OffsetMixin\n * @uses BestResultMixin\n * @uses QueryMixin\n * @uses TypeaheadMixin\n * @uses ViewMixin\n * @uses BrandSetMixin\n * @uses OpeningHoursMixin\n * @uses CategorySetMixin\n * @uses ConnectorSetMixin\n * @uses MapcodesMixin\n * @uses FuelSetMixin\n * @uses MinPowerKwMixin\n * @uses MaxPowerKwMixin\n * @uses AbortSignalMixin\n * @constructor\n * @module Services\n *\n * @param {Object} [options] Options to be passed to the search call,\n *     or an array of such options objects to perform a batch request.\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n *\n */\nimport { Search } from './search';\nimport { boundingBox } from './searchParameters';\nimport { CATEGORY_SEARCH } from '../../common/searchTypes';\n\nclass CategorySearch extends Search {\n    constructor(options, additionalOptions) {\n        super(options, additionalOptions);\n\n        this.fields.type = {\n            defaultValue: CATEGORY_SEARCH,\n            visible: false\n        };\n\n        this.fields.boundingBox = boundingBox();\n    }\n}\n\nexport function categorySearch(options, additionalOptions) {\n    return (new CategorySearch(options, additionalOptions)).construct('categorySearch');\n}\n","/**\n * Get the charging connector data consisting of type and numbers of the existing charging stations,\n * based on EV station ID retrieved from a FuzzySearch request called with connectorSet parameter.\n *\n * Parameters need to be passed to the constructor.\n *\n * ### Response\n * The response is extended with `getTrackingId()` method, which returns the `Tracking-ID`\n * associated with the request.\n *\n * Please refer to {{#crossLinkModule \"Services\"}}Difference between\n * API responses and this library's responses{{/crossLinkModule}} section.\n *\n * @example\n * ```js\n *\n * function callbackFn(results) {\n *   console.log(results);\n * }\n *\n * tt.services.fuzzySearch({\n *      key: <Your API key>,\n *      query: 'station',\n *      connectorSet: 'Tesla'\n * }).then(function(response) {\n *      var chargingStationID = response.results[0].dataSources.chargingAvailability.id;\n *      tt.services.evChargingStationsAvailability({\n *          key: <Your API key>,\n *          chargingAvailability: chargingStationID\n *      }).then(callbackFn)\n *   });\n * ```\n *\n * @class evChargingStationsAvailability\n * @namespace Services.services\n * @uses KeyMixin\n * @uses BatchMixin\n * @uses ConnectorSetMixin\n * @uses MinPowerKwMixin\n * @uses MaxPowerKwMixin\n * @uses chargingAvailabilityMixin\n * @uses TrackingIdMixin\n * @uses AbortSignalMixin\n *\n * @constructor\n * @module Services\n *\n * @param {Object} [options]\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n */\n\nimport { SERVICE_TYPES } from 'Core/serviceTypes';\nimport {\n    string as validateString, key as validateKey, trackingId as validateTrackingId,\n    number as validateNumber, connectorSet as validateConnectorSet\n} from '../validators';\nimport { batchModel } from '../../model/search/batchModel';\nimport parameterApplications from '../../common/parameterApplications';\nimport { modelResponse } from '../../model/modelResponse';\nimport { v4 as uuid } from 'uuid';\nimport { Endpoints } from '../../endpoints/endpointsManager';\nimport {\n    singleRequestServiceFactory,\n    batchRequestServiceFactory,\n    serviceFactory\n} from '../../core';\n\nconst fields = {\n    key: {\n        validators: [validateKey]\n    },\n\n    chargingAvailability: {\n        validators: [validateString],\n        required: true\n    },\n\n    trackingId: {\n        validators: [validateTrackingId],\n        application: parameterApplications.HEADER,\n        defaultValue: uuid\n    },\n    connectorSet: {\n        validators: [validateConnectorSet]\n    },\n\n    minPowerKW: {\n        validators: [validateNumber]\n    },\n\n    maxPowerKW: {\n        validators: [validateNumber]\n    }\n};\n\nexport function evChargingStationsAvailability(options, additionalOptions) {\n    const endpoints = new Endpoints(additionalOptions);\n    const singleRequest = singleRequestServiceFactory(endpoints.resolve('chargingAvailabilityEndpoint'));\n    const batchRequest = batchRequestServiceFactory(100, {\n        single: endpoints.resolve('batchChargingAvailabilityQueryEndpoint'),\n        batchSync: endpoints.resolve('batchSyncSearchEndpoint'),\n        batch: endpoints.resolve('batchSearchEndpoint')\n    });\n\n    function handleServiceCall(data, abortSignal) {\n        return singleRequest(fields, data, abortSignal).then(modelResponse);\n    }\n    function handleBatchServiceCall(data, abortSignal) {\n        return batchRequest(fields, data, abortSignal).then(response => modelResponse(response, batchModel));\n    }\n\n    return serviceFactory(\n        fields,\n        SERVICE_TYPES.EXTENDED_SEARCH,\n        'chargingAvailability',\n        handleServiceCall,\n        handleBatchServiceCall\n    )(options, additionalOptions);\n}\n","/* eslint-disable max-len */\n/**\n * Makes a search request using the TomTom\n * [Search API - Fuzzy Search](FUZZY_SEARCH_URL).\n *\n * Parameters need to be be passed to the constructor.\n *\n *\n * The list of all supported category codes are available\n * [here](SEARCH_API_SUPPORTED_CATEGORY_CODES_URL).\n *\n * ### Response\n * The response is extended with `getTrackingId()` method, which returns the `Tracking-ID`\n * associated with the request.\n *\n * Additionally, the response extends API response by providing `toGeoJson()` method, which converts fuzzy search data into\n * FeatureCollection with <a target=\"_blank\" rel=”noopener” href=\"https://tools.ietf.org/html/rfc7946#section-3.1.2\">Point</a> geometry.\n *\n * Each point feature represents single result from the original response. Properties of the result are mapped into feature properties\n *\n * Please refer to {{#crossLinkModule \"Services\"}}Difference between\n * API responses and this library's responses{{/crossLinkModule}} section.\n *\n * @example\n * ```js\n * function callbackFn(result) {\n *   console.log(result);\n * };\n *\n * tt.services.fuzzySearch({\n *   key: <Your API key>,\n *   query: 'Amsterdam'\n * }).then(callbackFn);\n * ```\n *\n * @class fuzzySearch\n * @namespace Services.services\n * @extends Search\n * @uses ExtendedPostalCodesForMixin\n * @uses CenterMixin\n * @uses RadiusMixin\n * @uses BoundingBoxMixin\n * @uses CountrySetMixin\n * @uses OffsetMixin\n * @uses BestResultMixin\n * @uses QueryMixin\n * @uses TypeaheadMixin\n * @uses MaxFuzzyLevel\n * @uses MinFuzzyLevel\n * @uses IdxSetMixin\n * @uses EntityTypeSetMixin\n * @uses CategorySetMixin\n * @uses ViewMixin\n * @uses BrandSetMixin\n * @uses ConnectorSetMixin\n * @uses OpeningHoursMixin\n * @uses MapcodesMixin\n * @uses FuelSetMixin\n * @uses MinPowerKwMixin\n * @uses MaxPowerKwMixin\n * @uses AbortSignalMixin\n * @constructor\n * @module Services\n *\n * @param {Object} [options] Options to be passed to the search call,\n *     or an array of such options objects to perform a batch request.\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n */\n\nimport {\n    string as validateString, clientTime as validateClientTime, entityType as validateEntityType,\n    fuzzinessLevel as validateFuzzinessLevel\n} from '../validators';\nimport {commaSeparated as convertCommaSeparated, array as convertArray} from '../converters';\nimport { Search } from './search';\nimport { boundingBox } from './searchParameters';\n\nclass FuzzySearch extends Search {\n    constructor(options, additionalOptions) {\n        super(options, additionalOptions);\n\n        this.fields.minFuzzyLevel = {\n            validators: [validateFuzzinessLevel],\n            defaultValue: 1\n        };\n\n        this.fields.maxFuzzyLevel = {\n            validators: [validateFuzzinessLevel],\n            defaultValue: 2\n        };\n\n        this.fields.idxSet = {\n            validators: [validateString]\n        };\n\n        this.fields.entityTypeSet = {\n            converters: [convertArray, convertCommaSeparated],\n            validators: [validateEntityType]\n        };\n\n        this.fields.sessionId = {\n            validators: [validateString]\n        };\n\n        this.fields.clientTime = {\n            validators: [validateClientTime]\n        };\n\n        this.fields.boundingBox = boundingBox();\n    }\n}\n\nexport function fuzzySearch(options, additionalOptions) {\n    return (new FuzzySearch(options, additionalOptions)).construct('fuzzySearch');\n}\n","/* eslint-disable max-len */\n/**\n * Makes a search request using the TomTom\n * [Search API - Geometry Search](GEOMETRY_SEARCH_URL).\n *\n * Parameters need to be passed to the constructor.\n *\n * ### Response\n * The response is extended with `getTrackingId()` method, which returns the `Tracking-ID`\n * associated with the request.\n *\n * Additionally, the response extends API response by providing `toGeoJson()` method, which converts geometry search data into\n * FeatureCollection with <a target=\"_blank\" rel=”noopener” href=\"https://tools.ietf.org/html/rfc7946#section-3.1.2\">Point</a> geometry.\n *\n * Each point feature represents `poi` from the original response. Properties of `poi` are mapped into feature properties\n *\n * Please refer to {{#crossLinkModule \"Services\"}}Difference between\n * API responses and this library's responses{{/crossLinkModule}} section.\n *\n * @example\n * ```js\n * const geometryList = [\n *   {\n *     type: 'POLYGON',\n *     vertices: [\n *       '-122.43576049804686,37.7524152343544',\n *       '-122.43301391601562,37.70660472542312',\n *       '-122.36434936523438,37.712059855877314',\n *       '-122.37396240234374,37.75350561243041'\n *     ]\n *   },\n *   {\n *     type: 'CIRCLE',\n *     position: '-121.36434,37.71205',\n *     radius: 6000\n *   },\n *   {\n *     type: 'CIRCLE',\n *     position: '-121.36434,37.31205',\n *     radius: 1000\n *   }\n * ];\n *\n * function callbackFn(results) {\n *   console.log(results);\n * }\n *\n * tt.services.geometrySearch({\n *   key: <Your API key>,\n *   geometryList: geometryList\n * }).then(callbackFn);\n * ```\n *\n * @class geometrySearch\n * @extends Search\n * @namespace Services.services\n * @uses QueryMixin\n * @uses IdxSetMixin\n * @uses ExtendedPostalCodesForMixin\n * @uses GeometryList\n * @uses ViewMixin\n * @uses OpeningHoursMixin\n * @uses MapcodesMixin\n * @uses ConnectorSetMixin\n * @uses BrandSetMixin\n * @uses CategorySetMixin\n * @uses MinPowerKwMixin\n * @uses MaxPowerKwMixin\n * @uses AbortSignalMixin\n * @constructor\n * @module Services\n *\n * @param {Object} [options] Options to be passed to the search call,\n *     or an array of such options objects to perform a batch request.\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n * @param {String|String[]} [options.entityTypeSet]\n * An array or comma-separated list of entity types which can be used to restrict the result\n * to a specific entity type. __Parameter should be used with the idxSet parameter\n * set to the Geography value.__\n * <br><br>\n * Available values:\n *  - `Country`\n *  - `CountrySubdivision`\n *  - `CountrySecondarySubdivision`\n *  - `CountryTertiarySubdivision`\n *  - `Municipality`\n *  - `MunicipalitySubdivision`\n *  - `Neighbourhood`\n *  - `PostalCodeArea`\n */\n/* eslint-enable */\n\nimport {\n    string as validateString, key as validateKey, oneOfValue as validateOneOfValue,\n    languageCode as validateLanguageCode, entityType as validateEntityType, limit as validateLimit,\n    geometryList as validateGeometryList\n} from '../validators';\nimport {\n    geometryList as convertGeometryList, array as convertArray, commaSeparated as convertCommaSeparated\n} from '../converters';\nimport { Search } from './search';\nimport { boundingBox } from './searchParameters';\nimport parameterApplications from '../../common/parameterApplications';\nimport { GEOMETRY_SEARCH } from '../../common/searchTypes';\n\nclass GeometrySearch extends Search {\n    constructor(options, additionalOptions) {\n        super(options, additionalOptions);\n\n        this.fields.type = {\n            defaultValue: GEOMETRY_SEARCH,\n            visible: false,\n            application: parameterApplications.PATH\n        };\n\n        this.fields.key = {\n            validators: [validateKey]\n        };\n\n        this.fields.limit = {\n            validators: [validateLimit]\n        };\n\n        this.fields.language = {\n            validators: [validateLanguageCode]\n        };\n\n        this.fields.geometryList = {\n            validators: [validateGeometryList],\n            converters: [convertGeometryList],\n            application: parameterApplications.POST\n        };\n\n        this.fields.idxSet = {\n            validators: [validateString]\n        };\n\n        this.fields.protocol = {\n            validators: [validateOneOfValue(['http', 'https'], 'protocol')]\n        };\n\n        this.fields.extendedPostalCodesFor = {\n            validators: [validateString]\n        };\n\n        this.fields.entityTypeSet = {\n            converters: [convertArray, convertCommaSeparated],\n            validators: [validateEntityType]\n        };\n\n        this.fields.boundingBox = boundingBox();\n    }\n}\n\nexport function geometrySearch(options, additionalOptions) {\n    return (new GeometrySearch(options, additionalOptions)).construct('geometrySearch');\n}\n","/* eslint-disable max-len */\nimport {numberInInterval as validateNumberInInterval} from '../../services/validators';\n\n/**\n * Makes a search request using the TomTom\n * [Search API - Nearby Search](NEARBY_SEARCH_URL).\n *\n * Parameters need to be be passed to the constructor.\n *\n * ### Response\n * The response is extended with `getTrackingId()` method, which returns the `Tracking-ID`\n * associated with the request.\n *\n * Additionally, the response extends API response by providing `toGeoJson()` method, which converts nearby search data into\n * FeatureCollection with <a target=\"_blank\" rel=”noopener” href=\"https://tools.ietf.org/html/rfc7946#section-3.1.2\">Point</a> geometry.\n *\n * Each point feature represents `poi` from the original response. Properties of `poi` are mapped into feature properties\n *\n * Please refer to {{#crossLinkModule \"Services\"}}Difference between\n * API responses and this library's responses{{/crossLinkModule}} section.\n *\n * @example\n * ```js\n * function callbackFn(result) {\n *   console.log(result);\n * };\n *\n * tt.services.nearbySearch({\n *   key: <Your API key>,\n *   center: [0,0],\n *   radius: 1000\n * }).then(callbackFn);\n * ```\n *\n * @class nearbySearch\n * @namespace Services.services\n * @extends Search\n * @uses ExtendedPostalCodesForMixin\n * @uses CenterMixin\n * @uses CountrySetMixin\n * @uses OffsetMixin\n * @uses BestResultMixin\n * @uses ViewMixin\n * @uses BrandSetMixin\n * @uses OpeningHoursMixin\n * @uses CategorySetMixin\n * @uses ConnectorSetMixin\n * @uses MapcodesMixin\n * @uses FuelSetMixin\n * @uses MinPowerKwMixin\n * @uses MaxPowerKwMixin\n * @uses AbortSignalMixin\n * @constructor\n * @module Services\n *\n * @param {Object} [options] Options to be passed to the search call,\n *     or an array of such options objects to perform a batch request.\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n */\n\n/**\n * This option specifies the search radius in meters using the coordinates given to the `center`\n * option as origin.\n *\n * @attribute radius\n * @param {Number} [options.radius=10000] A positive integer value in meters.\n */\nimport { Search } from './search';\nimport { NEARBY_SEARCH } from '../../common/searchTypes';\nimport { Endpoints } from '../../endpoints/endpointsManager';\nimport {\n    singleRequestServiceFactory, batchRequestServiceFactory\n} from '../../core';\n\nclass NearbySearch extends Search {\n    constructor(options, additionalOptions) {\n        super(options, additionalOptions);\n\n        this.fields.__all = {\n            validators: []\n        };\n\n        this.fields.type = {\n            defaultValue: NEARBY_SEARCH,\n            visible: false\n        };\n        this.fields.query = {\n            visible: false\n        };\n        this.fields.center = {\n            required: true\n        };\n        this.fields.radius = {\n            required: false,\n            validators: [validateNumberInInterval(1, 50000)]\n        };\n        this.fields.typeahead = {\n            visible: false\n        };\n    }\n\n    _getRestService() {\n        const endpoints = new Endpoints(this.additionalOptions);\n        return {\n            search: singleRequestServiceFactory(endpoints.resolve('nearbySearchEndpoint')),\n            batch: batchRequestServiceFactory(100, {\n                single: endpoints.resolve('batchNearbySearchQueryEndpoint'),\n                batchSync: endpoints.resolve('batchSyncSearchEndpoint'),\n                batch: endpoints.resolve('batchSearchEndpoint')\n            })\n        };\n    }\n}\n\nexport function nearbySearch(options, additionalOptions) {\n    return (new NearbySearch(options, additionalOptions)).construct('nearbySearch');\n}\n","/* eslint-disable object-curly-spacing */\n/* eslint-disable max-len */\n/* eslint-disable no-undef */\n/**\n * Makes a placeById request using [Place by Id API](PLACE_BY_ID_URL).\n *\n * The Place by Id service endpoint provides detailed information about the Place found by its identifier (entityId).\n * Currently, Place by Id only supports POI (Points of Interest) ids.\n *\n * Parameters need to be passed to the constructor.\n *\n * ### Response\n * The response is extended with `getTrackingId()` method, which returns the `Tracking-ID`\n * associated with the request.\n *\n * Additionally, the response extends API response by providing `toGeoJson()` method, which converts place by id data into\n * FeatureCollection with <a target=\"_blank\" rel=”noopener” href=\"https://tools.ietf.org/html/rfc7946#section-3.1.2\">Point</a> geometry.\n *\n * Each point feature represents `poi` from the original response. Properties of `poi` are mapped into feature properties\n *\n * Please refer to {{#crossLinkModule \"Services\"}}Difference between\n * API responses and this library's responses{{/crossLinkModule}} section.\n *\n * @example\n * ```js\n * tt.services.fuzzySearch({\n *      key: <Your API key>,\n *      query: \"pizza\"\n * }).then(function(response) {\n *      tt.services.placeById({\n *          entityId: response.results[0].id,\n *          key: <Your API key>\n *      }).then(function(placeByIdResult) {\n *          console.log(placeByIdResult);\n *      });\n *   });\n * ```\n *\n * @class placeById\n * @module Services\n * @namespace Services.services\n * @uses KeyMixin\n * @uses TrackingIdMixin\n * @uses LanguageMixin\n * @uses AbortSignalMixin\n * @uses RelatedPoisMixin\n * @uses MapcodesMixin\n * @uses TimeZoneMixin\n * @uses OpeningHoursMixin\n * @uses ViewMixin\n * @constructor\n *\n * @param {Object} [options]\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n */\n\nimport {SERVICE_TYPES} from 'Core/serviceTypes';\nimport {\n    string as validateString,\n    trackingId as validateTrackingId,\n    languageCode as validateLanguageCode,\n    oneOfValue as validateOneOfValue,\n    mapcodes as validateMapcodes\n} from '../validators';\n\nimport {searchLanguage as convertLanguage} from '../converters';\nimport { searchModel } from '../../model/search/search';\nimport parameterApplications from '../../common/parameterApplications';\nimport { modelResponse } from '../../model/modelResponse';\nimport { v4 as uuid } from 'uuid';\nimport { Endpoints } from '../../endpoints/endpointsManager';\nimport { singleRequestServiceFactory, serviceFactory } from '../../core';\n\nconst fields = {\n    key: {\n        validators: [validateString]\n    },\n    trackingId: {\n        validators: [validateTrackingId],\n        application: parameterApplications.HEADER,\n        defaultValue: uuid\n    },\n    /**\n     * @attribute entityId\n     * @param {String} [options.entityId] The identifier of a specific POI,\n     * e.g. `g6Fjo05MRKJpZK81MjgwMDkwMDQyNDY3OTKhdqdVbmlmaWVk`.\n     */\n    entityId: {\n        validators: [validateString],\n        required: true\n    },\n    language: {\n        validators: [validateLanguageCode],\n        converters: [convertLanguage]\n    },\n    relatedPois: {\n        validators: [validateOneOfValue(['off', 'child', 'parent', 'all'], 'relatedPois')]\n    },\n    mapcodes: {\n        validators: [validateMapcodes]\n    },\n    timeZone: {\n        validators: [validateOneOfValue(['iana'], 'timeZone parameter')]\n    },\n    openingHours: {\n        validators: [validateOneOfValue(['nextSevenDays'], 'openingHours parameter')]\n    },\n    view: {\n        validators: [validateOneOfValue(\n            ['AR', 'IL', 'MA', 'IN', 'PK', 'Unified', 'RU', 'TR', 'CN'],\n            'view')]\n    }\n};\n\nexport function placeById(options, additionalOptions) {\n    const endpoints = new Endpoints(additionalOptions);\n    const singleRequest = singleRequestServiceFactory(endpoints.resolve('placeByIdEndpoint'));\n\n    const handleServiceCall = (data, abortSignal) => {\n        return singleRequest(fields, data, abortSignal)\n            .then(response => modelResponse(response, searchModel));\n    };\n\n    return serviceFactory(\n        fields,\n        SERVICE_TYPES.SEARCH,\n        'placeById',\n        handleServiceCall\n    )(options, additionalOptions);\n}\n","import {SERVICE_TYPES} from 'Core/serviceTypes';\nimport parameterApplications from '../../common/parameterApplications';\nimport { v4 as uuid } from 'uuid';\nimport {\n    string as validateString, trackingId as validateTrackingId, languageCode as validateLanguageCode\n} from '../validators';\nimport { Endpoints } from '../../endpoints/endpointsManager';\n\nimport { modelResponse } from '../../model/modelResponse';\nimport {\n    singleRequestServiceFactory,\n    serviceFactory\n} from '../../core';\n\n/**\n * The POI Categories service provides a full list of POI (Points of Interest) categories and subcategories together\n * with their translations and synonyms.\n * [Search API - POI Categories](POI_CATEGORIES_URL).\n *\n * Parameters need to be be passed to the constructor.\n *\n * ### Response\n * The response is extended with `getTrackingId()` method, which returns the `Tracking-ID`\n * associated with the request.\n *\n * Please refer to {{#crossLinkModule \"Services\"}}Difference between\n * API responses and this library's responses{{/crossLinkModule}} section.\n *\n * @example\n * ```js\n * function callbackFn(result) {\n *   console.log(result);\n * };\n *\n * tt.services.poiCategories({\n *   key: <Your API key>,\n *   language: 'pl-PL'\n * }).then(callbackFn);\n * ```\n *\n * @class poiCategories\n * @namespace Services.services\n * @module Services\n * @uses KeyMixin\n * @uses LanguageMixin\n * @uses TrackingIdMixin\n * @uses AbortSignalMixin\n * @constructor\n *\n * @param {Object} [options] Options to be passed to the call.\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n */\n\nconst fields = {\n    key: {\n        validators: [validateString]\n    },\n    trackingId: {\n        validators: [validateTrackingId],\n        application: parameterApplications.HEADER,\n        defaultValue: uuid\n    },\n    language: {\n        validators: [validateLanguageCode]\n    }\n};\n\nexport function poiCategories(options, additionalOptions) {\n    const handleServiceCall = (data, abortSignal) => {\n        const endpoints = new Endpoints(additionalOptions);\n        const singleRequest = singleRequestServiceFactory(endpoints.resolve('poiCategoriesEndpoint'));\n        return singleRequest(fields, data, abortSignal).then(modelResponse);\n    };\n    return serviceFactory(\n        fields,\n        SERVICE_TYPES.SEARCH,\n        'poiCategories',\n        handleServiceCall\n    )(options, additionalOptions);\n}\n","/* eslint-disable max-len */\n/**\n * Makes a search request using the TomTom\n * [Search API - Points of Interest Search](POINTS_INTEREST_SEARCH_URL).\n *\n * Parameters need to be be passed to the constructor.\n *\n * ### Response\n * The response is extended with `getTrackingId()` method, which returns the `Tracking-ID`\n * associated with the request.\n *\n * Additionally, the response extends API response by providing `toGeoJson()` method, which converts points of interests search data into\n * FeatureCollection with <a target=\"_blank\" rel=”noopener” href=\"https://tools.ietf.org/html/rfc7946#section-3.1.2\">Point</a> geometry.\n *\n * Each point feature represents `poi` from the original response. Properties of `poi` are mapped into feature properties\n *\n * Please refer to {{#crossLinkModule \"Services\"}}Difference between\n * API responses and this library's responses{{/crossLinkModule}} section.\n *\n * @example\n * ```js\n * function callbackFn(result) {\n *    console.log(result);\n * };\n *\n * tt.services.poiSearch(({\n *   key: <Your API key>,\n *   query: 'pizza'\n * }).then(callbackFn);\n * ```\n *\n * @class poiSearch\n * @namespace Services.services\n * @extends Search\n * @uses ExtendedPostalCodesForMixin\n * @uses CenterMixin\n * @uses BoundingBoxMixin\n * @uses CountrySetMixin\n * @uses OffsetMixin\n * @uses BestResultMixin\n * @uses QueryMixin\n * @uses TypeaheadMixin\n * @uses CategorySetMixin\n * @uses ViewMixin\n * @uses BrandSetMixin\n * @uses ConnectorSetMixin\n * @uses OpeningHoursMixin\n * @uses MapcodesMixin\n * @uses FuelSetMixin\n * @uses MinPowerKwMixin\n * @uses MaxPowerKwMixin\n * @uses AbortSignalMixin\n * @constructor\n * @module Services\n *\n * @param {Object} [options] Options to be passed to the search call,\n *     or an array of such options objects to perform a batch request.\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n */\n\n/**\n * This option specifies the search radius in meters using the coordinates given to the `center`\n * option as origin.\n *\n * @attribute radius\n * @param {Number} [options.radius=0] A positive integer value in meters.\n */\n\n/* eslint-enable */\nimport { Search } from './search';\nimport { boundingBox } from './searchParameters';\nimport { POI_SEARCH } from '../../common/searchTypes';\nclass PoiSearch extends Search {\n    constructor(options, additionalOptions) {\n        super(options, additionalOptions);\n\n        this.fields.type = {\n            defaultValue: POI_SEARCH,\n            visible: false\n        };\n\n        this.fields.boundingBox = boundingBox();\n    }\n}\n\nexport function poiSearch(options, additionalOptions) {\n    return (new PoiSearch(options, additionalOptions)).construct('poiSearch');\n}\n","import {SERVICE_TYPES} from 'Core/serviceTypes';\nimport {\n    string as validateString, trackingId as validateTrackingId, naturalInteger as validateNaturalInteger,\n    point as validatePoint, countrySet as validateCountrySet, languageCode as validateLanguageCode,\n    clientTime as validateClientTime, limit as validateLimit\n} from '../validators';\nimport {searchLanguage as convertLanguage, point as convertPoint} from '../../services/converters';\nimport parameterApplications from '../../common/parameterApplications';\nimport {modelResponse} from '../../model/modelResponse';\nimport { v4 as uuid } from 'uuid';\nimport { Endpoints } from '../../endpoints/endpointsManager';\nimport { singleRequestServiceFactory, serviceFactory } from '../../core';\n/**\n* The Autocomplete API enables you to make a more meaningful Search API call\n* by recognizing entities inside an input query and offering them as query terms.\n*\n* Makes a search request using the TomTom [Search API - Autocomplete](AUTOCOMPLETE_URL).\n*\n* ### Response\n* The response is extended with `getTrackingId()` method, which returns the `Tracking-ID`\n* associated with the request.\n*\n* Please refer to {{#crossLinkModule \"Services\"}}Difference between\n* API responses and this library's responses{{/crossLinkModule}} section.\n*\n* @class autocomplete\n* @module Services\n* @namespace Services.services\n* @uses KeyMixin\n* @uses QueryMixin\n* @uses LimitMixin\n* @uses CountrySetMixin\n* @uses RadiusMixin\n* @uses CenterMixin\n* @uses TrackingIdMixin\n* @uses AbortSignalMixin\n* @constructor\n*\n* @param {Object} [options]\n* @param {Object} [additionalOptions] Additional options to be passed to the service.\n*/\nconst fields = {\n    key: {\n        validators: [validateString]\n    },\n    trackingId: {\n        validators: [validateTrackingId],\n        application: parameterApplications.HEADER,\n        defaultValue: uuid\n    },\n    query: {\n        validators: [validateString],\n        required: true,\n        application: parameterApplications.PATH\n    },\n    /**\n     * The value should correspond to one of the supported IETF language codes.\n     * The list is available [here](SEARCH_API_SUPPORTED_LANGS_URL).\n     *\n     * The code is case insensitive.\n     *\n     * @attribute language\n     * @param {String} options.language Language code that decides in which language the search results\n     * should be returned.\n     */\n    language: {\n        validators: [validateLanguageCode],\n        converters: [convertLanguage],\n        required: true\n    },\n    limit: {\n        validators: [validateLimit]\n    },\n    countrySet: {\n        validators: [validateCountrySet]\n    },\n    radius: {\n        validators: [validateNaturalInteger]\n    },\n    /**\n     * A result is only included if at least one segment is of any of the indicated types.\n     *   Value: A comma-separated list that consists of the types of segments.\n     *   Usage examples:\n     *   * resultSet=category\n     *   * resultSet=brand\n     *   * resultSet=category,brand\n     * @attribute resultSet\n     * @param {String} [options.resultSet] Restricts the result space based on their segment types.\n     */\n    resultSet: {\n        validators: [validateString]\n    },\n    center: {\n        converters: [convertPoint],\n        validators: [validatePoint],\n        cast: (center, requestOptions) => {\n            const coordinates = center.split(',');\n            requestOptions.lat = coordinates[0];\n            requestOptions.lon = coordinates[1];\n        }\n    },\n    sessionId: {\n        validators: [validateString]\n    },\n    clientTime: {\n        validators: [validateClientTime]\n    }\n};\n\nexport function autocomplete(options, additionalOptions) {\n    const endpoints = new Endpoints(additionalOptions);\n    const singleRequest = singleRequestServiceFactory(endpoints.resolve('autocompleteEndpoint'));\n\n    function handleServiceCall(data, abortSignal) {\n        return singleRequest(fields, data, abortSignal)\n            .then(response => modelResponse(response));\n    }\n\n    return serviceFactory(\n        fields,\n        SERVICE_TYPES.SEARCH,\n        'autocomplete',\n        handleServiceCall\n    )(options, additionalOptions);\n}\n","import {PointFacade} from '../pointFacade';\n\nconst pointFacade = new PointFacade({\n    isLatLon: true\n});\n\nconst convertPoints = elem => {\n    if (elem.position) {\n        elem.position = pointFacade.convert(elem.position);\n    }\n\n    if (elem.address && elem.address.boundingBox) {\n        elem.address.boundingBox.northEast = pointFacade.convert(elem.address.boundingBox.northEast);\n        elem.address.boundingBox.southWest = pointFacade.convert(elem.address.boundingBox.southWest);\n    }\n};\n\nexport function reverseGeocodeModel(json) {\n    // convert points\n    json.addresses.forEach(result => {\n        if (Array.isArray(result)) {\n            result.forEach(r => {\n                convertPoints(r);\n            });\n        }\n        convertPoints(result);\n    });\n    return json;\n}\n","import {reverseGeocodeModel} from './reverseGeocode';\n\nexport function batchModel(data) {\n    if (!(data.batchItems instanceof Array)) {\n        return null;\n    }\n\n    data.batchItems = data.batchItems.map((batchItem) => {\n        if (batchItem.response.error) {\n            return { error: batchItem.response.error};\n        } else {\n            return reverseGeocodeModel(batchItem.response);\n        }\n    });\n\n    return data;\n}\n","import {SERVICE_TYPES} from 'Core/serviceTypes';\nimport {reverseGeocodeModel} from '../../model/reverseGeocode/reverseGeocode';\nimport {batchModel} from '../../model/reverseGeocode/batchReverseGeocode';\nimport {addFields} from '../utils';\nimport {modelResponse} from '../../model/modelResponse';\nimport { Endpoints } from '../../endpoints/endpointsManager';\nimport {\n    singleRequestServiceFactory, batchRequestServiceFactory, serviceFactory\n} from '../../core';\n\nconst TYPES = {\n    reverseGeocode: 'reverseGeocode',\n    crossStreetLookup: 'reverseGeocode/crossStreet'\n};\n\nfunction ReverseGeocodeBase(options, additionalOptions) {\n    this.options = options;\n    this.additionalOptions = additionalOptions;\n    this.fields = {};\n}\n\nReverseGeocodeBase.prototype.TYPE = TYPES;\nReverseGeocodeBase.prototype.construct = function(serviceName) {\n    const mergedFields = addFields(this.fields, this.defaultFields);\n\n    const service = serviceFactory(\n        mergedFields,\n        SERVICE_TYPES.SEARCH,\n        serviceName || 'reverseGeocodeBase',\n        this.handleServiceCall.bind(this),\n        this.handleBatchServiceCall.bind(this)\n    );\n\n    return service(this.options, this.additionalOptions);\n\n};\nReverseGeocodeBase.prototype.handleServiceCall = function(data, abortSignal) {\n    const endpoints = new Endpoints(this.additionalOptions);\n    const singleRequest = singleRequestServiceFactory(endpoints.resolve('reverseGeocodeEndpoint'));\n    return singleRequest(this.fields, data, abortSignal)\n        .then(response => modelResponse(response, reverseGeocodeModel));\n};\n\nReverseGeocodeBase.prototype.handleBatchServiceCall = function(data, abortSignal) {\n    const endpoints = new Endpoints(this.additionalOptions);\n    const batchRequest = batchRequestServiceFactory(100, {\n        single: endpoints.resolve('batchReverseGeocodeQueryEndpoint'),\n        batch: endpoints.resolve('batchSearchEndpoint'),\n        batchSync: endpoints.resolve('batchSyncSearchEndpoint')\n    });\n    return batchRequest(this.fields, data, abortSignal)\n        .then(response => modelResponse(response, batchModel));\n};\n\nfunction reverseGeocodeConstructor(options) {\n    return (new ReverseGeocodeBase(options)).construct();\n}\n\nreverseGeocodeConstructor.prototype.constructor = ReverseGeocodeBase;\n\nexport {reverseGeocodeConstructor as reverseGeocodeBase};\n","export const reverseGeocodeType = 'reverseGeocode';\nexport const crossStreetLookupType = 'reverseGeocode/crossStreet';\n","import {\n    bool as validateBool, string as validateString, trackingId as validateTrackingId, oneOfValue as validateOneOfValue,\n    naturalInteger as validateNaturalInteger, languageCode as validateLanguageCode, point as validatePoint,\n    entityType as validateEntityType, number as validateNumber, roadUse as validateRoadUse,\n    mapcodes as validateMapcodes, dateTime as validateDateTime, limit as validateLimit\n} from '../validators';\nimport {\n    roadUse as convertRoadUse, array as convertArray, point as convertPoint,\n    commaSeparated as convertCommaSeparated\n} from '../converters';\nimport {reverseGeocodeType, crossStreetLookupType} from './types';\nimport parameterApplications from '../../common/parameterApplications';\nimport { v4 as uuid } from 'uuid';\n\nconst geocodeBaseFields = {\n    key: {\n        validators: [validateString]\n    },\n    trackingId: {\n        validators: [validateTrackingId],\n        application: parameterApplications.HEADER,\n        defaultValue: uuid\n    },\n    language: {\n        validators: [validateLanguageCode]\n    },\n    position: {\n        converters: [convertPoint],\n        validators: [validatePoint],\n        required: true,\n        application: parameterApplications.PATH\n    },\n    heading: {\n        validators: [validateNumber]\n    },\n    radius: {\n        validators: [validateNaturalInteger]\n    },\n    protocol: {\n        validators: [validateOneOfValue(['http', 'https'], 'protocol')]\n    },\n    view: {\n        validators: [validateOneOfValue(['AR', 'IL', 'MA', 'IN', 'PK', 'Unified', 'RU', 'TR', 'CN'], 'view')]\n    },\n    allowFreeformNewline: {\n        validators: [validateBool]\n    }\n};\n\nconst additionalGeocodeFields = {\n    type: {\n        defaultValue: reverseGeocodeType,\n        visible: false,\n        application: parameterApplications.PATH\n    },\n\n    entityType: {\n        converters: [convertArray, convertCommaSeparated],\n        validators: [validateEntityType]\n    },\n\n    returnSpeedLimit: {\n        validators: [validateBool]\n    },\n\n    number: {\n        validators: [validateString]\n    },\n\n    returnRoadUse: {\n        validators: [validateBool]\n    },\n\n    roadUse: {\n        converters: [convertRoadUse],\n        validators: [validateRoadUse]\n    },\n\n    streetNumber: {\n        validators: [validateString]\n    },\n\n    returnMatchType: {\n        validators: [validateBool]\n    },\n\n    mapcodes: {\n        validators: [validateMapcodes]\n    },\n\n    dateTime: {\n        validators: [validateDateTime]\n    }\n};\n\nconst crossStreetLookupFields = {\n    type: {\n        defaultValue: crossStreetLookupType,\n        visible: false,\n        application: parameterApplications.PATH\n    },\n\n    limit: {\n        validators: [validateLimit]\n    }\n};\n\nexport function reverseGeocodeParams(type) {\n    if (type === reverseGeocodeType) {\n        return Object.assign({}, geocodeBaseFields, additionalGeocodeFields);\n    } else if (type === crossStreetLookupType) {\n        return Object.assign({}, geocodeBaseFields, crossStreetLookupFields);\n    }\n    throw new Error('Unsupported geocode type: ' + type);\n}\n","/* eslint-disable max-len */\n/**\n * Reverse geocode service implementation.\n *\n * It converts geographical coordinates into a textual address representation using the TomTom\n * [Search API - Reverse Geocode](REVERSE_GEOCODE_URL).\n *\n * Parameters need to be passed to the constructor.\n *\n * ### Response\n *\n * The final response from the service is a JSON object with the following structure:\n *\n * ```js\n * {\n *   address: {\n *     buildingNumber: 19,\n *     streetNumber: 19,\n *     landmark: '',\n *     street: 'N 2nd St',\n *     streetName: 'N 2nd St',\n *     streetNameAndNumber: '',\n *     speedLimit: '',\n *     countryCode: 'U',\n *     countrySubdivision: 'CA',\n *     countrySecondarySubdivision: 'Santa Clara',\n *     countryTertiarySubdivision: '',\n *     municipality: 'San Jose',\n *     postalCode: '95113',\n *     municipalitySubdivision: 'San Francisco Bay Area',\n *     freeformAddress: '19 N 2nd St, San Jose, CA, 95113'\n *   },\n *    position: {\n *     lng: -121.8898',\n *     lat: '37.337083\n *   },\n *   roadUse: ['LocalStreet']\n * }\n * ```\n *\n * The response is also extended with `getTrackingId()` method, which returns the `Tracking-ID`\n * associated with the request.\n *\n * Please refer to {{#crossLinkModule \"Services\"}}Difference between\n * API responses and this library's responses{{/crossLinkModule}} section.\n *\n * @example\n * ```js\n * function callbackFn(response) {\n *   console.log(response);\n * }\n * tt.services.reverseGeocode({\n *   key: <Your API key>,\n *   position: '19.449: 51.759'\n * }).then(callbackFn);\n * ```\n *\n * @class reverseGeocode\n * @namespace Services.services\n * @module Services\n * @uses KeyMixin\n * @uses ProtocolMixin\n * @uses RadiusMixin\n * @uses PositionMixin\n * @uses HeadingMixin\n * @uses LanguageMixin\n * @uses ViewMixin\n * @uses ReturnMatchTypeMixin\n * @uses AllowFreeformNewlineMixin\n * @uses BatchMixin\n * @uses EntityTypeMixin\n * @uses MapcodesMixin\n * @uses TrackingIdMixin\n * @uses AbortSignalMixin\n *\n * @constructor\n * @param {Object} [options] Options to be passed to the reverseGeocode call,\n *     or an array of such options objects to perform a batch request.\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n */\n/* eslint-enable */\n\n/**\n * Allows, if possible, the receiving of speed limit information at the given location.\n *\n * @attribute returnSpeedLimit\n * @param {Boolean} [options.returnSpeedLimit] Enable or disable the feature.\n */\n\n/**\n * If a street number is sent in along with the request, the response may\n * include the side of the street (Left/Right), and also an offset position for that street number.\n *\n * @attribute number\n * @param {String} [options.number] Street number as a string.\n */\n\n/**\n * Requires including a road use array for reversegeocodes at street level.\n *\n * @attribute returnRoadUse\n * @param {Boolean} [options.returnRoadUse] Enable or disable the feature.\n */\n\n/**\n * Use this option if you want to restrict the result to one, or a group of the following road uses:\n * - `\"LimitedAccess\"`\n * - `\"Arterial\"`\n * - `\"Terminal\"`\n * - `\"Ramp\"`\n * - `\"Rotary\"`\n * - `\"LocalStreet\"`\n *\n * @attribute roadUse\n * @param {String[]|String} [options.roadUse] An array of strings, or just one string with comma-separated values.\n */\n\n/**\n * Represents the street's number for the structured address.\n *\n * @attribute streetNumber\n * @param {String} [options.streetNumber] The street's number.\n */\n\n/**\n * * It allows the service to decide whether the Daylight Saving Time time zone should be used or not.\n * * It must conform to RFC 3339.\n * @attribute dateTime\n * @param {String} [options.dateTime] The date and time used to return time zone information.\n */\n\nimport {reverseGeocodeBase} from './reverseGeocodeBase';\nimport {reverseGeocodeParams} from './reverseGeocodeParameters';\nimport {reverseGeocodeType} from './types';\n\nexport function reverseGeocode(options, additionalOptions) {\n    const ReverseGeocodeBasePrototype = reverseGeocodeBase.prototype.constructor;\n\n    function ReverseGeocode(options, additionalOptions) {\n        ReverseGeocodeBasePrototype.call(this, options, additionalOptions);\n        this.fields = reverseGeocodeParams(reverseGeocodeType);\n    }\n\n    ReverseGeocode.prototype = new ReverseGeocodeBasePrototype();\n    ReverseGeocode.prototype.constructor = ReverseGeocode;\n    return (new ReverseGeocode(options, additionalOptions)).construct('reverseGeocode');\n}\n","import { convertResponsePoints, toGeoJson } from '../modelUtils';\n\nexport function geocodeModel(data) {\n    if (!data) {\n        return data;\n    }\n    // converts location points\n    if (Array.isArray(data.results)) {\n        data.results.forEach(result => {\n            if (Array.isArray(result)) {\n                result.forEach(r => {\n                    convertResponsePoints(r);\n                });\n            } else {\n                convertResponsePoints(result);\n            }\n        });\n    }\n\n    convertResponsePoints(data);\n\n    return Object.assign(data, {\n        toGeoJson: () => toGeoJson(data)\n    });\n}\n","import {geocodeModel} from './geocode';\n\nexport function batchModel(data) {\n    if (!(data.batchItems instanceof Array)) {\n        return null;\n    }\n\n    data.batchItems = data.batchItems.map((batchItem) => {\n        if (batchItem.response.error) {\n            return { error: batchItem.response.error };\n        } else {\n            return geocodeModel(batchItem.response);\n        }\n    });\n    return data;\n}\n","import {\n    bool as validateBool, string as validateString, trackingId as validateTrackingId,\n    validateBoundingBox, oneOfValue as validateOneOfValue,\n    positiveInteger as validatePositiveInteger, naturalInteger as validateNaturalInteger,\n    languageCode as validateLanguageCode, point as validatePoint, countrySet as validateCountrySet,\n    entityType as validateEntityType\n} from 'services/validators';\n\nimport {\n    point as convertPoint, convertBoundingBox, array as convertArray,\n    commaSeparated as convertCommaSeparated\n} from 'services/converters';\nimport parameterApplications from 'common/parameterApplications';\nimport { v4 as uuid } from 'uuid';\n\nexport default {\n    create: () => {\n        return {\n            extendedPostalCodesFor: {\n                validators: [validateString]\n            },\n            type: {\n                defaultValue: 'geocode',\n                application: parameterApplications.PATH\n            },\n            key: {\n                validators: [validateString]\n            },\n            trackingId: {\n                validators: [validateTrackingId],\n                application: parameterApplications.HEADER,\n                defaultValue: uuid\n            },\n            query: {\n                validators: [validateString],\n                required: true,\n                application: parameterApplications.PATH\n            },\n            typeahead: {\n                validators: [validateBool]\n            },\n            limit: {\n                validators: [validatePositiveInteger]\n            },\n            view: {\n                validators: [validateOneOfValue(\n                    ['AR', 'IL', 'MA', 'IN', 'PK', 'Unified', 'RU', 'TR', 'CN'],\n                    'view')]\n            },\n            offset: {\n                validators: [validateNaturalInteger],\n                name: 'ofs'\n            },\n            language: {\n                validators: [validateLanguageCode]\n            },\n            boundingBox: {\n                validators: [validateBoundingBox], converters: [convertBoundingBox],\n                cast: (boundingBox, requestOptions) => {\n                    requestOptions.topLeft = `${boundingBox.maxLat},${boundingBox.minLon}`;\n                    requestOptions.btmRight = `${boundingBox.minLat},${boundingBox.maxLon}`;\n                }\n            },\n            center: {\n                converters: [convertPoint],\n                validators: [validatePoint],\n                cast: (center, requestOptions) => {\n                    const coordinates = center.split(',');\n                    requestOptions.lat = coordinates[0];\n                    requestOptions.lon = coordinates[1];\n                }\n            },\n            countrySet: {\n                validators: [validateCountrySet]\n            },\n            radius: {\n                validators: [validateNaturalInteger]\n            },\n            bestResult: {\n                validators: [validateBool],\n                cast: (bestResults, requestOptions) => {\n                    if (!bestResults) {\n                        return;\n                    }\n                    requestOptions.limit = 1;\n                    requestOptions.ofs = 0;\n                }\n            },\n            protocol: {\n                validators: [validateOneOfValue(['http', 'https'], 'protocol')]\n            },\n            timeZone: {\n                validators: [validateOneOfValue(['iana'], 'timeZone parameter')]\n            },\n            entityTypeSet: {\n                converters: [convertArray, convertCommaSeparated],\n                validators: [validateEntityType]\n            }\n        };\n    }\n};\n","/* eslint-disable max-len */\n/**\n * Allows requests to be made using the TomTom's\n * [Search API - Geocode](GEOCODE_SERVICE_URL).\n *\n * Parameters need to be passed to the constructor.\n *\n * ### Response\n * The response is extended with `getTrackingId()` method, which returns the `Tracking-ID`\n * associated with the request.\n *\n * Additionally, the response extends API response by providing `toGeoJson()` method, which converts geocode data into\n * FeatureCollection with <a target=\"_blank\" rel=”noopener” href=\"https://tools.ietf.org/html/rfc7946#section-3.1.2\">Point</a> geometry.\n *\n * Each point feature represents `poi` from the original response. Properties of `poi` are mapped into feature properties\n *\n * Please refer to {{#crossLinkModule \"Services\"}}Difference between\n * API responses and this library's responses{{/crossLinkModule}} section.\n *\n * @example\n * ```js\n * function callbackFn(result) {\n *   console.log(result);\n * };\n * tt.services.geocode({\n *   key: <Your API Key>,\n *   query: 'Amsterdam, The Netherlands'\n * }).then(callbackFn);\n * ```\n *\n * @class geocode\n * @namespace Services.services\n * @module Services\n * @uses BatchMixin\n * @uses KeyMixin\n * @uses QueryMixin\n * @uses TypeaheadMixin\n * @uses LimitMixin\n * @uses OffsetMixin\n * @uses LanguageMixin\n * @uses BoundingBoxMixin\n * @uses CenterMixin\n * @uses CountrySetMixin\n * @uses RadiusMixin\n * @uses BestResultMixin\n * @uses ProtocolMixin\n * @uses ViewMixin\n * @uses ExtendedPostalCodesForMixin\n * @uses TimeZoneMixin\n * @uses MapcodesMixin\n * @uses TrackingIdMixin\n * @uses EntityTypeSetMixin\n * @uses AbortSignalMixin\n * @constructor\n *\n * @param {Object} [options] Options to be passed to the geocode call,\n *     or an array of such option objects to perform a batch request.\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n *\n */\nimport {SERVICE_TYPES} from 'Core/serviceTypes';\nimport {geocodeModel} from 'model/geocode/geocode';\nimport {batchModel} from 'model/geocode/batchGeocode';\nimport geocodeParams from './geocodeParameters';\nimport { modelResponse } from '../../model/modelResponse';\n\nimport { Endpoints } from '../../endpoints/endpointsManager';\nimport {\n    singleRequestServiceFactory, batchRequestServiceFactory, serviceFactory\n} from '../../core';\n\nconst fields = geocodeParams.create();\n\nexport function geocode(options, additionalOptions) {\n    const endpoints = new Endpoints(additionalOptions);\n    const singleRequest = singleRequestServiceFactory(endpoints.resolve('geocodeEndpoint'));\n    const batchRequest = batchRequestServiceFactory(100, {\n        single: endpoints.resolve('batchSearchQueryEndpoint'),\n        batchSync: endpoints.resolve('batchSyncSearchEndpoint'),\n        batch: endpoints.resolve('batchSearchEndpoint')\n    });\n\n    function handleServiceCall(requestOptions, abortSignal) {\n        return singleRequest(fields, requestOptions, abortSignal)\n            .then(({ data, trackingId }) => {\n                return modelResponse({\n                    data: requestOptions.bestResult ? data.results[0] : data,\n                    trackingId\n                }, geocodeModel);\n            });\n    }\n    function handleBatchServiceCall(data, abortSignal) {\n        return batchRequest(fields, data, abortSignal).then(results => modelResponse(results, batchModel));\n    }\n    return serviceFactory(\n        fields, SERVICE_TYPES.SEARCH,\n        'geocode',\n        handleServiceCall,\n        handleBatchServiceCall\n    )(options, additionalOptions);\n}\n","/* eslint-disable max-len */\n/**\n * It converts geographical coordinates into a textual address representation using the TomTom\n * [Search API - CrossStreet lookup](CROSS_STREET_LOOKUP_URL).\n *\n * Parameters need to be passed to the constructor.\n *\n * ### Response\n * The final response from the service is a JSON object with the following structure:\n *\n * ```js\n * {\n *   address: {\n *     buildingNumber: 19,\n *     streetNumber: 19,\n *     street: 'N 2nd St',\n *     streetName: 'N 2nd St',\n *     crossStreet: 'E SANTA CLARA ST'\n *     streetNameAndNumber: '',\n *     speedLimit: '',\n *     countryCode: 'US\",\n *     countrySubdivision: \"'A',\n *     countrySecondarySubdivision: 'Santa Clara',\n *     countryTertiarySubdivision: '',\n *     municipality: 'San Jose',\n *     postalCode: '95113',\n *     municipalitySubdivision: \"San Francisco Bay Area',\n *     freeformAddress: 'E SANTA CLARA ST &amp; N 2nd St, San Jose, CA, 95113'\n *   },\n *   position: {\n *     lng: -121.8898',\n *     lat: '37.337083\n *   }\n * }\n * ```\n *\n * The response is also extended with `getTrackingId()` method, which returns the `Tracking-ID`\n * associated with the request.\n *\n * Please refer to {{#crossLinkModule \"Services\"}}Difference between\n * API responses and this library's responses{{/crossLinkModule}} section.\n *\n * @example\n * ```js\n * tt.services.crossStreetLookup({\n *   key: <Your API key>,\n *   position: '19.449,51.759'\n * }).then(function(response) {\n *   console.log(response);\n * });\n * ```\n *\n * @class crossStreetLookup\n * @namespace Services.services\n * @module Services\n * @constructor\n * @uses RadiusMixin\n * @uses ProtocolMixin\n * @uses KeyMixin\n * @uses LimitMixin\n * @uses LanguageMixin\n * @uses PositionMixin\n * @uses HeadingMixin\n * @uses ViewMixin\n * @uses AllowFreeformNewlineMixin\n * @uses BatchMixin\n * @uses TrackingIdMixin\n * @uses AbortSignalMixin\n *\n * @param {Object} [options]\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n */\n/* eslint-enable max-len */\nimport {reverseGeocodeBase} from './reverseGeocodeBase';\nimport {reverseGeocodeParams} from './reverseGeocodeParameters';\nimport {crossStreetLookupType} from './types';\n\nexport function crossStreetLookup(options, additionalOptions) {\n    const ReverseGeocodeBasePrototype = reverseGeocodeBase.prototype.constructor;\n\n    function CrossStreetLookup(options, additionalOptions) {\n        ReverseGeocodeBasePrototype.call(this, options, additionalOptions);\n\n        this.fields = reverseGeocodeParams(crossStreetLookupType);\n    }\n\n    CrossStreetLookup.prototype = new ReverseGeocodeBasePrototype();\n    CrossStreetLookup.prototype.constructor = CrossStreetLookup;\n    return (new CrossStreetLookup(options, additionalOptions)).construct('crossStreetLookup');\n}\n","/* eslint-disable object-curly-spacing */\n/* eslint-disable no-undef */\n/* eslint-disable max-len */\n/**\n * Makes a request using the TomTom\n * [Search API - Structured Geocode](STRUCTURED_GEOCODE_URL).\n *\n * Parameters can be passed to the constructor.\n *\n * ### Response\n * The response is extended with `getTrackingId()` method, which returns the `Tracking-ID`\n * associated with the request.\n *\n * Additionally, the response extends API response by providing `toGeoJson()` method, which converts structured geocode data into\n * FeatureCollection with <a target=\"_blank\" rel=”noopener” href=\"https://tools.ietf.org/html/rfc7946#section-3.1.2\">Point</a> geometry.\n *\n * Each point feature represents `poi` from the original response. Properties of `poi` are mapped into feature properties\n *\n * Please refer to {{#crossLinkModule \"Services\"}}Difference between\n * API responses and this library's responses{{/crossLinkModule}} section.\n *\n * @class structuredGeocode\n * @namespace Services.services\n * @module Services\n * @uses KeyMixin\n * @uses LimitMixin\n * @uses OffsetMixin\n * @uses LanguageMixin\n * @uses ProtocolMixin\n * @uses BestResultMixin\n * @uses BatchMixin\n * @uses ViewMixin\n * @uses TimeZoneMixin\n * @uses MapcodesMixin\n * @uses TrackingIdMixin\n * @uses ExtendedPostalCodesForMixin\n * @uses EntityTypeSetMixin\n * @uses AbortSignalMixin\n * @constructor\n *\n * @param {Object} [options] Options to be passed to the structured geocoding call,\n *     or an array of such options objects to perform batch request.\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n * @param {String} options.countryCode The two-letter code of the country being targeted.\n *\n * @example\n * ```javascript\n * function callbackFn(result) {\n *   console.log(result);\n * };\n * tt.services.structuredGeocode({\n *   key: <Your API key>,\n *   countryCode: 'GB'\n * });\n * ```\n */\n/* eslint-enable max-len */\n\nimport {SERVICE_TYPES} from 'Core/serviceTypes';\nimport {geocodeModel} from '../../model/geocode/geocode';\nimport {batchModel} from '../../model/geocode/batchGeocode';\nimport structureGeocodeParameters from './structureGeocodeParameters';\nimport {modelResponse} from '../../model/modelResponse';\nimport { Endpoints } from '../../endpoints/endpointsManager';\nimport {\n    singleRequestServiceFactory, batchRequestServiceFactory, serviceFactory\n} from '../../core';\n\nconst fields = structureGeocodeParameters();\n\nfunction checkBestResult(data) {\n    const result = Boolean(data.bestResult);\n    delete data.bestResult;\n    return result;\n}\n\nfunction modifyRequestParams(data) {\n    const bestResult = checkBestResult(data);\n    if (bestResult) {\n        data.limit = 1;\n        data.offset = 0;\n    }\n}\n\nexport function structuredGeocode(options, additionalOptions) {\n    const endpoints = new Endpoints(additionalOptions);\n    const batchRequest = batchRequestServiceFactory(100, {\n        single: endpoints.resolve('batchStructuredGeocodeQueryEndpoint'),\n        batch: endpoints.resolve('batchSearchEndpoint'),\n        batchSync: endpoints.resolve('batchSyncSearchEndpoint')\n    });\n    const singleRequest = singleRequestServiceFactory(endpoints.resolve('structuredGeocodeEndpoint'));\n\n    function handleBatchServiceCall(data, abortSignal) {\n        data.batchItems.forEach(modifyRequestParams);\n        return batchRequest(fields, data, abortSignal).then(response => modelResponse(response, batchModel));\n    }\n\n    function handleServiceCall(data, abortSignal) {\n        const bestResult = Boolean(data.bestResult);\n        modifyRequestParams(data);\n        return singleRequest(fields, data, abortSignal)\n            .then(({ data, trackingId }) => {\n                return modelResponse({\n                    data: bestResult ? data.results[0] : data,\n                    trackingId\n                }, geocodeModel);\n            });\n    }\n\n    return serviceFactory(\n        fields,\n        SERVICE_TYPES.SEARCH,\n        'structuredGeocode',\n        handleServiceCall,\n        handleBatchServiceCall\n    )(options, additionalOptions);\n}\n","import parameterApplications from 'common/parameterApplications';\nimport { v4 as uuid } from 'uuid';\nimport {\n    bool as validateBool, string as validateString, trackingId as validateTrackingId, oneOfValue as validateOneOfValue,\n    naturalInteger as validateNaturalInteger, languageCode as validateLanguageCode, entityType as validateEntityType,\n    limit as validateLimit, countryCode as validateCountryCode\n} from '../validators';\nimport {commaSeparated as convertCommaSeparated, array as convertArray} from '../converters';\n\nexport default () => {\n    return {\n        key: {\n            validators: [validateString]\n        },\n        trackingId: {\n            validators: [validateTrackingId],\n            application: parameterApplications.HEADER,\n            defaultValue: uuid\n        },\n        countryCode: {\n            validators: [validateCountryCode],\n            required: true\n        },\n        limit: {\n            validators: [validateLimit]\n        },\n        view: {\n            validators: [validateOneOfValue(\n                ['AR', 'IL', 'MA', 'IN', 'PK', 'Unified', 'RU', 'TR', 'CN'],\n                'view')]\n        },\n        offset: {\n            validator: [validateNaturalInteger],\n            name: 'ofs'\n        },\n        language: {\n            validators: [validateLanguageCode]\n        },\n\n        /**\n         * Represents the street's number for the structured address.\n         *\n         * @attribute streetNumber\n         * @param {String} [options.streetNumber] The street's number.\n         */\n        streetNumber: {\n            validators: [validateString]\n        },\n\n        /**\n         * Represents the street's name for the structured address.\n         *\n         * @attribute streetName\n         * @param {String} [options.streetName] The street's name.\n         */\n        streetName: {\n            validators: [validateString]\n        },\n\n        /**\n         * Represents the cross street's name for the structured address.\n         *\n         * @attribute crossStreet\n         * @param {String} [options.crossStreet] The cross street's name.\n         */\n        crossStreet: {\n            validators: [validateString]\n        },\n\n        /**\n         * Represents the municipality (city/town) for the structured address.\n         *\n         * @attribute municipality\n         * @param {String} [options.municipality] The municipality's name (city/town).\n         */\n        municipality: {\n            validators: [validateString]\n        },\n\n        /**\n         * Represents the municipality subdivision (sub/super city) for the structured address.\n         *\n         * @attribute municipalitySubdivision\n         * @param {String} [options.municipalitySubdivision] The municipality subdivision (sub/super city).\n         */\n        municipalitySubdivision: {\n            validators: [validateString]\n        },\n\n        /**\n         * Represents the area's name for the structured address.\n         *\n         * @attribute countryTertiarySubdivision\n         * @param {String} [options.countryTertiarySubdivision] The name of the area.\n         */\n        countryTertiarySubdivision: {\n            validators: [validateString]\n        },\n\n        /**\n         * Represents the county's name for the structured address.\n         *\n         * @attribute countrySecondarySubdivision\n         * @param {String} [options.countrySecondarySubdivision] The county's name.\n         */\n        countrySecondarySubdivision: {\n            validators: [validateString]\n        },\n\n        /**\n         * Represents the state or province's name for the structured address.\n         *\n         * @attribute countrySubdivision\n         * @param {String} [options.countrySubdivision] The state or province.\n         */\n        countrySubdivision: {\n            validators: [validateString]\n        },\n\n        /**\n         * Represents the zip code or postal code for the structured address.\n         *\n         * @attribute postalCode\n         * @param {String} [options.postalCode] The zip or postal code.\n         */\n        postalCode: {\n            validators: [validateString]\n        },\n\n        protocol: {\n            validators: [validateOneOfValue(['http', 'https'], 'protocol')]\n        },\n        bestResult: {\n            validators: [validateBool]\n        },\n        timeZone: {\n            validators: [validateOneOfValue(['iana'], 'timeZone parameter')]\n        },\n        extendedPostalCodesFor: {\n            validators: [validateString]\n        },\n        entityTypeSet: {\n            converters: [convertArray, convertCommaSeparated],\n            validators: [validateEntityType]\n        }\n    };\n};\n","import {\n    bool as validateBool, key as validateKey, trackingId as validateTrackingId, oneOfValue as validateOneOfValue,\n    naturalInteger as validateNaturalInteger, numberInInterval as validateNumberInInterval,\n    arrayOfValues as validateArrayOfValues, departAt as validateDepartAt, arriveAt as validateArriveAt,\n    countrySetAlpha3 as validateCountrySetAlpha3\n} from '../validators';\nimport {\n    arrayOfStrings as convertArrayOfStrings, dateTime as convertDateTime,\n    constantSpeedConsumption as convertConstantSpeedConsumption, avoidAreas as convertAvoidAreas\n} from '../converters';\nimport {\n    constantSpeedConsumption, vehicleWeight, floatAndEngineType, fuelEnergyDensityInMJoulesPerLiter,\n    efficiencyParameter, chargeParameter, firstParamCannotBeUsedWithSecond,\n    requiresDependantParameter, consumptionRecuperationAltitudeParameter\n} from '../postValidators';\n\nimport parameterApplications from 'common/parameterApplications';\nimport { v4 as uuid } from 'uuid';\n\n/**\n * @private\n * @class CommonRoutingParameters\n * @module Services\n * @uses KeyMixin\n */\n\nexport const fields = {\n    key: {\n        validators: [validateKey]\n    },\n    trackingId: {\n        validators: [validateTrackingId],\n        application: parameterApplications.HEADER,\n        defaultValue: uuid\n    },\n\n    /**\n     * The type of route requested. Notes on specific values:\n     * *    fastest returns the fastest route.\n     * *    shortest returns the shortest route by distance.\n     * *    eco routes balance economy and speed.\n     * *    thrilling routes include interesting or challenging roads and use as few motorways as possible.\n     * You can choose the level of turns included and also the degree of hilliness. See the hilliness and\n     * windingness parameters to see how to set this. There is a limit of 900km on routes planned with\n     * routeType=thrilling.\n     *\n     * The default value is fastest.\n     *\n     * @attribute routeType\n     * @param {String} [options.routeType='fastest'] The route type to be used during route calculation.\n     */\n    routeType: {\n        validators: [validateOneOfValue(['fastest', 'shortest', 'eco', 'thrilling'], 'route type')]\n    },\n\n    /**\n     * Possible values:\n     * - true (do consider all available traffic information during routing)\n     * - false (ignores current traffic data during routing) Note that although the current traffic data is\n     *   ignored during routing, the effect of historic traffic on effective road speeds is still incorporated.\n     *\n     * The default is true.\n     *\n     * @attribute traffic\n     * @param {Boolean} [options.traffic=true] A boolean flag determines if traffic data should be used to calculate the\n     *     route.\n     */\n    traffic: {\n        validators: [validateBool]\n    },\n\n    /**\n     * Specifies something that the route calculation should try to avoid when determining the route. Can be\n     * specified multiple times. Possible values:\n     * *    tollRoads: avoids toll roads.\n     * *    motorways: avoids motorways.\n     * *    ferries: avoids ferries.\n     * *    unpavedRoads: avoids unpaved roads.\n     * *    carpools: avoids routes that require use of a carpool (HOV/ High Occupancy Vehicle) lanes.\n     * *    alreadyUsedRoads: avoids using the same road multiple times.\n     *\n     * Most useful in conjunction with routeType=thrilling.\n     *\n     * @attribute avoid\n     * @param {Array|String} [options.avoid] Specifies something that the route calculation should try to avoid when\n     *     determining the route.\n     */\n    avoid: {\n        validators: [validateArrayOfValues(['tollRoads', 'motorways', 'ferries', 'unpavedRoads', 'carpools',\n            'alreadyUsedRoads'\n        ], 'avoid')],\n        converters: [convertArrayOfStrings]\n    },\n\n    /**\n     * The date and time of departure from the origin point.\n     * Departure times, apart from now, must be specified as a dateTime.\n     * When a time zone offset is not specified, it will be assumed to be that of the origin point.\n     * The departAt value must be in the future. The departAt parameter cannot be used in conjunction with\n     * arriveAt.\n     *\n     * @attribute departAt\n     * @param {String} [options.departAt] The properly formatted date with the time or 'now' value. Date\n     * cannot be in the past and has to follow ISO 8601 standard.\n     */\n    departAt: {\n        validators: [validateDepartAt],\n        converters: [convertDateTime]\n    },\n\n    /**\n     * The date and time of arrival at the destination point.\n     * It must be specified as a dateTime.\n     * When a time zone offset is not specified it will be assumed to be that of the destination point.\n     * The arriveAt value must be in the future. The arriveAt parameter cannot be used in conjunction with\n     * departAt.\n     *\n     * @attribute arriveAt\n     * @param {String} [options.arriveAt] The properly formatted date with a time value. Date cannot be in the past\n     * and has to follow ISO 8601 standard.\n     */\n    arriveAt: {\n        validators: [validateArriveAt],\n        converters: [convertDateTime]\n    },\n\n    /**\n     * The travel mode for the requested route.\n     *\n     * Possible values: _car, truck, taxi, bus, van, motorcycle, bicycle, pedestrian_\n     *\n     * Note that the requested travelMode may not be available for the entire route. Where\n     * the requested travelMode is not available for a particular section, the <travelMode> element of the\n     * response for that section will be 'other'.\n     *\n     * @attribute travelMode\n     * @param {String} [options.travelMode] The primary means of transportation to be used while routing.\n     */\n    travelMode: {\n        validators: [validateOneOfValue(['car', 'truck', 'taxi', 'bus', 'van', 'motorcycle', 'bicycle',\n            'pedestrian'\n        ], 'travel mode')]\n    },\n\n    /**\n     * Degree of hilliness for thrilling route. Possible values: low, normal, high.\n     * This parameter can only be used in conjunction with routeType thrilling.\n     *\n     * @attribute hilliness\n     * @param {String} [options.hilliness] The level of hilliness on a thrilling route.\n     */\n    hilliness: {\n        validators: [validateOneOfValue(['low', 'normal', 'high'], 'hilliness')]\n    },\n\n    /**\n     * Level of turns for thrilling route. Possible values: low, normal, high.\n     * This parameter can only be used in conjunction with routeType thrilling.\n     *\n     * @attribute windingness\n     * @param {String} [options.windingness] The level of windingness on a thrilling route.\n     */\n    windingness: {\n        validators: [validateOneOfValue(['low', 'normal', 'high'], 'windingness')]\n    },\n\n    /**\n     * Specifies which data should be reported for diagnosis purposes.\n     *\n     * Possible values: _effectiveSettings_\n     * Reports the effective parameters or data used when calling the API.\n     *\n     * In the case of defaulted parameters, the default will be reflected where the parameter was not specified\n     * by the caller.\n     *\n     * @attribute report\n     * @param {String} [options.report] The level of a verbose answer from the service, useful for debugging purposes.\n     */\n    report: {\n        validators: [validateOneOfValue(['effectiveSettings'], 'report')]\n    },\n\n    /**\n     * Engine type of the vehicle. This parameter is currently only considered for travelMode truck. Valid\n     * options are: _combustion, electric_\n     *\n     * @attribute vehicleEngineType\n     * @param {String} [options.vehicleEngineType] The vehicle engine type.\n     */\n    vehicleEngineType: {\n        validators: [validateOneOfValue(['combustion', 'electric'], 'vehicle engine type')]\n    },\n\n    /**\n     * Maximum speed of the vehicle in km/hour. A value of 0 means that an appropriate value for the vehicle\n     * will be determined and applied during route planning. A non-zero value may be overridden during route\n     * planning. This parameter is currently only considered for travelMode truck.\n     *\n     * @attribute vehicleMaxSpeed\n     * @param {Number} [options.vehicleMaxSpeed] The maximal allowed vehicle speed in km/h.\n     */\n    vehicleMaxSpeed: {\n        validators: [validateNaturalInteger]\n    },\n\n    /**\n     * Weight of the vehicle in kg. A value of 0 means that weight restrictions are not considered during route\n     * planning. This parameter is currently only considered for travelMode truck.\n     *\n     * @attribute vehicleWeight\n     * @param {Number} [options.vehicleWeight] The vehicle weight in kg (kilograms).\n     */\n    vehicleWeight: {\n        validators: [\n            validateNaturalInteger,\n            vehicleWeight\n        ]\n    },\n\n    /**\n     * Weight per axle of the vehicle in kg (kilograms). A value of 0 means that weight restrictions per axle are not\n     * considered during route planning. This parameter is currently only considered for travelMode truck.\n     *\n     * @attribute vehicleAxleWeight\n     * @param {Number} [options.vehicleAxleWeight] The vehicle axle wight in kg (kilograms).\n     */\n    vehicleAxleWeight: {\n        validators: [validateNaturalInteger]\n    },\n\n    /**\n     * Length of the vehicle in meters. A value of 0 means that length restrictions are not considered during\n     * route planning. This parameter is currently only considered for travelMode truck.\n     *\n     * @attribute vehicleLength\n     * @param {Number} [options.vehicleLength] The vehicle length in meters.\n     */\n    vehicleLength: {\n        validators: [validateNumberInInterval(0, Number.MAX_VALUE)]\n    },\n\n    /**\n     * Width of the vehicle in meters. A value of 0 means that width restrictions are not considered during\n     * route planning. This parameter is currently only considered for travelMode truck.\n     *\n     * @attribute vehicleWidth\n     * @param {Number} [options.vehicleWidth] The vehicle width in meters.\n     */\n    vehicleWidth: {\n        validators: [validateNumberInInterval(0, Number.MAX_VALUE)]\n    },\n\n    /**\n     * Height of the vehicle in meters. A value of 0 means that height restrictions are not considered\n     * during route planning. This parameter is currently only considered for travelMode truck.\n     *\n     * @attribute vehicleHeight\n     * @param {Number} [options.vehicleHeight] The vehicle height in meters.\n     */\n    vehicleHeight: {\n        validators: [validateNumberInInterval(0, Number.MAX_VALUE)]\n    },\n\n    /**\n     * The vehicle is used for commercial purposes and thus may not be allowed to drive on some roads. This\n     * parameter is currently only considered for travelMode truck.\n     *\n     * @attribute vehicleCommercial\n     * @param {Boolean} [options.vehicleCommercial] True if the vehicle is used for commercial purposes.\n     */\n    vehicleCommercial: {\n        validators: [validateBool]\n    },\n\n    /**\n     * Types of cargo that may be classified as hazardous materials and restricted from some roads. Available\n     * vehicleLoadType values are US Hazmat classes 1 through 9, plus generic classifications for use in other\n     * countries.\n     *\n     * __Use these for routing in US__\n     * * USHazmatClass1 Explosives\n     * * USHazmatClass2 Compressed gas\n     * * USHazmatClass3 Flammable liquids\n     * * USHazmatClass4 Flammable solids\n     * * USHazmatClass5 Oxidizers\n     * * USHazmatClass6 Poisons\n     * * USHazmatClass7 Radioactive\n     * * USHazmatclass8 Corrosives\n     * * USHazmatClass9 Miscellaneous\n     *\n     * __Use these for routing in all other countries__\n     * * otherHazmatExplosive Explosives\n     * * otherHazmatGeneral Miscellaneous\n     * * otherHazmatHarmfulToWater Harmful to water\n     *\n     * This parameter is currently only considered for travelMode truck.\n     *\n     * @attribute vehicleLoadType\n     * @param {Array|String} [options.vehicleLoadType] The array of truck cargo classification.\n     */\n    vehicleLoadType: {\n        validators: [validateArrayOfValues(['USHazmatClass1', 'USHazmatClass2', 'USHazmatClass3',\n            'USHazmatClass4', 'USHazmatClass5', 'USHazmatClass6', 'USHazmatClass7', 'USHazmatClass8',\n            'USHazmatClass9', 'otherHazmatExplosive', 'otherHazmatGeneral', 'otherHazmatHarmfulToWater'\n        ],\n        'vehicle load type')],\n        converters: [convertArrayOfStrings]\n    },\n    /**\n     * Specifies the speed-dependent component of consumption.\n     * Provided as an unordered list of speed/consumption-rate pairs. The list defines points on a\n     * consumption curve.\n     * Consumption rates for speeds not in the list are found as follows:\n     *   *  By linear interpolation, if the given speed lies in between two speeds in the list.\n     *   *  By linear extrapolation otherwise, assuming a constant (ΔConsumption/ΔSpeed) determined by\n     * the nearest two points in the list.\n     *\n     * The list must contain between 1 and 25 points (inclusive), and may not\n     * contain duplicate points for the same speed. If it only contains a single point,\n     * then the consumption rate of that point is used without further processing.\n     * Consumption specified for the largest speed must be greater than or equal to that of the\n     * penultimate highest speed. This ensures that extrapolation does not lead to negative consumption rates.\n     * Similarly, consumption values specified for the two lowest speeds in the list cannot lead to a\n     * negative consumption rate for any smaller speed.\n     * The minimum and maximum values described here refer to the valid range for the consumption values\n     * (expressed in l/100km).\n     * @attribute constantSpeedConsumptionInLitersPerHundredkm\n     * @param {Array} [options.constantSpeedConsumptionInLitersPerHundredkm] Colon-delimited list of\n     * CombustionConstantSpeedConsumptionPairs, e.g., an array of such pairs \"60,7\".\n     */\n    constantSpeedConsumptionInLitersPerHundredkm: {\n        validators: [\n            constantSpeedConsumption('combustion')\n        ],\n        converters: [convertConstantSpeedConsumption]\n    },\n    /**\n     * Specifies the current supply of fuel in liters.\n     * @attribute currentFuelInLiters\n     * @param {Number} [options.currentFuelInLiters]\n     */\n    currentFuelInLiters: {\n        validators: [\n            floatAndEngineType('combustion', 'currentFuelInLiters')\n        ]\n    },\n    /**\n     * Specifies the amount of fuel consumed for sustaining auxiliary systems of the vehicle, in liters\n     *  per hour. It can be used to specify consumption due to devices and systems such as AC systems, radio,\n     * heating, etc.\n     * @attribute auxiliaryPowerInLitersPerHour\n     * @param {Number} [options.auxiliaryPowerInLitersPerHour]\n     */\n    auxiliaryPowerInLitersPerHour: {\n        validators: [\n            floatAndEngineType('combustion', 'auxiliaryPowerInLitersPerHour')\n        ]\n    },\n    /**\n     * Specifies the amount of chemical energy stored in one liter of fuel in megajoules (MJ).\n     * It is used in conjunction with the *Efficiency parameters for conversions between saved\n     * or consumed energy and fuel.\n     * For example, energy density is 34.2 MJ/l for gasoline, and 35.8 MJ/l for Diesel fuel.\n     * @attribute fuelEnergyDensityInMJoulesPerLiter\n     * @param {Number} [options.fuelEnergyDensityInMJoulesPerLiter]\n     */\n    fuelEnergyDensityInMJoulesPerLiter: {\n        validators: [\n            fuelEnergyDensityInMJoulesPerLiter\n        ]\n\n    },\n    /**\n     * Specifies the efficiency of converting chemical energy stored in fuel to kinetic energy when the\n     * vehicle accelerates (i.e., KineticEnergyGained/ChemicalEnergyConsumed).\n     * ChemicalEnergyConsumed is obtained by converting consumed fuel to chemical energy using\n     * fuelEnergyDensityInMJoulesPerLiter.\n     * @attribute accelerationEfficiency\n     * @param {Number} [options.accelerationEfficiency]\n     */\n    accelerationEfficiency: {\n        validators: [\n            efficiencyParameter('accelerationEfficiency', 'decelerationEfficiency')\n        ]\n    },\n    /**\n     * Specifies the efficiency of converting kinetic energy to saved (not consumed) fuel when the\n     * vehicle decelerates (i.e., ChemicalEnergySaved/KineticEnergyLost).\n     * ChemicalEnergySaved is obtained by converting saved (not consumed) fuel to energy using\n     * fuelEnergyDensityInMJoulesPerLiter.\n     * @attribute decelerationEfficiency\n     * @param {Number} [options.decelerationEfficiency]\n     */\n    decelerationEfficiency: {\n        validators: [\n            efficiencyParameter('decelerationEfficiency', 'accelerationEfficiency')\n        ]\n    },\n    /**\n     * Specifies the efficiency of converting chemical energy stored in fuel to potential energy\n     * when the vehicle gains elevation (i.e., PotentialEnergyGained/ChemicalEnergyConsumed).\n     * ChemicalEnergyConsumed is obtained by converting consumed fuel to chemical energy using\n     * fuelEnergyDensityInMJoulesPerLiter.\n     * @attribute uphillEfficiency\n     * @param {Number} [options.uphillEfficiency]\n     */\n    uphillEfficiency: {\n        validators: [\n            efficiencyParameter('uphillEfficiency', 'downhillEfficiency')\n        ]\n    },\n    /**\n     * Specifies the efficiency of converting potential energy to saved (not consumed) fuel when the\n     * vehicle loses elevation (i.e., ChemicalEnergySaved/PotentialEnergyLost).\n     * ChemicalEnergySaved is obtained by converting saved (not consumed) fuel to energy using\n     * fuelEnergyDensityInMJoulesPerLiter.\n     * @attribute downhillEfficiency\n     * @param {Number} [options.downhillEfficiency]\n     */\n    downhillEfficiency: {\n        validators: [\n            efficiencyParameter('downhillEfficiency', 'uphillEfficiency')\n        ]\n    },\n    /**\n     * Specifies the speed-dependent component of consumption.\n     * Provided as an unordered list of speed/consumption-rate pairs. The list defines points\n     * on a consumption curve.\n     * Consumption rates for speeds not in the list are found as follows:\n     * *    By linear interpolation, if the given speed lies in between two speeds in the list.\n     * *    By linear extrapolation otherwise, assuming a constant (ΔConsumption/ΔSpeed) determined by\n     * the nearest two points in the list.\n     *\n     * The list must contain between 1 and 25 points (inclusive), and may not contain duplicate points\n     * for the same speed. If it only contains a single point, then the consumption rate of that point\n     * is used without further processing. Consumption specified for the largest speed must be greater\n     * than or equal to that of the penultimate highest speed.\n     * This ensures that extrapolation does not lead to negative consumption rates.\n     * Similarly, consumption values specified for the two lowest speeds in the list cannot lead to a\n     * negative consumption rate for any lower speed.\n     * The minimum and maximum values described here refer to the valid range for the consumption values\n     * (expressed in kWh/100km).\n     * @attribute constantSpeedConsumptionInkWhPerHundredkm\n     * @param {Array} [options.constantSpeedConsumptionInkWhPerHundredkm] Colon-delimited list of\n     * ElectricConstantSpeedConsumptionPairs, e.g., an array of such pairs \"60,7\".\n     */\n    constantSpeedConsumptionInkWhPerHundredkm: {\n        validators: [\n            constantSpeedConsumption('electric')\n        ],\n        converters: [convertConstantSpeedConsumption]\n    },\n    /**\n     * Specifies the current electric energy supply in kilowatt hours (kWh).\n     * @attribute currentChargeInkWh\n     * @param {Number} [options.currentChargeInkWh]\n     */\n    currentChargeInkWh: {\n        validators: [\n            chargeParameter('currentChargeInkWh', 'maxChargeInkWh')\n        ]\n    },\n    /**\n     * Specifies the maximum electric energy supply in kilowatt hours (kWh) that may be stored in\n     * the vehicle's battery.\n     * @attribute maxChargeInkWh\n     * @param {Number} [options.maxChargeInkWh]\n     */\n    maxChargeInkWh: {\n        validators: [\n            chargeParameter('maxChargeInkWh', 'currentChargeInkWh')\n        ]\n    },\n    /**\n     * Specifies the amount of power consumed for sustaining auxiliary systems in kilowatts (kW).\n     * It can be used to specify consumption due to devices and systems such as AC systems, radio, heating, etc.\n     * @attribute auxiliaryPowerInkW\n     * @param {Number} [options.auxiliaryPowerInkW]\n     */\n    auxiliaryPowerInkW: {\n        validators: [\n            floatAndEngineType('electric', 'auxiliaryPowerInkW')\n        ]\n    },\n\n    /**\n     * Represents the type of protocol used to perform the service call.\n     *\n     * @attribute protocol\n     * @param {String} [options.protocol] Protocol type, one of _http_ or _https_.\n     */\n    protocol: {\n        validators: [validateOneOfValue(['http', 'https'], 'protocol')]\n    },\n\n    /**\n     * A list of shapes to avoid for planning routes. Supported shapes include rectangles.\n     * Can contain one of each supported shapes element.\n\n     * @example\n     * ```js\n     * tt.services.calculateRoute({\n     *      locations: '52.37173,4.91015:52.36357,4.898046255',\n     *      avoidAreas: [{\n     *      southWestCorner: {latitude: 52.36391, longitude:4.90106},\n     *      northEastCorner: {latitude: 52.36554, longitude:4.90767}\n     * }]);\n     * ```\n     * Supported point formats:\n     * - 'lat,lon'\n     * - {lat:111, lon:111}\n     * - {lat:111, lng:111}\n     * - {latitude:111, longitude:111}\n     * - {x:111, y:111}\n     * - {lat: function(), lng:function()}\n     *\n     * @attribute avoidAreas\n     * @param {Object[]} [options.avoidAreas] A list of shapes to avoid for planning routes.\n     * @throws {TypeError} If the given argument cannot be converted to a valid value.\n     */\n    avoidAreas: {\n        converters: [convertAvoidAreas],\n        application: parameterApplications.POST\n    },\n\n    /**\n     * List of 3-character ISO 3166-1 alpha-3 country codes of countries in which\n     * all toll roads with vignettes are to be avoided.\n     * Toll roads with vignettes in countries not in the list are unaffected.\n     * It is an error to specify both avoidVignette and allowVignette.\n     * @attribute avoidVignette\n     * @param {String|String[]} [options.avoidVignette] An array of country codes.\n     * @throws {TypeError} If the given argument cannot be converted into a valid value.\n     */\n    avoidVignette: {\n        validators: [\n            validateCountrySetAlpha3.bind(this, false),\n            firstParamCannotBeUsedWithSecond('avoidVignette', 'allowVignette')\n        ],\n        converters: [convertArrayOfStrings],\n        application: parameterApplications.POST\n    },\n\n    /**\n     * List of 3-character ISO 3166-1 alpha-3 country codes of countries in which\n     * toll roads with vignettes are allowed.\n     * Specifying allowVignette with some countries X is equivalent to specifying\n     * avoidVignette with all countries but X.\n     * Specifying allowVignette with an empty list is the same as avoiding all toll roads with vignettes.\n     * It is an error to specify both avoidVignette and allowVignette.\n     * @attribute allowVignette\n     * @param {String|String[]} [options.allowVignette] An array of country codes.\n     * @throws {TypeError} If the given argument cannot be converted into a valid value.\n     */\n    allowVignette: {\n        validators: [\n            validateCountrySetAlpha3.bind(this, true),\n            firstParamCannotBeUsedWithSecond('allowVignette', 'avoidVignette')\n        ],\n        converters: [convertArrayOfStrings],\n        application: parameterApplications.POST\n    },\n\n    /**\n     * Specifies the electric energy in kWh gained by the vehicle through losing 1000 meters of elevation.\n     * * Note: It must be paired with `consumptionInkWhPerkmAltitudeGain`.\n     * * Note: It cannot be used with `accelerationEfficiency`, `decelerationEfficiency`, `uphillEfficiency`\n     * or `downhillEfficiency`.\n     *\n     * Minimum value: 0.0\n     * Maximum value: `consumptionInkWhPerkmAltitudeGain`\n     *\n     * @attribute recuperationInkWhPerkmAltitudeLoss\n     * @param {Number} [options.recuperationInkWhPerkmAltitudeLoss] Electric energy in kWh\n     */\n    recuperationInkWhPerkmAltitudeLoss: {\n        validators: [\n            requiresDependantParameter(\n                'recuperationInkWhPerkmAltitudeLoss',\n                'consumptionInkWhPerkmAltitudeGain'\n            ),\n            consumptionRecuperationAltitudeParameter\n        ]\n    },\n\n    /**\n     * Specifies the electric energy in kWh consumed by the vehicle through gaining 1000 meters of elevation.\n     * * Note: It must be paired with `recuperationInkWhPerkmAltitudeLoss`.\n     * * Note: It cannot be used with `accelerationEfficiency`, `decelerationEfficiency`, `uphillEfficiency`\n     * or `downhillEfficiency`.\n     *\n     * Minimum value: `recuperationInkWhPerkmAltitudeLoss`\n     * Maximum value: 500.0\n     *\n     * @attribute consumptionInkWhPerkmAltitudeGain\n     * @param {Number} [options.consumptionInkWhPerkmAltitudeGain] Electric energy in kWh\n     */\n    consumptionInkWhPerkmAltitudeGain: {\n        validators: [\n            requiresDependantParameter(\n                'consumptionInkWhPerkmAltitudeGain',\n                'recuperationInkWhPerkmAltitudeLoss'\n            ),\n            consumptionRecuperationAltitudeParameter\n        ]\n    },\n\n    /**\n     * If specified, the vehicle is subject to ADR tunnel restrictions.\n     * * Vehicles with code B are restricted from roads with ADR tunnel categories B, C, D, and E.\n     * * Vehicles with code C are restricted from roads with ADR tunnel categories C, D, and E.\n     * * Vehicles with code D are restricted from roads with ADR tunnel categories D and E.\n     * * Vehicles with code E are restricted from roads with ADR tunnel category E.\n     * * If `vehicleAdrTunnelRestrictionCode` is not specified, no ADR tunnel restrictions apply.\n     *\n     * Notes:\n     * * If `travelMode` is pedestrian or bicycle, `vehicleAdrTunnelRestrictionCode` is not considered.\n     * * The `vehicleAdrTunnelRestrictionCode` and `vehicleLoadType` parameters are independent; please\n     * provide both if applicable.\n     *\n     * @attribute vehicleAdrTunnelRestrictionCode\n     * @param {String} [options.vehicleAdrTunnelRestrictionCode] An ADR restriction code\n     * @throws {TypeError} If the given argument is not a valid ADR restriction code.\n     */\n    vehicleAdrTunnelRestrictionCode: {\n        validators: [validateOneOfValue(['B', 'C', 'D', 'E'], 'vehicleAdrTunnelRestrictionCode')]\n    }\n};\n","import {\n    point as validatePoint, numberInInterval as validateNumberInInterval\n} from '../validators';\nimport {point as convertPoint} from '../converters';\nimport {\n    budgetInRange, requiredBudget, requiredWithSpecificEngineType, notCommon\n} from '../postValidators';\nimport {fields as commonRoutingParameters} from './commonRoutingParameters';\nimport {extend, clone} from '../utils';\nimport parameterApplications from '../../common/parameterApplications';\n\n/**\n * @private\n * @class CalculateReachableRangeParameters\n * @module Services\n */\n\nlet fields = {\n    __all: {\n        validators: [\n            requiredBudget,\n            notCommon\n        ]\n    },\n    /**\n     * Point from which the range calculation should start.\n     * The following formats are supported:\n     *\n     * - **String** (longitude/latitude pair)\n     *   - `\"4.8,52.3\"`\n     * - **Array** (longitude/latitude pair)\n     *   - `[4.8, 52.3]`\n     * - **Object**\n     *   - `{lon: 4.8, lat: 52.3}`\n     *   - `{lng: 5.8, lat: 53.3}`\n     *   - `{x: 53.3, y: 5.8}`\n     *   - `{longitude: 5.8, latitude: 53.3}`\n     *   - `{lng: Function, lat: Function}` The functions should return a numeric value.\n     *\n     * @attribute origin\n     * @param {String|Array|Object} origin\n     */\n    origin: {\n        validators: [validatePoint],\n        converters: [convertPoint],\n        application: parameterApplications.PATH\n    },\n\n    /**\n     * @attribute fuelBudgetInLiters\n     * @param {Number} fuelBudgetInLiters Fuel budget in liters that\n     * determines the maximal range which can be traveled using the specified\n     * Combustion Consumption Model. Required if _vehicleEngineType_ is _combustion_.\n     * NOTE: _exactly one_ of `fuelBudgetInLiters`, `energyBudgetInkWh`, `timeBudgetInSec` and\n     * `distanceBudgetInMeters` must be set.\n     */\n    fuelBudgetInLiters: {\n        validators: [\n            requiredWithSpecificEngineType,\n            budgetInRange\n        ]\n    },\n\n    /**\n     * @attribute energyBudgetInkWh\n     * @param {Number} energyBudgetInkWh  Electric energy budget in\n     * kilowatt hours (kWh) that determines maximal range which can be\n     * traveled using the specified Electric Consumption Model.\n     * NOTE: _exactly one_ of `fuelBudgetInLiters`, `energyBudgetInkWh`, `timeBudgetInSec` and\n     * `distanceBudgetInMeters` must be set.\n     */\n    energyBudgetInkWh: {\n        validators: [\n            requiredWithSpecificEngineType,\n            budgetInRange\n        ]\n    },\n    /**\n     * @attribute distanceBudgetInMeters\n     * @param {Number} distanceBudgetInMeters  The distance budget in meters\n     * that determines the maximal range which can be traveled.\n     * The Consumption Model will only affect the range when routeType is eco.\n     * NOTE: _exactly one_ of `fuelBudgetInLiters`, `energyBudgetInkWh`, `timeBudgetInSec` and\n     * `distanceBudgetInMeters` must be set.\n     */\n    distanceBudgetInMeters: {\n        validators: [validateNumberInInterval(0, Number.MAX_VALUE)]\n    },\n\n    /**\n     * @attribute timeBudgetInSec\n     * @param {Number} timeBudgetInSec Time budget in seconds that determines maximal\n     * range which can be traveled using driving time.\n     * The consumption parameters will only affect eco-routes and thereby indirectly the driving time.\n     * NOTE: _exactly one_ of `fuelBudgetInLiters`, `energyBudgetInkWh`, `timeBudgetInSec` and\n     * `distanceBudgetInMeters` must be set.\n     */\n    timeBudgetInSec: {\n        validators: [validateNumberInInterval(0, Number.MAX_VALUE)]\n    }\n\n};\n\nfields = extend(fields, commonRoutingParameters);\n\nexport default (fieldsToSkip) => {\n    const result = clone(fields);\n    if (fieldsToSkip instanceof Array) {\n        fieldsToSkip.forEach(function(field) {\n            delete result[field];\n        });\n    }\n\n    return result;\n};\n\n","import {PointFacade} from '../pointFacade';\n\nconst pointFacade = new PointFacade();\n\nconst toGeoJson = (data) => {\n    const coordinates = data.reachableRange.boundary.map(coordinates => [coordinates.lng, coordinates.lat]);\n    return {\n        type: 'Feature',\n        geometry: {\n            type: 'Polygon',\n            coordinates: [coordinates]\n        }\n    };\n};\n\nexport default (data) => {\n    if (data.reachableRange &&\n        data.reachableRange.boundary &&\n        Array.isArray(data.reachableRange.boundary)\n    ) {\n        // convert points\n        data.reachableRange.boundary = pointFacade.convert(data.reachableRange.boundary);\n        data.reachableRange.center = pointFacade.convert(data.reachableRange.center);\n    }\n\n    return Object.assign(data, {\n        toGeoJson: () => toGeoJson(data)\n    });\n};\n","import reachableRangeModel from './calculateReachableRange';\n\nexport default (data) => {\n    if (!Array.isArray(data.batchItems)) {\n        return null;\n    }\n    data.batchItems = data.batchItems.map((batchItem) => {\n        if (batchItem.response.error) {\n            return { error: batchItem.response.error};\n        } else {\n            return reachableRangeModel(batchItem.response);\n        }\n    });\n\n    return data;\n};\n","/* eslint-disable max-len */\n/* jshint ignore:start */\n/**\n * Calculate a reachable range implementation using the TomTom Reachable Range API.\n *\n * Makes a route request using the TomTom [Routing API - Calculate Reachable Range](CALCULATE_REACHABLE_RANGE_URL).\n *\n * Parameters need to be passed to the constructor.\n *\n *\n * The Calculate Reachable Range service calculates a set of locations that can\n * be reached from the origin point, subject to the available fuel or energy\n * budget that is specified in the request.\n *\n * The information returned is a polygon boundary in counterclockwise orientation\n * and the precise polygon center (the result of map-matching the origin point).\n *\n * ### Response\n * This service extends the API response by providing the following methods:\n * * `toGeoJson()`, converts range data into\n * a Feature with <a target=\"_blank\" rel=”noopener” href=\"https://tools.ietf.org/html/rfc7946#section-3.1.6\">Polygon</a> geometry.\n * * `getTrackingId()`, which returns the `Tracking-ID` associated with the request.\n *\n * To read more about services responses take a look at {{#crossLinkModule \"Services\"}}Difference between\n * API responses and this library's responses{{/crossLinkModule}} section.\n * or dive into <a target=\"_blank\" rel=”noopener”\n * href=\"https://developer.tomtom.com/maps-sdk-web-js/functional-examples#examples,code,reachable-range.html\">\n * Reachable range example</a> code.\n *\n * @class calculateReachableRange\n * @namespace Services.services\n * @module Services\n * @uses KeyMixin\n * @uses CommonRoutingParameters\n * @uses CalculateReachableRangeParameters\n * @uses ProtocolMixin\n * @uses BatchMixin\n * @uses TrackingIdMixin\n * @uses ReturnsToGeoJsonMixin\n * @uses AbortSignalMixin\n *\n * @constructor\n *\n * @param {Object} [options] Options to be passed to the routing call,\n *     or an array of such options objects to perform a batch request.\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n *\n * @example\n * ```javascript\n *     tt.services.calculateReachableRange({\n *         key: <Your API key>,\n *         origin: '19.454722,51.776667',\n *         fuelBudgetInLiters: 5,\n *         constantSpeedConsumptionInLitersPerHundredkm: [\"10,20\", \"15,30\"],\n *     }).then(function(rangeData) {\n *           console.log(rangeData.toGeoJson());\n *      })\n *       .catch(function(error) {\n *           console.error(error);\n *       });\n * ```\n *\n */\n/* eslint-enable max-len */\n/* jshint ignore:end */\nimport {SERVICE_TYPES} from 'Core/serviceTypes';\nimport calculateReachableRangeParameters from './calculateReachableRangeParameters';\nimport reachableRangeModel from '../../model/routing/calculateReachableRange';\nimport batchReachableRangeModel from '../../model/routing/batchCalculateReachableRange';\nimport {modelResponse} from '../../model/modelResponse';\nimport { Endpoints } from '../../endpoints/endpointsManager';\nimport {\n    singleRequestServiceFactory,\n    batchRequestServiceFactory,\n    serviceFactory\n} from '../../core';\n\nconst fields = calculateReachableRangeParameters();\nconst maxNoOfElementsInBatchRequest = 100;\n\nexport function calculateReachableRange(options, additionalOptions) {\n    const endpoints = new Endpoints(additionalOptions);\n    const singleRequest = singleRequestServiceFactory(endpoints.resolve('calculateReachableRangeEndpoint'));\n    const batchRequest = batchRequestServiceFactory(maxNoOfElementsInBatchRequest, {\n        batchSync: endpoints.resolve('batchSyncRoutingEndpoint'),\n        batch: endpoints.resolve('batchRoutingEndpoint'),\n        single: endpoints.resolve('batchReachableRangeQueryEndpoint')\n    });\n\n    const handleServiceCall = (data, abortSignal) => {\n        return singleRequest(fields, data, abortSignal)\n            .then(response => modelResponse(response, reachableRangeModel));\n    };\n\n    const handleBatchServiceCall = (data, abortSignal) => {\n        return batchRequest(fields, data, abortSignal)\n            .then(response => modelResponse(response, batchReachableRangeModel));\n    };\n\n    return serviceFactory(\n        fields,\n        SERVICE_TYPES.ROUTING,\n        'calculateReachableRange',\n        handleServiceCall,\n        handleBatchServiceCall\n    )(options, additionalOptions);\n}\n","function newFeature(route) {\n    return {\n        type: 'Feature',\n        properties: {summary: route.summary, sections: route.sections, segmentSummary: []}\n    };\n}\n\nfunction getCoordinates(points) {\n    const coordinates = [];\n    for (let i = 0; i < points.length; i += 1) {\n        coordinates.push([points[i].lng, points[i].lat]);\n    }\n    return coordinates;\n}\n\nexport function getRouteFeature(route) {\n    const isMultiLineString = route.legs.length > 1;\n\n    const feature = newFeature(route);\n    for (let i = 0; i < route.legs.length; i += 1) {\n        feature.properties.segmentSummary.push(route.legs[i].summary);\n\n        if (route.legs[i].points) {\n            feature.geometry = feature.geometry || {\n                coordinates: []\n            };\n\n            if (isMultiLineString) {\n                feature.geometry.type = 'MultiLineString';\n                feature.geometry.coordinates.push(getCoordinates(route.legs[i].points));\n            } else {\n                feature.geometry.type = 'LineString';\n                feature.geometry.coordinates = getCoordinates(route.legs[i].points);\n            }\n        }\n    }\n    if (route.guidance) {\n        feature.properties.guidance = route.guidance;\n    }\n    return feature;\n}\n","import {PointFacade} from '../pointFacade';\nimport {getRouteFeature} from './helpers/getRouteFeature';\nimport {newFeatureCollection} from '../modelUtils';\n\nconst pointFacade = new PointFacade();\nconst newLineString = () => {\n    return {\n        type: 'Feature',\n        geometry: {\n            type: 'LineString'\n        },\n        properties: {}\n    };\n};\n\nconst setProperty = (properties, propertyName, value) => {\n    if (value) {\n        properties[propertyName] = value;\n    }\n};\n\nconst toGeoJson = (data) => {\n    const result = newFeatureCollection();\n    if (!data || !data.routes) {\n        return result;\n    }\n    for (let i = 0; i < data.routes.length; i += 1) {\n        result.features.push(getRouteFeature(data.routes[i]));\n    }\n    return result;\n};\n\nconst toRouteSectionsCollection = (data) => {\n    const results = [];\n\n    if (!data || !data.routes) {\n        return results;\n    }\n\n    data.routes.forEach(route => {\n        const points = [];\n\n        for (let i = 0; i < route.legs.length; i += 1) {\n            points.push(...route.legs[i].points);\n        }\n\n        const featureCollection = newFeatureCollection();\n        route.sections.forEach(section => {\n            let coordinates = points.slice(section.startPointIndex, section.endPointIndex + 1);\n            coordinates = coordinates.map(lngLat => [lngLat.lng, lngLat.lat]);\n\n            const lineString = newLineString();\n\n            lineString.geometry.coordinates = coordinates;\n\n            setProperty(lineString.properties, 'sectionType', section.sectionType);\n            setProperty(lineString.properties, 'travelMode', section.travelMode);\n            setProperty(lineString.properties, 'countryCode', section.countryCode);\n            setProperty(lineString.properties, 'simpleCategory', section.simpleCategory);\n            setProperty(lineString.properties, 'effectiveSpeedInKmh', section.effectiveSpeedInKmh);\n            setProperty(lineString.properties, 'delayInSeconds', section.delayInSeconds);\n            setProperty(lineString.properties, 'magnitudeOfDelay', section.delayInSeconds);\n            setProperty(lineString.properties, 'tec', section.tec);\n\n            featureCollection.features.push(lineString);\n        });\n\n        results.push(featureCollection);\n    });\n\n    return results;\n};\n\nexport function calculateRouteModel(data) {\n    const routes = data.routes;\n\n    // convert points\n    if (routes && routes.length) {\n        routes.forEach(route => {\n            route.legs.forEach(leg => {\n                leg.points = pointFacade.convert(leg.points);\n            });\n        });\n    }\n\n    return Object.assign(data, {\n        toGeoJson: () => toGeoJson(data),\n        toRouteSectionsCollection: () => toRouteSectionsCollection(data)\n    });\n}\n","import {calculateRouteModel as routingModel} from './calculateRoute';\n\nexport function batchCalculateRouteModel(data) {\n    if (!Array.isArray(data.batchItems)) {\n        return null;\n    }\n\n    data.batchItems = data.batchItems.map((batchItem) => {\n        if (batchItem.response.error) {\n            return { error: batchItem.response.error };\n        } else {\n            return routingModel(batchItem.response);\n        }\n    });\n\n    return data;\n}\n","import {extend, clone} from '../utils';\nimport {bool as validateBool, oneOfValue as validateOneOfValue, naturalInteger as validateNaturalInteger,\n    numberInInterval as validateNumberInInterval, arrayOfValues as validateArrayOfValues,\n    routingLocations as validateRoutingLocations, routingGuidanceLanguage as validateRoutingGuidanceLanguage,\n    integerInInterval as validateIntegerInInterval, supportingPoints as validateSupportingPoints\n} from '../validators';\nimport {\n    routingLocations as convertRoutingLocations, routingGuidanceLanguage as convertRoutingGuidanceLanguage,\n    supportingPoints as convertSupportingPoints, arrayOfStrings as convertArrayOfStrings\n} from '../converters';\nimport {fields as commonRoutingParameters} from './commonRoutingParameters';\nimport {\n    firstParamCannotBeUsedWithSecond, requiresDependantParameter\n} from '../postValidators';\nimport parameterApplications from '../../common/parameterApplications';\n\n/**\n * @private\n * @class RoutingParameters\n * @module Services\n */\n\nlet routingParameters = {\n    /**\n     * Specifies whether to compute alternatives\n     * with the objective to find routes that are significantly different,\n     * or whether to look for routes better than the reference route. Possible values are:\n     *  1. anyRoute: compute alternative routes that are significantly different from the reference route.\n     *  2. betterRoute: return an alternative route only if it is better than the reference\n     *      route according to the given planning criteria.\n     *      If there is a road block on the reference route,\n     *      then any alternative that does not contain blockages is considered as a better route.\n     *\n     * Can only be used when reconstructing a route.\n     *\n     * @attribute alternativeType\n     * @param {String} [options.alternativeType] The type of the alternative route.\n     */\n    alternativeType: {\n        validators: [validateOneOfValue(['anyRoute', 'betterRoute'], 'alternativeType')]\n    },\n    /**\n     * Locations through which the route is calculated. The\n     * following constraints apply:\n     * *    At least two locations must be provided.\n     * *    The first location in the sequence defines the origin and must be of type 'point'.\n     * *    The last location in the sequence defines the destination and must be of type 'point'.\n     * *    One or more optional intermediate locations (known as waypoints) may be provided:\n     *      *   The maximum allowed number of waypoints is 150.\n     *      *   A point waypoint results in an extra leg in the response, a circle waypoint does not.\n     *      *   Circle waypoints cannot be used when computeBestOrder is true.\n     *\n     * The points or circles that will be used to calculate the route. The following input types are allowed:\n     *  1. A string with colon-delimited locations. For example '13.42936,52.50931:13.43872,52.50274'\n     * where comma divides longitude and latitude.\n     *  2. An array containing locations.\n     *     Location can be defined as a string, object, or array.\n     *\n     * <b>Note:</b> Please keep in mind, that `supportingPoints` and 'Waypoints' (meaning more than two `locations`)\n     * are mutually exclusive. If you are using `supportingPoints` you can use only two `locations`.\n     *\n     * @attribute locations\n     * @param {String|Array} [options.locations] These are the specified locations for route calculation.\n     */\n    locations: {\n        validators: [validateRoutingLocations],\n        converters: [convertRoutingLocations],\n        required: true,\n        application: parameterApplications.PATH\n    },\n    /**\n     * The number of desired alternative routes to be calculated. The value provided:\n     * Must be an integer in the range 0-5.\n     * Using a value greater than 0 in conjunction with computeBestOrder set to true is not allowed.\n     * Fewer alternative routes may be returned if either fewer alternatives exist or the requested number of\n     * alternatives is larger than the service can calculate. The default value is 0, the maximum value is 5.\n     *\n     * @attribute maxAlternatives\n     * @param {Number} [options.maxAlternatives] To restrict the maximum alternative routes to be calculated.\n     */\n    maxAlternatives: {\n        validators: [validateNumberInInterval(0, 5)]\n    },\n\n    /**\n     * If specified, guidance instructions will be returned (if available).\n     *\n     * Possible values:\n     * * _coded_ : returns raw instruction data without human-readable messages.\n     * * _text_ : returns raw instructions data with human-readable messages in plain text.\n     * * _tagged_ : returns raw instruction data with tagged human-readable messages to permit formatting.\n     *\n     * Note that the instructionsType parameter cannot be used in conjunction with routeRepresentation=none.\n     * If alternative routes are requested, instructions will be generated for each route returned.\n     *\n     * @attribute instructionsType\n     * @param {String} [options.instructionsType] If a street number is sent in along with the request, the response\n     *     may include the side of the street (Left/Right) and also an offset position for that street number.\n     */\n    instructionsType: {\n        validators: [validateOneOfValue(['coded', 'text', 'tagged'], 'instructions type')]\n    },\n    /* eslint-disable max-len */\n    /**\n     * The language parameter determines the language of the guidance messages. It does not affect proper nouns\n     * (the names of streets, plazas, etc.) It has no effect when instructionsType=coded. Allowed values are (a\n     * subset of) the IETF language tags described here. The currently supported languages are listed in the\n     * supported languages section:\n     *\n     * [Routing supported languages](CALCULATE_ROUTE_SUPPORTED_LANGS_URL)\n     *\n     * @attribute language\n     * @param {String} [options.language] The language value.\n     */\n    /* eslint-enable max-len*/\n    language: {\n        validators: [validateRoutingGuidanceLanguage],\n        converters: [convertRoutingGuidanceLanguage]\n    },\n    /**\n     * Reorders the route waypoints to reduce\n     * the route length. Yields best results when used in conjunction with routeType shortest. Possible values:\n     * *    true (compute a better order, if possible; not allowed to be used in conjunction with a\n     * maxAlternatives value greater than 0; not allowed to be used in conjunction with circle waypoints).\n     * The response will include the optimized waypoint indices.\n     * *    false (use the locations in the given order). Not allowed to be used in conjunction with\n     * routeRepresentation none.\n     *\n     * @attribute computeBestOrder\n     * @param {Boolean} [options.computeBestOrder] A flag to reorder the route waypoints to reduce the route length.\n     */\n    computeBestOrder: {\n        validators: [validateBool]\n    },\n\n    /**\n     * Specifies the representation of the set of routes provided as a response. Possible values:\n     * * _polyline_ includes routes in the response.\n     * * _none_ includes only the optimized waypoint indices but does not include the routes in the response.\n     *\n     * This parameter value can only be used in conjunction with computeBestOrder 'true'.\n     *\n     * @attribute routeRepresentation\n     * @param {String} [options.routeRepresentation] Allows the routing response to omit the actual route and give only\n     *     the best ordered waypoints.\n     */\n    routeRepresentation: {\n        validators: [validateOneOfValue(['polyline', 'none'], 'route representation')]\n    },\n\n    /**\n     * Specifies whether to return additional travel times using different types of traffic information (none,\n     * historic, live) as well as the default best-estimate travel time. Possible values:\n     * * none - do not compute additional travel times.\n     * * all - compute travel times for all types of traffic information. Specifying all results in the fields\n     * noTrafficTravelTimeInSeconds, historicTrafficTravelTimeInSeconds and\n     * liveTrafficIncidentsTravelTimeInSeconds being included in the summaries in the route response.\n     *\n     * @attribute computeTravelTimeFor\n     * @param {String} [options.computeTravelTimeFor] Setting `'all'` provides additional information regarding travel\n     *     times.\n     */\n    computeTravelTimeFor: {\n        validators: [validateOneOfValue(['none', 'all'], 'compute travel time for')]\n    },\n\n    /**\n     * The directional heading of the vehicle in degrees starting at true North and continuing in a clockwise\n     * direction. North is 0 degrees, East is 90 degrees, South is 180 degrees, West is 270 degrees. Possible\n     * values are 0-359.\n     *\n     * @attribute vehicleHeading\n     * @param {Number} [options.vehicleHeading] The angle in which the vehicle is heading.\n     */\n    vehicleHeading: {\n        validators: [validateIntegerInInterval(0, 359)]\n    },\n\n    /**\n     * Defines at least how far **in meters** the alternative routes have to follow the reference route.\n     *\n     * This option cannot be used in conjunction with {{#crossLink \"Routing/arriveAt:method\"}}{{/crossLink}}.\n     *\n     * @attribute minDeviationDistance\n     * @param {Number} [options.minDeviationDistance] Meters represented as a positive integer number.\n     */\n    minDeviationDistance: {\n        validators: [\n            validateNaturalInteger,\n            firstParamCannotBeUsedWithSecond('minDeviationDistance', 'arriveAt'),\n            requiresDependantParameter('minDeviationDistance', 'supportingPoints')\n        ]\n    },\n\n    /**\n     * Defines at least how far **in time (seconds)** the alternative routes have to follow the reference route.\n     *\n     * This option cannot be used in conjunction with {{#crossLink \"Routing/arriveAt:method\"}}{{/crossLink}}.\n     *\n     * @attribute minDeviationTime\n     * @param {Number} [options.minDeviationTime] Seconds represented as a positive integer number.\n     */\n    minDeviationTime: {\n        validators: [\n            validateNaturalInteger,\n            firstParamCannotBeUsedWithSecond('minDeviationTime', 'arriveAt'),\n            requiresDependantParameter('minDeviationTime', 'supportingPoints')\n        ]\n    },\n\n    /* eslint-disable max-len */\n    /**\n     * Can be used to set supporting points for constructing (or reconstructing) a route and for\n     * calculating alternative routes to a base route. The provided sequence of supporting points\n     * is used as input for route reconstruction.\n     *\n     * Pseudo examples:\n     * * If the base route is A > B and we include a supporting point C, the result will be A > C > B;\n     * * Supporting points can be used to entirely reconstruct a route you previously had:\n     * Let us illustrate the problem. To go from A > B you received A > C > D > E > B. If later, you try to generate\n     * the same route (A > B), you might get different middle points. So, if you need to generate the exact same route\n     * you previously had you can do something like routing().locations(A, B).supportingPoints(C, D, E)\n     *\n     * You can use one of the following input formats to define the supporting points:\n     * * String: '4.8,52.3' or '4.8,52.3:4.87,52.37'\n     * * String[]: ['4.8,52.3:4.87,52.37', '4.8,52.3:4.87,52.37']\n     * * Object: {lat: 52.3, lon: 4.8} or {lat: 53.3, lng: 5.8} or {x: 53.3, y: 5.8} or {latitude: 53.3, longitude: 5.8}\n     * * Object[]: [{lat: 52.3, lon: 4.8}] or [{lat: 53.3, lng: 5.8}]\n     *\n     * How 'Supporting Points' differ from 'Waypoints?' - Waypoints are points where the calculated route will go through, but\n     * the resulting route might be different from search to search. The waypoints order might not necessarilly be respected\n     * when calculating the best route. Finally, there is a limit to the number of waypoints you can use in a route calculation.\n     * Supporting points can be used to entirely contruct a previous route, or parts of it, using the previously generated points.\n     * This means that there is no limit to the number of points, and the order of these points will be respected.</br></br>\n     *\n     * <b>Note:</b> Please keep in mind, that `supportingPoints` and 'Waypoints' (meaning more than two `locations`) are mutually\n     * exclusive. If you are using `supportingPoints` you can use only two `locations`.\n     *\n     * For more information please refer to the [Routing API Docs](CALCULATE_ROUTE_URL)\n     *\n     * @attribute supportingPoints\n     * @param {String|String[]|Object|Object[]} [options.supportingPoints] Supporting points for route calculation.\n     * @example\n     * ```js\n     * tt.services.routing({\n     *      locations: '4.8,52.3:4.87,52.37',\n     *      supportingPoints: ['-7.164026,39.319843', '-6.16632,39.342266']\n     * })\n     *   .then(function(routeGeoJson) {\n     *     console.log(routeGeoJson);\n     *   });\n     * ```\n     */\n    /* eslint-enable max-len */\n    supportingPoints: {\n        validators: [validateSupportingPoints],\n        converters: [convertSupportingPoints],\n        application: parameterApplications.POST\n    },\n\n    /**\n     * Specifies which of the section types is reported in the route response.\n     *\n     * Possible values:\n     * - `carTrain`, `ferry`, `tunnel` or `motorway`: get\n     * sections if the route includes car trains, ferries, tunnels, or motorways.\n     * - pedestrian: sections which are only suited for pedestrians.\n     * - tollRoad: sections which require a toll to be payed.\n     * - tollVignette: sections which require a toll vignette to be present.\n     * - country: countries the route has parts in.\n     * - carpool: sections of the route that require use of carpool (HOV/High Occupancy Vehicle) lanes.\n     * - urban: sections of the route that are located within urban areas.\n     * - unpaved: sections of the route that are unpaved.\n     * - travelMode: sections in relation to the request parameter 'travelMode'.\n     *\n     * The default value is travelMode.\n     * @attribute sectionType\n     * @param {String|String[]} [options.sectionType] An array of section types.\n     */\n    sectionType: {\n        validators: [validateArrayOfValues([\n            'carTrain', 'country', 'ferry', 'motorway', 'pedestrian', 'tollRoad', 'tollVignette',\n            'travelMode', 'tunnel', 'traffic', 'carpool', 'urban', 'unpaved'\n        ], 'sectionType')],\n        converters: [convertArrayOfStrings]\n    }\n};\n\nexport function getRoutingParameters(fieldsToSkip) {\n    routingParameters = extend(routingParameters, commonRoutingParameters);\n    const result = clone(routingParameters);\n    if (fieldsToSkip instanceof Array) {\n        fieldsToSkip.forEach(function(field) {\n            delete result[field];\n        });\n    }\n\n    return result;\n}\n","/* eslint-disable max-len */\n/**\n * Calculates a route between two locations using the TomTom\n * [Routing API](CALCULATE_ROUTE_URL);\n *\n * Parameters need to be passed to the constructor.\n *\n * ### The types used in the Routing service:\n *  - point - longitude, latitude pair (in EPSG4326 projection), with the following constraints:\n *    - Longitude values must be in the range -180..+180 inclusive.\n *    - Latitude values must be in the range -90..+90 inclusive.\n *    - Example: 4.89406, 52.37245\n *\n *  - circle - A circle with a center point and a radius (in meters).\n *    - The radius must be a positive integer with the maximum value of 20050000.\n *    - Note that larger integer values will not be rejected but lowered to the maximum value.\n *    - Example: circle(4.89406,52.37245,10000)\n *\n *  - location - A point or a circle.\n *    - Example: 4.89406,52.37245  circle(4.89406,52.37245,10000)\n *\n *  - dateTime - A date and time specified in RFC-3339 format with an optional time zone offset.\n *    - Example: 1996-12-19T16:39:57  1996-12-19T16:39:57-08:00\n *\n * ### Response\n * This service extends the API response by providing the following methods:\n * * `toGeoJson()`, converts route data into a\n * FeatureCollection of <a target=\"_blank\" rel=”noopener” href=\"https://tools.ietf.org/html/rfc7946#section-3.1.4\">LineString</a>\n * or <a target=\"_blank\" rel=”noopener” href=\"https://tools.ietf.org/html/rfc7946#section-3.1.5\">MultiLineString</a> geometries.\n * * `toRouteSectionsCollection()`, provides an array of FeatureCollections. Each FeatureCollection consists of\n * <a target=\"_blank\" rel=”noopener” href=\"https://tools.ietf.org/html/rfc7946#section-3.1.4\">LineStrings </a> representing segments\n * of the route. Take a look at\n * <a target=\"_blank\"  rel=”noopener”\n * href=\"https://developer.tomtom.com/maps-sdk-web-js/functional-examples#examples,code,route-sections.html\">\n * Route sections example</a> to see it in action.\n * * `getTrackingId()`, returns the `Tracking-ID` associated with the request.\n *\n * To read more about services responses take a look at {{#crossLinkModule \"Services\"}}Difference between\n * API responses and this library's responses{{/crossLinkModule}} section.\n * or dive into <a target=\"_blank\"  rel=”noopener”\n * href=\"https://developer.tomtom.com/maps-sdk-web-js/functional-examples#examples,code,static-route.html\">\n * Static route example</a> code.\n *\n * @class calculateRoute\n * @namespace Services.services\n * @module Services\n * @uses KeyMixin\n * @uses CommonRoutingParameters\n * @uses RoutingParameters\n * @uses BatchMixin\n * @uses TrackingIdMixin\n * @uses ReturnsToGeoJsonMixin\n * @uses AbortSignalMixin\n * @constructor\n * @param {Object|Array} [options] Options to be passed to the routing call,\n *     or an array of such options objects to perform a batch request.\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n *\n * @example\n * ```js\n * tt.services.calculateRoute({\n *   key: <Your API key>,\n *   locations: '4.8,52.3:4.87,52.37'\n * }).then(function(routeData) {\n *     console.log(routeData.toGeoJson());\n *   });\n * ```\n */\n/* eslint-enable max-len */\n/* jshint nomen:false */\nimport {SERVICE_TYPES} from 'Core/serviceTypes';\nimport {calculateRouteModel} from '../../model/routing/calculateRoute';\nimport {batchCalculateRouteModel} from '../../model/routing/batchCalculateRoute';\nimport {getRoutingParameters} from './routingParameters';\nimport {modelResponse} from '../../model/modelResponse';\nimport { Endpoints } from '../../endpoints/endpointsManager';\nimport {\n    singleRequestServiceFactory,\n    batchRequestServiceFactory,\n    serviceFactory\n} from '../../core';\n\nexport function calculateRoute(options, additionalOptions) {\n    const fields = getRoutingParameters();\n    const maxNoOfElementsInBatchRequest = 100;\n    const endpoints = new Endpoints(additionalOptions);\n    const singleRequest = singleRequestServiceFactory(endpoints.resolve('routingEndpoint'));\n    const batchRequest = batchRequestServiceFactory(maxNoOfElementsInBatchRequest, {\n        batchSync: endpoints.resolve('batchSyncRoutingEndpoint'),\n        batch: endpoints.resolve('batchRoutingEndpoint'),\n        single: endpoints.resolve('batchRoutingQueryEndpoint')\n    });\n\n    function handleServiceCall(data, abortSignal) {\n        return singleRequest(fields, data, abortSignal)\n            .then(response => modelResponse(response, calculateRouteModel));\n    }\n    function handleBatchServiceCall(data, abortSignal) {\n        return batchRequest(fields, data, abortSignal)\n            .then(response => modelResponse(response, batchCalculateRouteModel));\n    }\n\n    return serviceFactory(\n        fields,\n        SERVICE_TYPES.ROUTING,\n        'calculateRoute',\n        handleServiceCall,\n        handleBatchServiceCall\n    )(options, additionalOptions);\n}\n","import {\n    oneOfValue as validateOneOfValue, numberInInterval as validateNumberInInterval,\n    chargingModes as validateChargingModes\n} from '../validators';\nimport {\n    constantSpeedConsumption, floatAndEngineType, chargeParameter,\n    requiresDependantParameter, consumptionRecuperationAltitudeParameter\n} from '../postValidators';\nimport {constantSpeedConsumption as convertConstantSpeedConsumption} from '../converters';\nimport {getRoutingParameters} from './routingParameters';\nimport parameterApplications from '../../common/parameterApplications';\nimport {extend} from '../utils';\n\n/**\n * @private\n * @class LongDistanceEVRoutingParameters\n * @module Services\n */\n\nconst fieldsToSkip = ['arriveAt', 'travelMode', 'computeTravelTimeFor', 'alternativeType',\n    'maxAlternatives', 'instructionsType', 'language', 'computeBestOrder', 'routeRepresentation',\n    'supportingPoints', 'minDeviationDistance', 'minDeviationTime', 'constantSpeedConsumptionInLitersPerHundredkm',\n    'currentFuelInLiters', 'fuelEnergyDensityInMJoulesPerLiter', 'hilliness', 'windingness', 'routeType',\n    'vehicleEngineType', 'currentChargeInkWh', 'maxChargeInkWh', 'constantSpeedConsumptionInkWhPerHundredkm'];\n\nconst extendedFields = {\n    /* eslint-disable max-len */\n    /**\n     * Specifies the efficiency of converting chemical energy stored in fuel to kinetic energy when the\n     * vehicle accelerates (i.e., KineticEnergyGained/ChemicalEnergyConsumed).\n     * ChemicalEnergyConsumed is obtained by converting consumed fuel to chemical energy using\n     * fuelEnergyDensityInMJoulesPerLiter.\n     * @attribute accelerationEfficiency\n     * @param {Number} [options.accelerationEfficiency]\n     */\n    /**\n     * List of 3-character ISO 3166-1 alpha-3 country codes of countries in which\n     * all toll roads with vignettes are to be avoided.\n     * Toll roads with vignettes in countries not in the list are unaffected.\n     * It is an error to specify both avoidVignette and allowVignette.\n     * @attribute avoidVignette\n     * @param {String|String[]} [options.avoidVignette] An array of country codes.\n     * @throws {TypeError} If the given argument cannot be converted into a valid value.\n     */\n    /**\n     * Specifies the amount of power consumed for sustaining auxiliary systems in kilowatts (kW).\n     * It can be used to specify consumption due to devices and systems such as AC systems, radio, heating, etc.\n     * @attribute auxiliaryPowerInkW\n     * @param {Number} [options.auxiliaryPowerInkW]\n     */\n    auxiliaryPowerInkW: {\n        validators: [\n            floatAndEngineType('electric', 'auxiliaryPowerInkW')\n        ]\n    },\n    /**\n     * Specifies something that the route calculation should try to avoid when determining the route. Can be\n     * specified multiple times. Possible values:\n     * *    `tollRoads`: avoids toll roads.\n     * *    `motorways`: avoids motorways.\n     * *    `ferries`: avoids ferries.\n     * *    `unpavedRoads`: avoids unpaved roads.\n     * *    `carpools`: avoids routes that require use of a carpool (HOV/ High Occupancy Vehicle) lanes.\n     * *    `alreadyUsedRoads`: avoids using the same road multiple times.\n     *\n     * Most useful in conjunction with `routeType=thrilling`.\n     *\n     * @attribute avoid\n     * @param {Array|String} [options.avoid] Specifies something that the route calculation should try to avoid when\n     *     determining the route.\n     */\n    /**\n     * Supported shapes include rectangles.\n     * Can contain one of each supported shapes element.\n\n     * @example\n     * ```js\n     * tt.services.calculateRoute({\n     *      locations: '52.37173,4.91015:52.36357,4.898046255',\n     *      avoidAreas: [{\n     *      southWestCorner: {latitude: 52.36391, longitude:4.90106},\n     *      northEastCorner: {latitude: 52.36554, longitude:4.90767}\n     * }]);\n     * ```\n     * Supported point formats:\n     * - 'lat,lon'\n     * - {lat:111, lon:111}\n     * - {lat:111, lng:111}\n     * - {latitude:111, longitude:111}\n     * - {x:111, y:111}\n     * - {lat: function(), lng:function()}\n     *\n     * @attribute avoidAreas\n     * @param {Object[]} [options.avoidAreas] A list of shapes to avoid for planning routes.\n     * @throws {TypeError} If the given argument cannot be converted to a valid value.\n     */\n    /**\n     * List of 3-character ISO 3166-1 alpha-3 country codes of countries in which\n     * all toll roads with vignettes are to be avoided.\n     * Toll roads with vignettes in countries not in the list are unaffected.\n     * It is an error to specify both avoidVignette and allowVignette.\n     * @attribute avoidVignette\n     * @param {String|String[]} [options.avoidVignette] An array of country codes.\n     * @throws {TypeError} If the given argument cannot be converted into a valid value.\n     */\n    /**\n     * Specifies the speed-dependent component of consumption.\n     * Provided as an unordered list of speed/consumption-rate pairs. The list defines points\n     * on a consumption curve.\n     * Consumption rates for speeds not in the list are found as follows:\n     * *    By linear interpolation, if the given speed lies in between two speeds in the list.\n     * *    By linear extrapolation otherwise, assuming a constant (ΔConsumption/ΔSpeed) determined by\n     * the nearest two points in the list.\n     *\n     * The list must contain between 1 and 25 points (inclusive), and may not contain duplicate points\n     * for the same speed. If it only contains a single point, then the consumption rate of that point\n     * is used without further processing. Consumption specified for the largest speed must be greater\n     * than or equal to that of the penultimate highest speed.\n     * This ensures that extrapolation does not lead to negative consumption rates.\n     * Similarly, consumption values specified for the two lowest speeds in the list cannot lead to a\n     * negative consumption rate for any lower speed.\n     * The minimum and maximum values described here refer to the valid range for the consumption values\n     * (expressed in kWh/100km).\n     * @attribute constantSpeedConsumptionInkWhPerHundredkm\n     * @param {Array} options.constantSpeedConsumptionInkWhPerHundredkm Colon-delimited list of\n     * ElectricConstantSpeedConsumptionPairs, e.g., an array of such pairs \"60,7\".\n     */\n    constantSpeedConsumptionInkWhPerHundredkm: {\n        validators: [\n            constantSpeedConsumption('electric')\n        ],\n        converters: [convertConstantSpeedConsumption],\n        required: true\n    },\n    /**\n     * Specifies the current electric energy supply in kilowatt hours (kWh).\n     * @attribute currentChargeInkWh\n     * @param {Number} options.currentChargeInkWh\n     */\n    currentChargeInkWh: {\n        validators: [\n            chargeParameter('currentChargeInkWh', 'maxChargeInkWh')\n        ],\n        required: true\n    },\n    /**\n     * Specifies the efficiency of converting kinetic energy to saved (not consumed) fuel when the\n     * vehicle decelerates (i.e., ChemicalEnergySaved/KineticEnergyLost).\n     * ChemicalEnergySaved is obtained by converting saved (not consumed) fuel to energy using\n     * fuelEnergyDensityInMJoulesPerLiter.\n     * @attribute decelerationEfficiency\n     * @param {Number} [options.decelerationEfficiency]\n     */\n    /**\n     * The date and time of departure from the origin point.\n     * Departure times, apart from now, must be specified as a dateTime.\n     * When a time zone offset is not specified, it will be assumed to be that of the origin point.\n     * The departAt value must be in the future. The departAt parameter cannot be used in conjunction with\n     * arriveAt.\n     *\n     * @attribute departAt\n     * @param {String} [options.departAt] The properly formatted date with the time or 'now' value. Date\n     * cannot be in the past and has to follow ISO 8601 standard.\n     */\n    /**\n     * Specifies the efficiency of converting potential energy to saved (not consumed) fuel when the\n     * vehicle loses elevation (i.e., ChemicalEnergySaved/PotentialEnergyLost).\n     * ChemicalEnergySaved is obtained by converting saved (not consumed) fuel to energy using\n     * fuelEnergyDensityInMJoulesPerLiter.\n     * @attribute downhillEfficiency\n     * @param {Number} [options.downhillEfficiency]\n     */\n    /**\n     * Specifies the maximum electric energy supply in kilowatt hours (kWh) that may be stored in\n     * the vehicle's battery.\n     * @attribute maxChargeInkWh\n     * @param {Number} options.maxChargeInkWh\n     */\n    maxChargeInkWh: {\n        validators: [\n            chargeParameter('maxChargeInkWh', 'currentChargeInkWh')\n        ],\n        required: true\n    },\n    /**\n     * Represents the type of protocol used to perform the service call.\n     *\n     * @attribute protocol\n     * @param {String} [options.protocol] Protocol type, one of `http` or `https`.\n     */\n    /**\n     * Specifies which data should be reported for diagnosis purposes.\n     *\n     * Possible values: _effectiveSettings_\n     * Reports the effective parameters or data used when calling the API.\n     *\n     * In the case of defaulted parameters, the default will be reflected where the parameter was not specified\n     * by the caller.\n     *\n     * @attribute report\n     * @param {String} [options.report] The level of a verbose answer from the service, useful for debugging purposes.\n     */\n    /**\n     * Specifies which of the section types is reported in the route response.\n     *\n     * Possible values:\n     * - `carTrain`, `ferry`, `tunnel` or `motorway`: get\n     * sections if the route includes car trains, ferries, tunnels, or motorways.\n     * - pedestrian: sections which are only suited for pedestrians.\n     * - tollRoad: sections which require a toll to be payed.\n     * - tollVignette: sections which require a toll vignette to be present.\n     * - country: countries the route has parts in.\n     * - travelMode: sections in relation to the request parameter 'travelMode'.\n     *\n     * The default value is travelMode.\n     * @attribute sectionType\n     * @param {String|String[]} [options.sectionType] An array of section types.\n     */\n    /**\n     * Possible values:\n     * - `true` (do consider all available traffic information during routing)\n     * - `false` (ignores current traffic data during routing) Note that although the current traffic data is\n     *   ignored during routing, the effect of historic traffic on effective road speeds is still incorporated.\n     *\n     * The default is true.\n     *\n     * @attribute traffic\n     * @param {Boolean} [options.traffic=true] A boolean flag determines if traffic data should be used to calculate the\n     *     route.\n     */\n    /**\n     * Weight per axle of the vehicle in kg (kilograms). A value of 0 means that weight restrictions per axle are not\n     * considered during route planning. This parameter is currently only considered for travelMode truck.\n     *\n     * @attribute vehicleAxleWeight\n     * @param {Number} [options.vehicleAxleWeight] The vehicle axle weight in kg (kilograms).\n     */\n    /**\n     * The vehicle is used for commercial purposes and thus may not be allowed to drive on some roads. This\n     * parameter is currently only considered for travelMode truck.\n     *\n     * @attribute vehicleCommercial\n     * @param {Boolean} [options.vehicleCommercial] True if the vehicle is used for commercial purposes.\n     */\n    /**\n     * Engine type of the vehicle. This parameter is currently only considered for travelMode truck. Valid\n     * options are: `electric`\n     *\n     * @attribute vehicleEngineType\n     * @param {String} options.vehicleEngineType The vehicle engine type.\n     */\n    vehicleEngineType: {\n        validators: [validateOneOfValue(['electric'], 'vehicleEngineType')],\n        required: true\n    },\n    /**\n     * The directional heading of the vehicle in degrees starting at true North and continuing in a clockwise\n     * direction. North is 0 degrees, East is 90 degrees, South is 180 degrees, West is 270 degrees. Possible\n     * values are 0-359.\n     *\n     * @attribute vehicleHeading\n     * @param {Number} [options.vehicleHeading] The angle in which the vehicle is heading.\n     */\n    /**\n     * Height of the vehicle in meters. A value of 0 means that height restrictions are not considered\n     * during route planning. This parameter is currently only considered for travelMode truck.\n     *\n     * @attribute vehicleHeight\n     * @param {Number} [options.vehicleHeight] The vehicle height in meters.\n     */\n    /**\n     * Length of the vehicle in meters. A value of 0 means that length restrictions are not considered during\n     * route planning. This parameter is currently only considered for travelMode truck.\n     *\n     * @attribute vehicleLength\n     * @param {Number} [options.vehicleLength] The vehicle length in meters.\n     */\n    /**\n     * Types of cargo that may be classified as hazardous materials and restricted from some roads. Available\n     * vehicleLoadType values are US Hazmat classes 1 through 9, plus generic classifications for use in other\n     * countries.\n     *\n     * __Use these for routing in US__\n     * * `USHazmatClass1 Explosives`\n     * * `USHazmatClass2 Compressed gas`\n     * * `USHazmatClass3 Flammable liquids`\n     * * `USHazmatClass4 Flammable solids`\n     * * `USHazmatClass5 Oxidizers`\n     * * `USHazmatClass6 Poisons`\n     * * `USHazmatClass7 Radioactive`\n     * * `USHazmatclass8 Corrosives`\n     * * `USHazmatClass9 Miscellaneous`\n     *\n     * __Use these for routing in all other countries__\n     * * `otherHazmatExplosive Explosives`\n     * * `otherHazmatGeneral Miscellaneous`\n     * * `otherHazmatHarmfulToWater Harmful to water`\n     *\n     * This parameter is currently only considered for travelMode truck.\n     *\n     * @attribute vehicleLoadType\n     * @param {Array|String} [options.vehicleLoadType] The array of truck cargo classification.\n     */\n    /**\n     * Maximum speed of the vehicle in km/hour. A value of 0 means that an appropriate value for the vehicle\n     * will be determined and applied during route planning. A non-zero value may be overridden during route\n     * planning. This parameter is currently only considered for travelMode truck.\n     *\n     * @attribute vehicleMaxSpeed\n     * @param {Number} [options.vehicleMaxSpeed] The maximal allowed vehicle speed in km/h.\n     */\n    /**\n     * Weight of the vehicle in kg. A value of 0 means that weight restrictions are not considered during route\n     * planning. This parameter is currently only considered for travelMode truck.\n     *\n     * @attribute vehicleWeight\n     * @param {Number} [options.vehicleWeight] The vehicle weight in kg (kilograms).\n     */\n    /**\n     * Width of the vehicle in meters. A value of 0 means that width restrictions are not considered during\n     * route planning. This parameter is currently only considered for travelMode truck.\n     *\n     * @attribute vehicleWidth\n     * @param {Number} [options.vehicleWidth] The vehicle width in meters.\n     */\n    /**\n     * Specifies the efficiency of converting chemical energy stored in fuel to potential energy\n     * when the vehicle gains elevation (i.e., PotentialEnergyGained/ChemicalEnergyConsumed).\n     * ChemicalEnergyConsumed is obtained by converting consumed fuel to chemical energy using\n     * fuelEnergyDensityInMJoulesPerLiter.\n     * @attribute uphillEfficiency\n     * @param {Number} [options.uphillEfficiency]\n     */\n    /**\n     * @attribute chargingModes\n     * @param {Array} options.chargingModes A non-empty list of at most 10 `chargingModes`, which the vehicle is\n     * able to use to charge. Each `chargingConnection` appears in at most one `chargingMode`.\n     */\n    chargingModes: {\n        validators: [validateChargingModes],\n        required: true,\n        application: parameterApplications.POST\n    },\n    /**\n     * @attribute minChargeAtDestinationInkWh\n     * @param {Number} options.minChargeAtDestinationInkWh The battery level upon arrival at the destination\n     * of the resulting route will be at least this much.\n     * *Maximum value:* `maxChargeInkWh`\n     */\n    minChargeAtDestinationInkWh: {\n        validators: [validateNumberInInterval(0, Number.MAX_VALUE)],\n        required: true\n    },\n    /**\n     * @attribute minChargeAtChargingStopsInkWh\n     * @param {Number} options.minChargeAtChargingStopsInkWh The battery level upon arrival at each intermediate\n     * charging stop of the resulting route will be at least this much.\n     * *Maximum value:* `0.2 × maxChargeInkWh`\n     */\n    minChargeAtChargingStopsInkWh: {\n        validators: [validateNumberInInterval(0, Number.MAX_VALUE)],\n        required: true\n    },\n    /**\n     * Specifies the electric energy in kWh gained by the vehicle through losing 1000 meters of elevation.\n     * * Note: It must be paired with `consumptionInkWhPerkmAltitudeGain`.\n     * * Note: It cannot be used with `accelerationEfficiency`, `decelerationEfficiency`, `uphillEfficiency`\n     * or `downhillEfficiency`.\n     *\n     * Minimum value: 0.0\n     * Maximum value: `consumptionInkWhPerkmAltitudeGain`\n     *\n     * @attribute recuperationInkWhPerkmAltitudeLoss\n     * @param {Number} [options.recuperationInkWhPerkmAltitudeLoss] Electric energy in kWh\n     */\n    recuperationInkWhPerkmAltitudeLoss: {\n        validators: [\n            requiresDependantParameter(\n                'recuperationInkWhPerkmAltitudeLoss',\n                'consumptionInkWhPerkmAltitudeGain'\n            ),\n            consumptionRecuperationAltitudeParameter\n        ]\n    },\n\n    /**\n     * Specifies the electric energy in kWh consumed by the vehicle through gaining 1000 meters of elevation.\n     * * Note: It must be paired with `recuperationInkWhPerkmAltitudeLoss`.\n     * * Note: It cannot be used with `accelerationEfficiency`, `decelerationEfficiency`, `uphillEfficiency`\n     * or `downhillEfficiency`.\n     *\n     * Minimum value: `vehicleAdrTunnelRestrictionCode`\n     * Maximum value: 500.0\n     *\n     * @attribute consumptionInkWhPerkmAltitudeGain\n     * @param {Number} [options.consumptionInkWhPerkmAltitudeGain] Electric energy in kWh\n     */\n    consumptionInkWhPerkmAltitudeGain: {\n        validators: [\n            requiresDependantParameter(\n                'consumptionInkWhPerkmAltitudeGain',\n                'recuperationInkWhPerkmAltitudeLoss'\n            ),\n            consumptionRecuperationAltitudeParameter\n        ]\n    },\n\n    /**\n     * If specified, the vehicle is subject to ADR tunnel restrictions.\n     * * Vehicles with code B are restricted from roads with ADR tunnel categories B, C, D, and E.\n     * * Vehicles with code C are restricted from roads with ADR tunnel categories C, D, and E.\n     * * Vehicles with code D are restricted from roads with ADR tunnel categories D and E.\n     * * Vehicles with code E are restricted from roads with ADR tunnel category E.\n     * * If `vehicleAdrTunnelRestrictionCode` is not specified, no ADR tunnel restrictions apply.\n     *\n     * Notes:\n     * * If `travelMode` is pedestrian or bicycle, `vehicleAdrTunnelRestrictionCode` is not considered.\n     * * The `vehicleAdrTunnelRestrictionCode` and `vehicleLoadType` parameters are independent; please\n     * provide both if applicable.\n     *\n     * @attribute vehicleAdrTunnelRestrictionCode\n     * @param {String} [options.vehicleAdrTunnelRestrictionCode] An ADR restriction code\n     * @throws {TypeError} If the given argument is not a valid ADR restriction code.\n     */\n    vehicleAdrTunnelRestrictionCode: {\n        validators: [validateOneOfValue(['B', 'C', 'D', 'E'], 'vehicleAdrTunnelRestrictionCode')]\n    },\n\n    /**\n     * The travel mode for the requested route.\n     * The only possible value is `car`.\n     *\n     * @attribute travelMode\n     * @param {String} [options.travelMode] The primary means of transportation to be used while routing.\n     */\n    travelMode: {\n        validators: [validateOneOfValue(['car'], 'travel mode')]\n    }\n};\n\nexport function getLongDistanceEVRoutingParameters() {\n    const fields = getRoutingParameters(fieldsToSkip);\n    return extend(fields, extendedFields);\n}\n","/* eslint-disable max-len */\n/**\n * The Long Distance EV Routing service calculates a route between a given origin and\n * destination. The route contains charging stops that have been added automatically\n * based on the vehicle's consumption and charging model.\n *\n * * Each charging stop results in an additional leg in the route response.\n * * Each additional leg contains a `chargingInformationAtEndOfLeg` element in its leg summary.\n * * Both the route summary and the leg summary include a `remainingChargeAtArrivalInkWh` element.\n * * The route summary includes a `totalChargingTimeInSeconds` element.\n *\n * The `chargingInformationAtEndOfLeg` field consists of:\n *\n * * target battery charge\n * * charging time\n * * details about the charging stop\n *\n *  ### The types used in the Long Distance EV Routing service:\n *\n *  - **chargingMode** - An object that contains `chargingConnections` and a `chargingCurve` that describes the\n    charging behavior of the vehicle using the specified charging connections.\n *\n *  - **chargingConnections** - A non-empty array of at most 20 unique `chargingConnections` which\n *  result in the same charging curve.\n *\n *  - **chargingConnection** - Contains one `facilityType` and one `plugType` which are compatible\n *  with the vehicle.\n *\n *      ```js\n *      {\n *          \"facilityType\" : \"Charge_380_to_480V_3_Phase_at_32A\",\n *          \"plugType\" : \"IEC_62196_Type_2_Outlet\"\n *      }\n *      ```\n *\n *  - **facilityType** - A string matching a `facilityType` in the values table, which\n *  can be found in <a href=\"https://developer.tomtom.com/routing-api/routing-api-documentation/long-distance-ev-routing\">\n *  Distance EV Routing API documentation</a>.\n *\n *  - **plugType** - A string matching a `plugType` in the values table, which\n * can be found in <a href=\"https://developer.tomtom.com/routing-api/routing-api-documentation/long-distance-ev-routing\">\n * Distance EV Routing API documentation</a>.\n *\n *  - **chargingCurve** - A piecewise-linear function which maps a target charge level to\n *  the time it takes to charge an empty battery to this level, that is used to compute charging times of\n * the vehicle. It has to follow these rules:\n *      1. It is given by a sequence of at most 10 non-duplicate `chargingCurveSupportPoints` that are totally,\n *      increasingly ordered in `timeToChargeInSeconds` and `chargeInkWh`.\n *      2. The last `chargeInkWh` is `maxChargeInkWh`.\n *      3. The curve is given by connecting the given points in order after adding the first point:\n *\n *\n *  - **chargingCurveSupportPoint** - A supporting point of a charging curve consisting\n * of `chargeInkWh` and `timeToChargeInSeconds` such that the time it takes to charge the battery from\n * `0` kWh to `chargeInkWh` kWh is given by `timeToChargeInSeconds`.\n *\n *      ```js\n *      {\n *          \"chargeInkWh\" : 6,\n *          \"timeToChargeInSeconds\" : 300\n *      }\n *      ```\n *\n * - **timeToChargeInSeconds** - A time span in seconds. A non-negative integer.\n *\n * - **chargeInkWh** - A battery charge level in kWh. A float in the range (0, `maxChargeInkWh`>.\n *\n * ### Response\n * This service extends the API response by providing the following methods:\n * * `toGeoJson()`, converts route data into\n * a Feature Collection of <a target=\"_blank\" rel=”noopener” href=\"https://tools.ietf.org/html/rfc7946#section-3.1.4\">LineString</a>\n * or <a target=\"_blank\" rel=”noopener” href=\"https://tools.ietf.org/html/rfc7946#section-3.1.5\">MultiLineString</a> geometries.\n * * `getTrackingId()`, returns the `Tracking-ID` associated with the request.\n *\n * To read more about services responses take a look at {{#crossLinkModule \"Services\"}}Difference between\n * API responses and this library's responses{{/crossLinkModule}} section.\n *\n * @class longDistanceEVRouting\n * @namespace Services.services\n * @module Services\n * @uses KeyMixin\n * @uses CommonRoutingParameters\n * @uses LongDistanceEVRoutingParameters\n * @uses TrackingIdMixin\n * @uses AbortSignalMixin\n * @constructor\n * @param {Object|Array} [options] Options to be passed to the routing call,\n *     or an array of such options objects to perform a batch request.\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n *\n * @example\n * ```js\n * tt.services.longDistanceEVRouting({\n *   key: <Your API key>,\n *   locations: '4.878,52.367:4.879,52.367',\n *   vehicleEngineType: 'electric',\n *   avoid: 'unpavedRoads',\n *   constantSpeedConsumptionInkWhPerHundredkm: ['50.0,6.5', '100.0,8.5'],\n *   currentChargeInkWh: 10,\n *   maxChargeInkWh: 40,\n *   minChargeAtDestinationInkWh: 5.2,\n *   minChargeAtChargingStopsInkWh: 1.5,\n *   chargingModes: [\n *       {\n *           chargingConnections: [\n *               {\n *                   facilityType: 'Charge_380_to_480V_3_Phase_at_32A',\n *                   plugType: 'IEC_62196_Type_2_Outlet'\n *               }\n *           ],\n *           chargingCurve: [\n *               {\n *                   chargeInkWh: 6,\n *                   timeToChargeInSeconds: 300\n *               },\n *               {\n *                   chargeInkWh: 12,\n *                   timeToChargeInSeconds: 720\n *               }\n *           ]\n *       }\n *   ]\n * }).then(function(routeData) {\n *     console.log(routeData.toGeoJson());\n *   });\n * ```\n */\n/* eslint-enable max-len */\n/* jshint nomen:false */\nimport { SERVICE_TYPES } from 'Core/serviceTypes';\nimport {getLongDistanceEVRoutingParameters} from './longDistanceEVRoutingParameters';\nimport {calculateRouteModel} from '../../model/routing/calculateRoute';\nimport {modelResponse} from '../../model/modelResponse';\nimport { Endpoints } from '../../endpoints/endpointsManager';\nimport {\n    singleRequestServiceFactory,\n    serviceFactory\n} from '../../core';\n\nexport function longDistanceEVRouting(options, additionalOptions) {\n    const fields = getLongDistanceEVRoutingParameters();\n    const endpoints = new Endpoints(additionalOptions);\n    const singleRequest = singleRequestServiceFactory(endpoints.resolve('longDistanceEVRoutingEndpoint'));\n    const handleServiceCall = (data, abortSignal) => {\n        return singleRequest(fields, data, abortSignal)\n            .then(response => modelResponse(response, calculateRouteModel));\n    };\n    return serviceFactory(\n        fields,\n        SERVICE_TYPES.ROUTING,\n        'longDistanceEVRouting',\n        handleServiceCall\n    )(options, additionalOptions);\n}\n","export function matrixRoutingModel(data) {\n    if (data.error) {\n        return { error: data.error };\n    }\n    if (data.matrix) {\n        return data;\n    }\n    return null;\n}\n","/* eslint-disable max-len */\nimport {\n    arrayOf as validateArrayOf, objectOf as validateObjectOf, latitude as validateLatitude,\n    longitude as validateLongitude, waitTimeSeconds as validateWaitTimeSeconds\n} from '../validators';\nimport {\n    arrayOf as convertArrayOf, latitude as convertLatitude, longitude as convertLongitude,\n    objectOf as convertObjectOf\n} from '../converters';\n\nimport {getRoutingParameters} from './routingParameters';\nimport {clone} from '../utils';\nimport parameterApplications from '../../common/parameterApplications';\n\n/**\n * Specifies the efficiency of converting chemical energy stored in fuel to kinetic energy when the\n * vehicle accelerates (i.e., KineticEnergyGained/ChemicalEnergyConsumed).\n * ChemicalEnergyConsumed is obtained by converting consumed fuel to chemical energy using\n * fuelEnergyDensityInMJoulesPerLiter.\n * @attribute accelerationEfficiency\n * @param {Number} [options.accelerationEfficiency]\n*/\n\n/**\n * Specifies the amount of fuel consumed for sustaining auxiliary systems of the vehicle, in liters\n *  per hour. It can be used to specify consumption due to devices and systems such as AC systems, radio,\n * heating, etc.\n * @attribute auxiliaryPowerInLitersPerHour\n * @param {Number} [options.auxiliaryPowerInLitersPerHour]\n*/\n\n/**\n * Specifies the amount of power consumed for sustaining auxiliary systems in kilowatts (kW).\n * It can be used to specify consumption due to devices and systems such as AC systems, radio, heating, etc.\n * @attribute auxiliaryPowerInkW\n * @param {Number} [options.auxiliaryPowerInkW]\n*/\n\n/**\n * Specifies the speed-dependent component of consumption.\n * Provided as an unordered list of speed/consumption-rate pairs. The list defines points\n * on a consumption curve.\n * Consumption rates for speeds not in the list are found as follows:\n * *    By linear interpolation, if the given speed lies in between two speeds in the list.\n * *    By linear extrapolation otherwise, assuming a constant (ΔConsumption/ΔSpeed) determined by\n * the nearest two points in the list.\n *\n * The list must contain between 1 and 25 points (inclusive), and may not contain duplicate points\n * for the same speed. If it only contains a single point, then the consumption rate of that point\n * is used without further processing. Consumption specified for the largest speed must be greater\n * than or equal to that of the penultimate highest speed.\n * This ensures that extrapolation does not lead to negative consumption rates.\n * Similarly, consumption values specified for the two lowest speeds in the list cannot lead to a\n * negative consumption rate for any lower speed.\n * The minimum and maximum values described here refer to the valid range for the consumption values\n * (expressed in kWh/100km).\n * @attribute constantSpeedConsumptionInkWhPerHundredkm\n * @param {Array} [options.constantSpeedConsumptionInkWhPerHundredkm] Colon-delimited list of\n * ElectricConstantSpeedConsumptionPairs, e.g., an array of such pairs \"60,7\".\n*/\n\n/**\n * Specifies the speed-dependent component of consumption.\n * Provided as an unordered list of speed/consumption-rate pairs. The list defines points on a\n * consumption curve.\n * Consumption rates for speeds not in the list are found as follows:\n *   *  By linear interpolation, if the given speed lies in between two speeds in the list.\n *   *  By linear extrapolation otherwise, assuming a constant (ΔConsumption/ΔSpeed) determined by\n * the nearest two points in the list.\n *\n * The list must contain between 1 and 25 points (inclusive), and may not\n * contain duplicate points for the same speed. If it only contains a single point,\n * then the consumption rate of that point is used without further processing.\n * Consumption specified for the largest speed must be greater than or equal to that of the\n * penultimate highest speed. This ensures that extrapolation does not lead to negative consumption rates.\n * Similarly, consumption values specified for the two lowest speeds in the list cannot lead to a\n * negative consumption rate for any smaller speed.\n * The minimum and maximum values described here refer to the valid range for the consumption values\n * (expressed in l/100km).\n * @attribute constantSpeedConsumptionInLitersPerHundredkm\n * @param {Array} [options.constantSpeedConsumptionInLitersPerHundredkm] Colon-delimited list of\n * CombustionConstantSpeedConsumptionPairs, e.g., an array of such pairs \"60,7\".\n*/\n\n/**\n * Specifies the current electric energy supply in kilowatt hours (kWh).\n * @attribute currentChargeInkWh\n * @param {Number} [options.currentChargeInkWh]\n */\n\n/**\n * Specifies the current supply of fuel in liters.\n * @attribute currentFuelInLiters\n * @param {Number} [options.currentFuelInLiters]\n */\n\n/**\n * Specifies the efficiency of converting kinetic energy to saved (not consumed) fuel when the\n * vehicle decelerates (i.e., ChemicalEnergySaved/KineticEnergyLost).\n * ChemicalEnergySaved is obtained by converting saved (not consumed) fuel to energy using\n * fuelEnergyDensityInMJoulesPerLiter.\n * @attribute decelerationEfficiency\n * @param {Number} [options.decelerationEfficiency]\n */\n\n/**\n * Specifies the efficiency of converting potential energy to saved (not consumed) fuel when the\n * vehicle loses elevation (i.e., ChemicalEnergySaved/PotentialEnergyLost).\n * ChemicalEnergySaved is obtained by converting saved (not consumed) fuel to energy using\n * fuelEnergyDensityInMJoulesPerLiter.\n * @attribute downhillEfficiency\n * @param {Number} [options.downhillEfficiency]\n */\n\n/**\n * Specifies the amount of chemical energy stored in one liter of fuel in megajoules (MJ).\n * It is used in conjunction with the *Efficiency parameters for conversions between saved\n * or consumed energy and fuel.\n * For example, energy density is 34.2 MJ/l for gasoline, and 35.8 MJ/l for Diesel fuel.\n * @attribute fuelEnergyDensityInMJoulesPerLiter\n * @param {Number} [options.fuelEnergyDensityInMJoulesPerLiter]\n */\n\n/**\n * Specifies the maximum electric energy supply in kilowatt hours (kWh) that may be stored in\n * the vehicle's battery.\n * @attribute maxChargeInkWh\n * @param {Number} [options.maxChargeInkWh]\n */\n\n/**\n * Specifies the efficiency of converting chemical energy stored in fuel to potential energy\n * when the vehicle gains elevation (i.e., PotentialEnergyGained/ChemicalEnergyConsumed).\n * ChemicalEnergyConsumed is obtained by converting consumed fuel to chemical energy using\n * fuelEnergyDensityInMJoulesPerLiter.\n * @attribute uphillEfficiency\n * @param {Number} [options.uphillEfficiency]\n */\n\n/**\n * If specified, the vehicle is subject to ADR tunnel restrictions.\n * * Vehicles with code B are restricted from roads with ADR tunnel categories B, C, D, and E.\n * * Vehicles with code C are restricted from roads with ADR tunnel categories C, D, and E.\n * * Vehicles with code D are restricted from roads with ADR tunnel categories D and E.\n * * Vehicles with code E are restricted from roads with ADR tunnel category E.\n * * If `vehicleAdrTunnelRestrictionCode` is not specified, no ADR tunnel restrictions apply.\n *\n * Notes:\n * * If `travelMode` is pedestrian or bicycle, `vehicleAdrTunnelRestrictionCode` is not considered.\n * * The `vehicleAdrTunnelRestrictionCode` and `vehicleLoadType` parameters are independent; please\n * provide both if applicable.\n *\n * @attribute vehicleAdrTunnelRestrictionCode\n * @param {String} [options.vehicleAdrTunnelRestrictionCode] An ADR restriction code\n * @throws {TypeError} If the given argument is not a valid ADR restriction code.\n */\n\n/**\n * A setter and getter for the `routeType` attribute.\n *\n * Represents the type of route requested.\n *\n * Notes on specific values:\n *  - `fastest` returns the fastest route.\n *  - `shortest` returns the shortest route by distance.\n *  - `eco` routes balance economy and speed.\n *  - thrilling routes include interesting or challenging roads and use as few motorways as possible. You can\n * choose the level of turns included and also the degree of hilliness. See the hilliness and windingness\n * parameters to set this. There is a limit of 900km on routes planned with routeType=thrilling\n * The default value is fastest.\n *\n * @attribute routeType\n * @param {String} [options.routeType] The route type to be used during route calculation.\n * @throws {TypeError} If the given argument cannot be converted to a valid value.\n */\n\n/**\n * A setter and getter for the 'traffic' attribute.\n * Possible values:\n * true (do consider all available traffic information during routing).\n * false (ignore current traffic data during routing). Note that although the current traffic data is\n * ignored during routing, the effect of historic traffic on effective road speeds is still incorporated.\n * The default is true.\n *\n * @attribute traffic\n * @param {String|Boolean} [options.traffic] A boolean flag to determine if traffic data should be used to calculate the\n *     route.\n * @throws {TypeError} If the given argument cannot be converted to a valid value.\n */\n\n/**\n * A setter and getter for the `avoid` attribute.\n *\n * Specifies something that the route calculation should try to avoid when determining the route.\n * Can be specified multiple times. Possible values:\n *  - `tollRoads` avoids toll roads.\n *  - `motorways` avoids motorways.\n *  - `ferries` avoids ferries.\n *  - `unpavedRoads` avoids unpaved roads.\n *  - `carpools` avoids routes that require use of carpool (HOV/ High Occupancy Vehicle) lanes.\n *  - `alreadyUsedRoads` avoids using the same road multiple times.\n *\n * Most useful in conjunction with `routeType=thrilling`.\n *\n * @attribute avoid\n * @param {Array|String} [options.avoid] Specifies something that the route calculation should try to avoid when\n *     determining the route.\n * @throws {TypeError} If the given argument cannot be converted to a valid value.\n */\n\n/**\n * A setter and getter for the 'departAt' attribute.\n * The date and time of departure from the origin point.\n * Departure times apart from now must be specified as a dateTime.\n * When a time zone offset is not specified, it will be assumed to be that of the origin point.\n * The departAt value must be in the future. The departAt parameter cannot be used in conjunction with\n * arriveAt.\n *\n * @attribute departAt\n * @param {String} [options.departAt] The properly formatted date with the time or 'now' value. Date cannot be in the\n *     past and has to follow ISO 8601 standard.\n * @throws {TypeError} If the given argument cannot be converted to a valid value.\n */\n\n/**\n * A setter and getter for the 'arriveAt' attribute.\n * The date and time of arrival at the destination point.\n * It must be specified as a dateTime.\n * When a time zone offset is not specified it will be assumed to be that of the destination point.\n * The arriveAt value must be in the future. The arriveAt parameter cannot be used in conjunction with\n * departAt.\n *\n * @attribute arriveAt\n * @param {String} [options.arriveAt] The properly formatted date with a time value. Date cannot be in the past\n * and has to follow ISO 8601 standard.\n * @throws {TypeError} If the given argument cannot be converted to a valid value.\n */\n\n/**\n * A setter and getter for the 'travelMode' attribute.\n * The mode of travel for the requested route. Possible values: _car, truck, taxi, bus, van, motorcycle,\n * bicycle, pedestrian_. Note that the requested travelMode may not be available for the entire route. Where\n * the requested travelMode is not available for a particular section, the <travelMode> element of the\n * response for that section will be 'other'.\n *\n * @attribute travelMode\n * @param {String} [options.travelMode] The primary means of transportation to be used while routing.\n * @throws {TypeError} If the given argument cannot be converted to a valid value.\n */\n\n/**\n * A setter and getter for the 'hilliness' attribute.\n * The degree of hilliness for thrilling route. Possible values: low, normal, high.\n * This parameter can only be used in conjunction with routeType thrilling.\n *\n * @attribute hilliness\n * @param {String} [options.hilliness] The level of hilliness on a thrilling route.\n * @throws {TypeError} If the given argument cannot be converted to a valid value.\n */\n\n/**\n * A setter and getter for the 'windingness' attribute.\n * The level of turns for thrilling route. Possible values: low, normal, high.\n * This parameter can only be used in conjunction with routeType thrilling.\n *\n * @attribute windingness\n * @param {String} [options.windingness] The level of windingness on a thrilling route.\n * @throws {TypeError} If the given argument cannot be converted to a valid value.\n */\n\n/**\n * A setter and getter for the 'computeTravelTimeFor' attribute.\n * Specifies whether to return additional travel times using different types of traffic information (none,\n * historic, live) as well as the default best-estimate travel time. Possible values:\n * * none - do not compute additional travel times.\n * * all - compute travel times for all types of traffic information. Specifies all results in the fields\n * noTrafficTravelTimeInSeconds, historicTrafficTravelTimeInSeconds and\n * liveTrafficIncidentsTravelTimeInSeconds being included in the summaries in the route response.\n *\n * @attribute computeTravelTimeFor\n * @param {String} [options.computeTravelTimeFor] Setting `'all'` provides additional information regarding travel\n *     times.\n * @throws {TypeError} If the given argument cannot be converted to a valid value.\n */\n\n/**\n * A setter and getter for 'vehicleEngineType' attribute.\n * Engine type of the vehicle. This parameter is currently only considered for travelMode truck. Valid\n * options are: _combustion, electric_.\n *\n * @attribute vehicleEngineType\n * @param {String} [options.vehicleEngineType] The vehicle engine type.\n * @throws {TypeError} If the given argument cannot be converted to a valid value.\n */\n\n/**\n * A setter and getter for the 'vehicleMaxSpeed' attribute.\n * Maximum speed of the vehicle in km/hour. A value of 0 means that an appropriate value for the vehicle\n * will be determined and applied during route planning. A non-zero value may be overridden during route\n * planning. This parameter is currently only considered for travelMode truck.\n *\n * @attribute vehicleMaxSpeed\n * @param {Number} [options.vehicleMaxSpeed] The maximal allowed vehicle speed in km/h (kilometers per hour).\n * @throws {TypeError} If the given argument cannot be converted to a valid value.\n */\n\n/**\n * A setter and getter for 'vehicleWeight' attribute.\n * Weight of the vehicle in kg. A value of 0 means that weight restrictions are not considered during route\n * planning. This parameter is currently only considered for travelMode truck.\n *\n * @attribute vehicleWeight\n * @param {Number} [options.vehicleWeight] The vehicle weight in kg (kilograms).\n * @throws {TypeError} If the given argument cannot be converted to a valid value.\n */\n\n/**\n * A setter and getter for 'vehicleAxleWeight' attribute.\n * Weight per axle of the vehicle in kg. A value of 0 means that weight restrictions per axle are not\n * considered during route planning. This parameter is currently only considered for travelMode truck.\n *\n * @attribute vehicleAxleWeight\n * @param {Number} [options.vehicleAxleWeight] The vehicle axle wight in kg.\n * @throws {TypeError} If the given argument cannot be converted to a valid value.\n */\n\n/**\n * A setter and getter for the 'vehicleLength' attribute.\n * Length of the vehicle in meters. A value of 0 means that length restrictions are not considered during\n * route planning. This parameter is currently only considered for travelMode truck.\n *\n * @attribute vehicleLength\n * @param {Number} [options.vehicleLength] The vehicle length in meters.\n * @throws {TypeError} If the given argument cannot be converted to a valid value.\n */\n\n/**\n * A setter and getter for the 'vehicleWidth' attribute.\n * Width of the vehicle in meters. A value of 0 means that width restrictions are not considered during\n * route planning. This parameter is currently only considered for travelMode truck.\n *\n * @attribute vehicleWidth\n * @param {Number} [options.vehicleWidth] The vehicle width in meters.\n * @throws {TypeError} If the given argument cannot be converted to a valid value.\n */\n\n/**\n * A setter and getter for the 'vehicleHeight' attribute.\n * Height of the vehicle in meters. A value of 0 means that height restrictions are not considered\n * during route planning. This parameter is currently only considered for travelMode truck.\n *\n * @attribute vehicleHeight\n * @param {Number} [options.vehicleHeight] The vehicle height in meters.\n * @throws {TypeError} If the given argument cannot be converted to a valid value.\n */\n\n/**\n * A setter and getter for the 'vehicleCommercial' attribute.\n * Vehicle is used for commercial purposes and thus may not be allowed to drive on some roads. This\n * parameter is currently only considered for travelMode truck.\n *\n * @attribute vehicleCommercial\n * @param {Boolean} [options.vehicleCommercial] True if the vehicle is used for commercial purposes.\n * @throws {TypeError} If the given argument cannot be converted to a valid value.\n */\n\n/**\n * A setter and getter for the 'vehicleLoadType' attribute.\n * Types of cargo that may be classified as hazardous materials and restricted from some roads. Available\n * vehicleLoadType values are US Hazmat classes 1 through 9, plus generic classifications for use in other\n * countries.\n *\n * __Use these for routing in US__\n * * USHazmatClass1 Explosives\n * * USHazmatClass2 Compressed gas\n * * USHazmatClass3 Flammable liquids\n * * USHazmatClass4 Flammable solids\n * * USHazmatClass5 Oxidizers\n * * USHazmatClass6 Poisons\n * * USHazmatClass7 Radioactive\n * * USHazmatclass8 Corrosives\n * * USHazmatClass9 Miscellaneous\n *\n * __Use these for routing in all other countries__\n * * otherHazmatExplosive Explosives\n * * otherHazmatGeneral Miscellaneous\n * * otherHazmatHarmfulToWater Harmful to water\n *\n * This parameter is currently only considered for travelMode truck.\n *\n * @attribute vehicleLoadType\n * @param {Array|String} [options.vehicleLoadType] The array of truck cargo classifications.\n * @throws {TypeError} If the given argument cannot be converted to a valid value.\n */\n\nconst fieldsToSkip = ['locations', 'maxAlternatives', 'instructionsType',\n    'language', 'computeBestOrder', 'routeRepresentation', 'vehicleHeading', 'report',\n    'callback', 'minDeviationTime', 'minDeviationDistance', 'alternativeType',\n    'sectionType', 'supportingPoints', 'allowVignette', 'avoidAreas', 'batchMode',\n    'consumptionInkWhPerkmAltitudeGain', 'recuperationInkWhPerkmAltitudeLoss'\n];\n\nconst latLonFieldDescription = {\n    validators: [validateArrayOf({\n        point: {\n            validators: [validateObjectOf({\n                latitude: {\n                    validators: [validateLatitude],\n                    required: true\n                },\n                longitude: {\n                    validators: [validateLongitude],\n                    required: true\n                }\n            })]\n        }\n    })],\n    converters: [convertArrayOf({\n        point: {\n            converters: [convertObjectOf({\n                latitude: {\n                    converters: [convertLatitude],\n                    required: true\n                },\n                longitude: {\n                    converters: [convertLongitude],\n                    required: true\n                }\n            })]\n        }\n    })],\n    required: true,\n    application: parameterApplications.POST\n};\n\nexport function matrixParameters(fieldsToSkipProps) {\n    const fields = getRoutingParameters(fieldsToSkip);\n    /**\n     * A setter and getter for the 'origins' attribute.\n     * A set of origin locations represented by points (latitude/longitude object). At least one origin is required.\n     *\n     * @attribute origins\n     * @param {Array} [options.origins] A set of origin locations represented by points (latitude/longitude object).\n     * @throws {TypeError} If the given argument cannot be converted to a valid value.\n     */\n    fields.origins = latLonFieldDescription;\n\n    /**\n     * A setter and getter for the 'destinations' attribute.\n     * A set of destination locations represented by points (latitude/longitude object).\n     * At least one destination is required.\n     *\n     * @attribute destinations\n     * @param {Array} [options.destinations] A set of destination locations represented by points\n     * (latitude/longitude object).\n     * @throws {TypeError} If the given argument cannot be converted to a valid value.\n     */\n    fields.destinations = latLonFieldDescription;\n\n    /**\n     * This option lets you manually set how a matrix request should be performed. Otherwise we decide for you if you should\n     * use sync, async, or redirect mode. For a further explanation please refer to the Matrix Routing docs\n     * [here](MATRIX_ROUTING_URL).\n     *\n     * @attribute batchMode\n     * @param {String} [options.batchMode] Possible values: sync, async, redirect\n     */\n    fields.batchMode = {\n        application: parameterApplications.OTHER\n    };\n\n    /**\n     * Maximum waiting time for batch download response.\n     * This option only works with 'async' and 'redirect' batch modes. Accepts 120 or an integer between 5 and 60.\n     *\n     * @attribute waitTimeSeconds\n     * @param {Number} [options.waitTimeSeconds] Accepts 120 or an integer between 5 and 60.\n     */\n    fields.waitTimeSeconds = {\n        application: parameterApplications.QUERY,\n        validators: [validateWaitTimeSeconds]\n    };\n    const result = clone(fields);\n    if (fieldsToSkipProps instanceof Array) {\n        fieldsToSkipProps.forEach(function(field) {\n            delete result[field];\n        });\n    }\n\n    return result;\n}\n","/**\n * @deprecated\n *\n * The matrixRouting service has been deprecated.\n * <ul>\n * <li>This service will be withdrawn following a 12 months deprecation period.</li>\n * <li>The planned withdrawal period is October 1, 2023.</li>\n * <li>Following withdrawal, requests to this service may receive an HTTP 404 error in response.</li>\n * </ul>\n *\n * @description\n *\n * ### **New version [matrixRouting V2](MATRIX_ROUTING2_URL)**\n * **To use the recommended version of Matrix Routing API, please refer to its documentation\n * [here](MATRIX_ROUTING2_URL).**\n *\n * Matrix Routing service implementation using using the TomTom\n * [Routing API - Matrix Routing](MATRIX_ROUTING_URL).\n *\n * The Routing API Matrix Routing service allows the calculation of a matrix of route summaries for a set of routes\n * which are defined with origin and destination locations.\n *\n * For every given origin this service calculates\n * the cost of routing from that origin to every given destination. The set of origins and the set of destinations\n * can be thought of as the column and row headers of a table, and each cell in the table contains the costs of routing\n * from the origin to the destination for that cell.\n *\n * The following costs are computed for each route:\n * - Travel times\n * - Distances\n *\n * Parameters need to be passed to the constructor.\n *\n * If you want to explicitly decide which batch mode you want to use, add a property 'batchMode' with its value\n * set to one of the properties: sync, async, or redirect.\n *\n * The response is also extended with `getTrackingId()` method, which returns the `Tracking-ID`\n * associated with the request.\n *\n * For more information, please refer to the Matrix Routing documentation\n * [here](MATRIX_ROUTING_URL).\n *\n *\n * @class matrixRouting\n * @namespace Services.services\n * @module Services\n * @uses KeyMixin\n * @uses TrackingIdMixin\n * @uses CommonRoutingParameters\n * @uses AbortSignalMixin\n *\n * @constructor\n * @param {Object|Array} [options] Options to be passed to the routing call,\n *     or an array of such options objects to perform a batch request.\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n *\n * @example\n * ```js\n * var origins = [\n *   { point: { latitude: 51.63685, longitude: 19.4171 } },\n *   { point: { latitude: 51.63685, longitude: 19 } }\n * ];\n * var destinations = [\n *   { point: { latitude: 52.23498, longitude: 21.00849 } },\n *   { point: { latitude: 52.63685, longitude: 18 } }\n * ];\n * function callbackFn(routeGeoJson) {\n *   console.log(routeGeoJson);\n * }\n * tt.services.matrixRouting({\n *   key: <Your API key>,\n *   origins: origins,\n *   destinations: destinations,\n *   traffic: true\n * }).then(callbackFn);\n * ```\n */\n/* jshint nomen:false */\nimport {SERVICE_TYPES} from 'Core/serviceTypes';\nimport {matrixRoutingModel} from 'model/routing/matrixRouting';\nimport {matrixParameters} from './matrixParameters';\nimport {modelResponse} from '../../model/modelResponse';\nimport { Endpoints } from '../../endpoints/endpointsManager';\nimport {\n    matrixFactory,\n    serviceFactory\n} from '../../core';\n\nexport function matrixRouting(options, additionalOptions) {\n    const fields = matrixParameters();\n    const maxNoOfElementsInBatchRequest = 100;\n    const endpoints = new Endpoints(additionalOptions);\n    const matrixRequest = matrixFactory(maxNoOfElementsInBatchRequest, {\n        sync: endpoints.resolve('matrixSyncRoutingEndpoint'),\n        async: endpoints.resolve('matrixRoutingEndpoint')\n    });\n    const handleServiceCall = (data, abortSignal) => {\n        return matrixRequest(fields, data, abortSignal).then(response => modelResponse(response, matrixRoutingModel));\n    };\n\n    return serviceFactory(\n        fields,\n        SERVICE_TYPES.ROUTING,\n        'matrixRouting',\n        handleServiceCall\n    )(options, additionalOptions);\n}\n","/**\n * Provides the current traffic model ID which is the traffic model number for the viewport needed for the Traffic API -\n * Incidents Layer, and the {{#crossLink \"IncidentDetails\"}}Traffic API - Incident Details{{/crossLink}}\n * calls.\n *\n * It is updated every minute, and is valid for two minutes before it times out.\n *\n * Parameters need to be passed to the constructor.\n *\n * ### Response\n * The response is extended with `getTrackingId()` method, which returns the `Tracking-ID`\n * associated with the request.\n *\n * Please refer to {{#crossLinkModule \"Services\"}}Difference between\n * API responses and this library's responses{{/crossLinkModule}} section.\n *\n * @class incidentViewport\n * @namespace Services.services\n * @module Services\n * @uses KeyMixin\n * @uses ProtocolMixin\n * @uses TrackingIdMixin\n * @uses AbortSignalMixin\n * @constructor\n * @param {Object} [options]\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n * @example\n * ```js\n * function callbackFn(response) {\n *   console.log(response);\n * }\n * tt.services.incidentViewport({\n *   key: <Your API key>\n * }).then(callbackFn);\n * ```\n */\nimport {SERVICE_TYPES} from 'Core/serviceTypes';\nimport parameterApplications from 'common/parameterApplications';\nimport { v4 as uuid } from 'uuid';\nimport { modelResponse } from '../model/modelResponse';\nimport { Endpoints } from '../endpoints/endpointsManager';\nimport {singleRequestServiceFactory, serviceFactory } from '../core';\nimport {\n    key as validateKey, trackingId as validateTrackingId, oneOfValue as validateOneOfValue,\n    string as validateString\n} from './validators';\n\nconst fields = {\n    key: {\n        validators: [validateKey]\n    },\n    trackingId: {\n        validators: [validateTrackingId],\n        application: parameterApplications.HEADER,\n        defaultValue: uuid\n    },\n    protocol: {\n        validators: [validateOneOfValue(['http', 'https'], 'protocol')]\n    },\n    sessionId: {\n        validators: [validateString]\n    }\n};\n\nexport function incidentViewport(options, additionalOptions) {\n    const endpoints = new Endpoints(additionalOptions);\n    const singleRequest = singleRequestServiceFactory(endpoints.resolve('incidentViewportEndpoint'));\n\n    function handleServiceCall(data, abortSignal) {\n        return singleRequest(fields, data, abortSignal).then(modelResponse);\n    }\n\n    return serviceFactory(\n        fields,\n        SERVICE_TYPES.TRAFFIC_INCIDENTS,\n        'incidentViewport',\n        handleServiceCall\n    )(options, additionalOptions);\n}\n","export function flowSegmentDataModel(data) {\n    const coordinates = data.flowSegmentData.coordinates.coordinate.map(coordinate => {\n        return {\n            lat: coordinate.latitude,\n            lng: coordinate.longitude\n        };\n    });\n\n    return Object.assign(data, { flowSegmentData: {...data.flowSegmentData, coordinates: {coordinate: coordinates} }});\n}\n","/**\n * The Flow Segment Data service provides information about the speeds and travel times of the road\n * fragment closest to the given coordinates.\n *\n * ### Response\n * The response is extended with `getTrackingId()` method, which returns the `Tracking-ID`\n * associated with the request.\n *\n * Please refer to {{#crossLinkModule \"Services\"}}Difference between\n * API responses and this library's responses{{/crossLinkModule}} section.\n *\n * @class trafficFlowSegmentData\n * @namespace Services.services\n * @module Services\n * @uses KeyMixin\n * @uses TrackingIdMixin\n * @uses AbortSignalMixin\n * @param {Object} options Options to be passed to the flowSegmentData call.\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n * @constructor\n */\n\nimport {SERVICE_TYPES} from 'Core/serviceTypes';\nimport {\n    numberInInterval as validateNumberInInterval, zoomLevel as validateZoomLevel, trackingId as validateTrackingId,\n    oneOfValue as validateOneOfValue, string as validateString, point as validatePoint, bool as validateBool\n} from './validators';\nimport {point as convertPoint} from './converters';\nimport {flowSegmentDataModel} from '../model/traffic/flowSegmentData';\nimport parameterApplications from '../common/parameterApplications';\nimport { modelResponse } from '../model/modelResponse';\nimport { v4 as uuid } from 'uuid';\nimport { Endpoints } from '../endpoints/endpointsManager';\nimport { singleRequestServiceFactory, serviceFactory } from '../core';\n\nconst fields = {\n    key: {\n        validators: [validateString]\n    },\n    trackingId: {\n        validators: [validateTrackingId],\n        application: parameterApplications.HEADER,\n        defaultValue: uuid\n    },\n\n    /**\n     * @attribute zoom\n     * @param {Number} options.zoom Zoom level. This will affect traffic incident coordinates\n     * to separately present both road sides. Should be in the range from 0 to 18.\n     */\n    zoom: {\n        validators: [validateZoomLevel],\n        required: true,\n        application: parameterApplications.PATH\n    },\n\n    /**\n     * @attribute style\n     * @param {String} options.style The type of flow data to be displayed on the tile. Available options: absolute,\n     * relative, and relative-delay.\n     */\n    style: {\n        validators: [validateOneOfValue([\n            'absolute',\n            'relative',\n            'relative-delay',\n            'relative0',\n            'relative0-dark',\n            'reduced-sensitivity'\n        ], 'traffic flow style')],\n        required: true,\n        application: parameterApplications.PATH\n    },\n\n    /**\n     * @attribute point\n     * @param {String} options.point Coordinates of the point close to the road segment.\n     * They have to be comma-separated and calculated using the EPSG4326 projection.\n     */\n    point: {\n        converters: [convertPoint],\n        validators: [validatePoint],\n        required: true\n    },\n\n    /**\n     * @attribute unit\n     * @param {String} [options.unit] Unit of speed. Avilable values: KMPH and MPH.\n     */\n    unit: {\n        validators: [validateOneOfValue(['KMPH', 'MPH'])]\n    },\n\n    /**\n     * @attribute thickness\n     * @param {Number} [options.thickness] The segment width multiplier. Value should be in the range from 1 to 20.\n     */\n    thickness: {\n        validators: [validateNumberInInterval(1, 20)]\n    },\n\n    /**\n     * @attribute openLr\n     * @param {Boolean} [options.openLr] Specifies if the Response includes OpenLR code.\n     */\n    openLr: {\n        validators: [validateBool]\n    }\n};\n\nexport function trafficFlowSegmentData(options, additionalOptions) {\n    const endpoints = new Endpoints(additionalOptions);\n    const singleRequest = singleRequestServiceFactory(endpoints.resolve('flowSegmentDataEndpoint'));\n\n    const handleServiceCall = (data, abortSignal) => {\n        return singleRequest(fields, data, abortSignal).then(response => modelResponse(response, flowSegmentDataModel));\n    };\n    return serviceFactory(\n        fields,\n        SERVICE_TYPES.TRAFFIC_FLOW,\n        'trafficFlowSegmentData',\n        handleServiceCall\n    )(options, additionalOptions);\n}\n","/* eslint-disable max-len */\n/**\n * Provides detailed information about traffic incidents in the requested area\n * using the TomTom [Traffic API - Traffic Incidents Details](TRAFFIC_INCIDENT_DETAILS_URL).\n * This is a new version of the {{#crossLink \"Services.services.incidentDetails\"}}incidentDetails{{/crossLink}}\n * method with simpler options and a more readable response object.\n *\n * The current road situation is updated every minute.\n *\n * ### Response\n *\n * The fields that appear in the response depend on the value of the `fields` request parameter.\n *\n * The response is extended with `getTrackingId()` method, which returns the `Tracking-ID`\n * associated with the request.\n *\n * @class incidentDetailsV5\n * @namespace Services.services\n * @module Services\n * @uses KeyMixin\n * @uses TrackingIdMixin\n * @uses ProtocolMixin\n * @uses AbortSignalMixin\n * @constructor\n * @param {Object} options Options object.\n * @param {Object} [additionalOptions] Additional options to be passed to the service.\n *\n * @example\n * ```javascript\n * tt.services.incidentDetailsV5({\n *   key: '<Your API key>',\n *   boundingBox: '4.8854592519716675,52.36934334773164,4.897883244144765,52.37496348620152'\n * }).then(function(response) {\n *   console.log(response);\n * });\n * ```\n */\n\nimport {\n    validateBoundingBox,\n    string as validateString,\n    validIncidentDetailsV5Fields,\n    languageCode as validateLanguageCode,\n    key as validateKey,\n    trackingId as validateTrackingId\n} from './validators';\nimport {\n    removeWhitespaces,\n    convertBoundingBox,\n    incidentDetailsV5Language as convertIncidentDetailsV5Language\n} from './converters';\nimport { singleRequestServiceFactory, serviceFactory } from '../core';\nimport { v4 as uuid } from 'uuid';\nimport parameterApplications from '../common/parameterApplications';\nimport { SERVICE_TYPES } from 'Core/serviceTypes';\nimport { Endpoints } from '../endpoints/endpointsManager';\nimport { modelResponse } from '../model/modelResponse';\n\nconst fields = {\n    key: {\n        validators: [validateKey]\n    },\n    trackingId: {\n        validators: [validateTrackingId],\n        application: parameterApplications.HEADER,\n        defaultValue: uuid\n    },\n\n    /**\n     * The bounding box is a limited area within the search results.\n     * Maximum area of bounding box is 10000km2.</br>\n     *\n     * This option is able to convert a number of popular formats into the bounding box.\n     * The supported formats are listed below:\n     *  -  {{#crossLink \"Maps.LngLatBounds\"}}{{/crossLink}} class instance\n     *  - `{minLon: 0, minLat: 0, maxLon: 1, maxLat: 1}` A plain object with the keys minLon, minLat, maxLon, maxLat.\n     *  - `[0, 0, 1, 1]` An array of numbers describing the bounding box following the order: minLon, minLat,\n     *     maxLon, maxLat.\n     *  - `[[0, 0], [1, 1]]` A two-dimensional array with two indexes [southWest, northEast], each one with\n     *     longitude and latitude values.\n     *  - `\"0,0,1,1\"` A comma-separated string with numbers in the order: minLon, minLat, maxLon, maxLat.\n     *  - `[{lon: 0, lat: 0},{lon: 1, lat: 1}]` A one-dimensional array with two objects in the order: southWest,\n     *     northEast, and each object with a `lat` and `lon` key.\n     *  - `[{lng: 0, lat: 0},{lng: 1, lat: 1}]` A one-dimensional array with two objects in the order: southWest,\n     *     northEast and each object with a `lat` and `lon` key.\n     *  - `[{{#crossLink \"Maps.LngLat\"}}{{/crossLink}}, {{#crossLink \"Maps.LngLat\"}}{{/crossLink}}]`\n     *      A one-dimensional array with two {{#crossLink \"Maps.LngLat\"}}{{/crossLink}}\n     *      instances in the order: southWest and northEast.\n     * @attribute boundingBox\n     * @param {Maps.LngLatBounds|Number[]|Object[]|String} options.boundingBox Bounding box area in one of the supported formats.\n     */\n    boundingBox: {\n        required: true,\n        validators: [validateBoundingBox],\n        converters: [convertBoundingBox],\n        cast: (boundingBox, requestOptions) => {\n            requestOptions.bbox = `${boundingBox.minLon},${boundingBox.minLat},${boundingBox.maxLon},${boundingBox.maxLat}`;\n        }\n    },\n\n    /**\n     * The fields to be included in the response, nested as in the response schema.\n     * In order to obtain all data, it is necessary to place the whole object in the query.\n     *\n     * ```javascript\n     * `{\n     *   incidents {\n     *     type,\n     *     geometry {\n     *       type,\n     *       coordinates\n     *     },\n     *     properties {\n     *       id,\n     *       iconCategory,\n     *       magnitudeOfDelay,\n     *       events {\n     *         description,\n     *         code,\n     *         iconCategory\n     *       },\n     *       startTime,\n     *       endTime,\n     *       from,\n     *       to,\n     *       length,\n     *       delay,\n     *       roadNumbers,\n     *       aci {\n     *         probabilityOfOccurrence\n     *         numberOfReports\n     *         lastReportTime\n     *       }\n     *     }\n     *   }\n     * }`\n     * ```\n     * @attribute fields\n     * @param {String} [options.fields='{ incidents { type, geometry { type, coordinates }, properties { iconCategory } } }']\n     */\n    fields: {\n        validators: [validateString, validIncidentDetailsV5Fields],\n        converters: [removeWhitespaces]\n    },\n\n    /**\n     * The Traffic Model ID is the reference value for the state of traffic at a particular time.\n     * It is updated every minute, and is valid for two minutes before it times out.\n     * If not provided the current traffic model ID is used.\n     *\n     * @attribute t\n     * @param {String} [options.t] A valid, not older than two minutes, traffic model ID.\n     */\n    t: {\n        validators: [validateString]\n    },\n\n    /**\n     * The ISO 639-1 code for the output language.\n     *\n     * * Affects the `description` field in the response.\n     * * When an invalid language code is provided the response is returned in English.\n     * * When an incident description does not have a translation, an English description is returned.\n     * @attribute language\n     * @param {String} [options.language='en-GB'] Language code that decides in which language the results\n     * should be returned.\n     */\n    language: {\n        validators: [validateLanguageCode],\n        converters: [convertIncidentDetailsV5Language]\n    }\n};\n\nexport function incidentDetailsV5(options, additionalOptions) {\n    const endpoints = new Endpoints(additionalOptions);\n    const singleRequest = singleRequestServiceFactory(endpoints.resolve('incidentDetailsV5Endpoint'));\n    function handleServiceCall(requestOptions, abortSignal) {\n        return singleRequest(fields, requestOptions, abortSignal).then(modelResponse);\n    }\n\n    return serviceFactory(\n        fields,\n        SERVICE_TYPES.TRAFFIC_INCIDENTS,\n        'incidentDetailsV5',\n        handleServiceCall\n    )(options, additionalOptions);\n}\n","/**\n * This Class makes it easy to generate a URL string to request a static map image using the TomTom\n * [Maps API - Static Image](MAPS_RASTER_STATIC_IMAGE_URL).\n *\n * Parameters need to be passed to the method, which generates the URL string.\n *\n * @example\n * ```js\n * // Passing an object with all the configuration\n * function callbackFn(urlString) {\n *   console.log(urlString);\n * }\n * tt.services.staticImage({\n*   key: <Your API key>,\n*   zoom: 15,\n *   bbox: [\n *     [40.712, -74.227],\n *     [40.774, -74.125]\n *   ]\n * }).then(callbackFn);\n * ```\n *\n * @class staticImage\n * @namespace Services.services\n * @uses KeyMixin\n * @uses ViewMixin\n * @module Services\n * @constructor\n * @param {Object} [options] Options to be passed to the routing call,\n *     or an array of such options objects to perform a batch request.\n */\nimport { isValidNumber } from 'services/utils';\nimport { Endpoints } from '../../endpoints/endpointsManager';\nimport {SERVICE_TYPES} from 'Core/serviceTypes';\nimport {\n    key as validateKey, validateBoundingBox, oneOfValue as validateOneOfValue,\n    point as validatePoint, integerInInterval as validateIntegerInInterval, mapsLanguage as validateMapsLanguage\n} from 'services/validators';\nimport {integer as convertInteger, point as convertPoint, convertBoundingBox} from 'services/converters';\nimport { serviceFactory } from '../../core';\n\n/**\n * @ignore\n * Static Map API endpoint.\n */\nconst MAX_WIDTH = 8192;\nconst MAX_HEIGHT = 8192;\nconst SUPPORTED_IMAGE_FORMATS_PER_LAYER = {\n    'basic': ['jpg', 'jpeg', 'png'],\n    'hybrid': ['png'],\n    'labels': ['png']\n};\n\nconst fields = {\n    /**\n     * @attribute layer\n     * @param {\"basic\"|\"hybrid\"|\"labels\"} [options.layer=\"basic\"] The base map's layer to be used.\n     */\n    layer: {\n        validators: [validateOneOfValue(['basic', 'hybrid', 'labels'], 'layers')],\n        defaultValue: 'basic'\n    },\n\n    /**\n     * @attribute style\n     * @param {\"main\"|\"night\"} [options.style=\"main\"] The base map style to be used.\n     */\n    style: {\n        validators: [validateOneOfValue(['main', 'night'], 'styles')],\n        defaultValue: 'main'\n    },\n\n    /**\n     * @attribute format\n     * @param {\"png\"|\"jpg\"|\"jpeg\"} [options.format=\"png\"] The format of the image to be requested.\n     */\n    format: {\n        validators: [validateOneOfValue(['png', 'jpg', 'jpeg'], 'formats')],\n        defaultValue: 'png'\n    },\n\n    key: {\n        validators: [validateKey]\n    },\n\n    /**\n     * @attribute zoom\n     * @param {Number} [options.zoom=12] Positive integer between 0 and 22.\n     */\n    zoom: {\n        validators: [validateIntegerInInterval(0, 23)],\n        converters: [convertInteger]\n    },\n\n    /**\n     * @attribute center\n     * @param {Maps.LngLat} [options.center] Coordinates to the center of the view.\n     */\n    center: {\n        converters: [convertPoint],\n        validators: [validatePoint]\n    },\n\n    /**\n     * @attribute width\n     * @param {Number} [options.width] Width of the image in pixels.\n     */\n    width: {\n        validators: [validateIntegerInInterval(1, MAX_WIDTH)]\n    },\n\n    /**\n     * @attribute height\n     * @param {Number} [options.height] Height of the image in pixels.\n     */\n    height: {\n        validators: [validateIntegerInInterval(1, MAX_HEIGHT)]\n    },\n\n    /**\n     * @attribute bbox\n     * @param {Maps.LngLatBounds} [options.bbox] Bounding box.\n     */\n    bbox: {\n        validators: [validateBoundingBox],\n        converters: [convertBoundingBox]\n    },\n\n    view: {\n        validators: [validateOneOfValue(\n            ['Unified', 'IL', 'IN', 'MA', 'PK', 'AR', 'Arabic', 'TR', 'RU', 'CN'],\n            'view')]\n    },\n\n    /* eslint-disable max-len */\n    /**\n     * You can find the list of supported languages [here](MAPS_VECTOR_TILE_SUPPORTED_LANGS_URL).\n     * @attribute language\n     * @param {String} [options.language=\"NGT\"] Language to use for the labels.\n     *\n     */\n    /* eslint-disable max-len */\n    language: {\n        validators: [validateMapsLanguage]\n    }\n};\n\n/**\n * @ignore\n * Validate a combination of properties. Done here because chain.js does not support such behaviour.\n * @throws Error\n * @param {Object} data\n */\nfunction validateCombineProperties(data) {\n\n    // Executing additional more complex validations\n    if (!SUPPORTED_IMAGE_FORMATS_PER_LAYER[data.layer] ||\n        SUPPORTED_IMAGE_FORMATS_PER_LAYER[data.layer].indexOf(data.format) === -1) {\n        throw new Error('Unsupported layer. Please change to PNG or use basic layer.');\n    }\n\n    if (data.bbox && data.center) {\n        // If both are used - service will return a HTTP 400 response.\n        throw new Error('The bbox and center properties cannot be used together');\n    }\n\n    if (!data.bbox && !data.center) {\n        throw new Error('Either bbox or center property must be provided');\n    }\n\n    if (data.bbox && (isValidNumber(data.width) || isValidNumber(data.height))) {\n        // If both are used - service will return a HTTP 400 response.\n        throw new Error('The bbox, width and height properties cannot be used together');\n    }\n}\n\nfunction convertBBoxToString(bbox) {\n    return bbox.minLon + ',' + bbox.minLat + ',' + bbox.maxLon + ',' + bbox.maxLat;\n}\n\nfunction serializeToStringIfNecessary(propertyName, propertyValue) {\n    if (propertyName === 'bbox') {\n        propertyValue = convertBBoxToString(propertyValue);\n    } else if (propertyName === 'zoom') {\n        return String(parseInt(propertyValue, 10));\n    } else if (propertyName === 'center') {\n        const splitCenter = propertyValue.split(',');\n        const lngLatCenter = [parseFloat(splitCenter[1]), parseFloat(splitCenter[0])];\n        return lngLatCenter[0] + ',' + lngLatCenter[1];\n    }\n    return propertyValue;\n}\n\n/**\n * @ignore\n * Build the URL string using the available configuration.\n * @param {string} baseUrl\n * @param {Object} data\n * @return {String}\n */\nfunction toUrl(baseUrl, data) {\n    const querySegments = Object.keys(fields).reduce(function(segments, propertyName) {\n        let propertyValue = data[propertyName];\n        if (propertyValue !== undefined) {\n            propertyValue = serializeToStringIfNecessary(propertyName, propertyValue);\n            segments.push(propertyName + '=' + encodeURI(propertyValue));\n        }\n        return segments;\n    }, []);\n    return baseUrl + '?' + querySegments.join('&');\n}\n\nexport function staticImage(options, additionalOptions) {\n    const endpoints = new Endpoints(additionalOptions);\n    function handleServiceCall(data) {\n        validateCombineProperties(data);\n        return toUrl(endpoints.resolve('staticMapImageEndpoint'), data);\n    }\n    return serviceFactory(\n        fields,\n        SERVICE_TYPES.MAP,\n        'staticImage',\n        handleServiceCall\n    )(options, additionalOptions);\n}\n","/**\n * The Copyrights service implementation provides a full copyrights notice in a HTML format that can be displayed to\n * the user when the copyrights link is clicked.\n *\n * Parameters need to be passed to the constructor.\n *\n * ### Response\n * The response from the service is a HTML string with the copyrights information that have to be displayed.\n * The whole respose is wrapped into a div element with the id copyrightMessage.\n * ```html\n * <div id=\"copyrightMessage\"><h4>General Copyrights:</h4>\n *  <p>© 1992 - 2021 TomTom. All rights reserved. This\n *  material is proprietary and the subject of copyright protection, database\n *  right protection and other intellectual property rights owned by TomTom\n *  or its suppliers. The use of this material is subject to the terms of\n *  a license agreement. Any unauthorized copying or disclosure of this\n *  material will lead to criminal and civil liabilities.,</p>\n *  <p>Data Source © 2021 TomTom,</p>\n *  <p>based on https://www.tomtom.com/en_gb/thirdpartyproductterms/</p>\n * </div>\n * ```\n *\n * The response is also extended by `getTrackingId()` method, which returns the `Tracking-ID`\n * associated with the request.\n *\n * @example\n * ```js\n * tt.services.copyrightsV2({\n *   key: <Your API key>\n * }).then(function(response) {\n *    console.log(response);\n * });\n * ```\n *\n * @class copyrightsV2\n * @namespace Services.services\n * @module Services\n * @constructor\n * @uses KeyMixin\n * @uses TrackingIdMixin\n * @uses AbortSignalMixin\n *\n * @param {Object} [options] Options to be passed to the call\n */\n\nimport {SERVICE_TYPES} from 'Core/serviceTypes';\nimport {\n    string as validateString, trackingId as validateTrackingId\n} from '../validators';\nimport parameterApplications from '../../common/parameterApplications';\nimport { v4 as uuid } from 'uuid';\nimport { singleRequestServiceFactory, serviceFactory } from '../../core';\nimport { Endpoints } from '../../endpoints/endpointsManager';\nimport { modelResponse } from '../../model/modelResponse';\n\nconst fields = {\n    key: {\n        validators: [validateString]\n    },\n    trackingId: {\n        validators: [validateTrackingId],\n        application: parameterApplications.HEADER,\n        defaultValue: uuid\n    }\n};\n\nexport function copyrightsV2(options, additionalOptions) {\n    const endpoints = new Endpoints(additionalOptions);\n    const singleRequest = singleRequestServiceFactory(endpoints.resolve('copyrightsV2Endpoint'));\n\n    function handleServiceCall(requestOptions, abortSignal) {\n        requestOptions.contentType = 'text';\n        return singleRequest(fields, requestOptions, abortSignal).then(modelResponse);\n    }\n\n    return serviceFactory(\n        fields,\n        SERVICE_TYPES.MAP,\n        'copyrights',\n        handleServiceCall\n    )(options, additionalOptions);\n}\n","/**\n * The copyright caption service implementation provides a caption that is supposed to be displayed on a link\n * that provides the full copyright notice. The response is not changed often.\n *\n * This service is supposed to be called once when user has the map displayed for the first time.\n *\n * ### Response\n * ```\n * {\n *  \"formatVersion\": \"0.0.1\"\n *  \"copyrightsCaption\": \"© 1992 - 2021 TomTom.\"\n * }\n * ```\n *\n * The response is also extended with `getTrackingId()` method, which returns the `Tracking-ID`\n * associated with the request.\n *\n * This text (\"© 1992 - 2021 TomTom.\") has to be displayed as a copyrights prompt when using TomTom services.\n * The caption should be clickable. A user should be presented with the full copyrights notice when\n * the caption is clicked. Full copyright notice can be retrieved from the\n * {{#crossLink \"Services.services.copyrightsV2\"}}CopyrightsV2 service{{/crossLink}}.\n *\n * @example\n * ```js\n * tt.services.copyrightsCaptionV2({\n *   key: <Your API key>\n*  }).then(function(response) {\n *   console.log(response);\n * });\n * ```\n *\n * @class copyrightsCaptionV2\n * @namespace Services.services\n * @module Services\n * @uses TrackingIdMixin\n * @constructor\n * @uses KeyMixin\n * @uses AbortSignalMixin\n *\n * @param {Object} [options]\n */\n\nimport {SERVICE_TYPES} from 'Core/serviceTypes';\nimport { singleRequestServiceFactory, serviceFactory } from '../../core';\nimport { modelResponse } from '../../model/modelResponse';\nimport parameterApplications from '../../common/parameterApplications';\nimport {\n    key as validateKey, trackingId as validateTrackingId\n} from '../validators';\nimport { Endpoints } from '../../endpoints/endpointsManager';\nimport { v4 as uuid } from 'uuid';\n\nconst fields = {\n    key: {\n        validators: [validateKey]\n    },\n    trackingId: {\n        validators: [validateTrackingId],\n        application: parameterApplications.HEADER,\n        defaultValue: uuid\n    }\n};\n\nexport function copyrightsCaptionV2(options, additionalOptions) {\n    const endpoints = new Endpoints(additionalOptions);\n    const singleRequest = singleRequestServiceFactory(endpoints.resolve('captionV2Endpoint'));\n    function handleServiceCall(data, abortSignal) {\n        return singleRequest(fields, data, abortSignal).then(modelResponse);\n    }\n\n    return serviceFactory(\n        fields,\n        SERVICE_TYPES.MAP,\n        'copyrightsCaptionV2',\n        handleServiceCall\n    )(options, additionalOptions);\n}\n","import mainConfig from 'mainConfig';\nimport { setProductInfo } from './requester/analytics';\n\nimport * as searchService from './search';\nimport * as routingService from './routing';\nimport * as trafficService from './traffic';\nimport * as mapDisplayService from './mapDisplay';\nimport * as _endpoints from './endpoints/endpoints';\n\nconst sdkInfo = {\n    version: mainConfig['sdk.version']\n};\n\nconst services = {\n    ...searchService,\n    ...routingService,\n    ...trafficService,\n    ...mapDisplayService,\n    _endpoints\n};\n\n/**\n * <h3 id=\"overview\">Overview</h3>\n * The Services library provides the necessary tools to integrate all Tomtom services with your application.\n * We take care of all the aspects required to make the calls to the Tomtom APIs, such as the construction of the URL,\n * validation, and error handling. It is worth noting that by using our help, you avoid making mistakes and extra calls\n * to the service.\n *\n * We provide three different bundles of the library:\n *\n * - __services-web.min.js__ - use this file if you want to include the library directly on a web page,\n * it can be imported in the `<head>` of your HTML document.\n * The `tt` global object  will be created and attached to the `window`.\n * - __services.min.js__ - use this file if you are using a module bundler. It conforms the\n * <a target=\"_blank\" rel=”noopener” href=\"https://github.com/umdjs/umd\">UMD standard</a>.\n * In case you use ES6 imports all you need is: <br/>`import tt from 'services.min.js'`\n * - __services-node.min.js__ - use this file if you want to use our services in Node.js.\n *\n * <div class=\"alert alert-info margin-top-16\">\n * If you want to display a map on the webpage, go to\n * {{#crossLinkModule \"Maps\"}}Maps library documentation{{/crossLinkModule}}.\n *  </div>\n *\n * <h3 id=\"difference_between_api_responses_and_this_librarys_responses\">Difference\n * between API responses and this library's responses</h3>\n * _Services library_ provides an easy way to get responses from APIs like\n * <a href=\"https://developer.tomtom.com/search-api/search-api-documentation\"\n * target=\"_blank\" rel=”noopener”>Search API</a>,\n * <a href=\"https://developer.tomtom.com/routing-api/routing-api-documentation\"\n * target=\"_blank\" rel=”noopener”>Routing API</a>\n * or <a href=\"https://developer.tomtom.com/traffic-api/traffic-api-documentation\"\n * target=\"_blank\" rel=”noopener”>Traffic API</a>.\n * In order to maintain consistency between data types returned by those APIs, and\n * to make it more convenient to use those responses and data types with the\n * {{#crossLinkModule \"Maps\"}}Maps library{{/crossLinkModule}}, **_Services library_ alters\n * original responses**:\n * * point representations like `[lat, lon]`, `'lat, lon'`, `{lon, lat}`, `{latitude, longitude}`, `{x, y}`\n * are mapped to `{lng, lat}` Object type.\n * * some services responses are extended by additional methods like `toGeoJson()`\n * ({{#crossLink \"Services.services.calculateRoute\"}}calculateRoute{{/crossLink}},\n * {{#crossLink \"Services.services.calculateReachableRange\"}}calculateReachableRange{{/crossLink}},\n * {{#crossLink \"Services.services.alongRouteSearch\"}}alongRouteSearch{{/crossLink}},\n * {{#crossLink \"Services.services.placeById\"}}placeById{{/crossLink}},\n * {{#crossLink \"Services.services.fuzzySearch\"}}fuzzySearch{{/crossLink}},\n * {{#crossLink \"Services.services.geometrySearch\"}}geometrySearch{{/crossLink}},\n * {{#crossLink \"Services.services.nearbySearch\"}}nearbySearch{{/crossLink}},\n * {{#crossLink \"Services.services.categorySearch\"}}categorySearch{{/crossLink}},\n * {{#crossLink \"Services.services.poiSearch\"}}poiSearch{{/crossLink}},\n * {{#crossLink \"Services.services.structuredGeocode\"}}structuredGeocode{{/crossLink}},\n * {{#crossLink \"Services.services.geocode\"}}geocode{{/crossLink}}).\n\n * Usage of this method is presented on the documentation page of each service mentioned.\n * * The `getTrackingId()` method is also available as part of the service response\n * in order to obtain the `Tracking-ID` associated with the request.\n *\n * Most services are asynchronous and return\n * <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"\n * target=\"_blank\" rel=”noopener”>Promise</a>\n * except for {{#crossLink \"Services.services.staticImage\"}}staticImage{{/crossLink}}, which return URL string.\n *\n * @module Services\n * @main Services\n */\n\n/**\n * This object aggregates all the services available in TomTom.\n *\n * Please refer to the following documentation to check what properties are on the tt object,\n * and how you can make calls to TomTom services.\n *\n * @class tt\n * @namespace Services\n */\n\n/**\n * @property services\n * @type services\n * @description An object, which contains all supported services.\n */\n\n/**\n * @method sdkInfo\n * @type function\n * @description Returns SDK details (e.g., version).\n * @return {Object}\n */\n\n/**\n * @method setProductInfo\n * @type function\n * @description This method sets the content of the TomTom-User-Agent header. We are collecting anonymous data for\n * statistics of the usage of our services in order to increase the quality of our products.\n * @param {String} productId Identifier (e.g., a name) of your application e.g.,&nbsp;MyApplication\n * @param {String} productVersion Version of your application e.g.,&nbsp;1.0.2\n * @example\n * ```javascript\n * tt.setProductInfo('your-product-id', 'your-product-version');\n * ```\n */\n\nexport default {\n    sdkInfo,\n    setProductInfo,\n    services\n};\n"],"names":["installedChunks","origin","module","exports","baseGetTag","isObject","value","tag","Symbol","getRawTag","objectToString","symToStringTag","toStringTag","undefined","Object","freeGlobal","freeSelf","self","root","Function","global","objectProto","prototype","hasOwnProperty","nativeObjectToString","toString","isOwn","call","unmasked","e","result","type","isArray","isObjectLike","Array","toInteger","toFinite","remainder","toNumber","INFINITY","isSymbol","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","other","valueOf","replace","isBinary","test","slice","baseHas","hasPath","object","path","key","castPath","isArguments","isIndex","isLength","toKey","hasFunc","index","length","isKey","stringToPath","reIsDeepProp","reIsPlainProp","memoizeCapped","rePropName","reEscapeChar","string","charCodeAt","push","match","number","quote","subString","memoize","func","cache","size","clear","MapCache","resolver","TypeError","memoized","args","arguments","apply","this","has","get","set","Cache","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","entries","entry","Hash","ListCache","Map","__data__","hashClear","hashDelete","hashGet","hashHas","hashSet","nativeCreate","getNative","baseIsNative","getValue","isFunction","isMasked","toSource","reIsHostCtor","funcProto","funcToString","reIsNative","RegExp","uid","coreJsData","maskSrcKey","exec","keys","IE_PROTO","data","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","assocIndexOf","splice","pop","eq","array","getMapData","isKeyable","map","baseToString","arrayMap","symbolProto","symbolToString","iteratee","baseIsArguments","propertyIsEnumerable","reIsUint","defineProperty","enumerable","_v","default","_v2","_v3","_v4","_nil","_version","_validate","_stringify","_parse","_interopRequireDefault","obj","__esModule","_rng","_nodeId","_clockseq","_lastMSecs","_lastNSecs","_default","options","buf","offset","i","b","node","clockseq","seedBytes","random","rng","msecs","Date","now","nsecs","dt","Error","tl","tmh","n","poolPtr","rnds8Pool","_crypto","randomFillSync","Uint8Array","require","byteToHex","substr","arr","uuid","toLowerCase","_regex","_md","name","version","hashfunc","generateUUID","namespace","str","unescape","encodeURIComponent","bytes","stringToBytes","err","DNS","URL","v","Buffer","from","createHash","update","digest","rnds","_sha","t","iterator","hasInstance","h","r","Math","m","split","f","a","c","x","File","FormData","constructor","static","o","some","append","delete","filter","l","getAll","forEach","d","formDataToBlob","F","B","padStart","p","async","toIterator","parts","clone","part","stream","ArrayBuffer","isView","position","byteOffset","end","byteLength","min","chunk","buffer","arrayBuffer","_Blob","Blob","blobParts","encoder","TextEncoder","element","encode","endings","String","decoder","TextDecoder","decode","it","globalThis","ReadableStream","ctrl","next","done","close","enqueue","return","start","relativeStart","max","relativeEnd","span","added","subarray","blob","defineProperties","process","emitWarning","assign","error","params","factory","SymbolPolyfill","description","noop","globals","window","typeIsObject","rethrowAssertionErrorRejection","originalPromise","Promise","originalPromiseThen","then","originalPromiseResolve","resolve","bind","originalPromiseReject","reject","newPromise","executor","promiseResolvedWith","promiseRejectedWith","reason","PerformPromiseThen","promise","onFulfilled","onRejected","uponPromise","uponFulfillment","uponRejection","transformPromiseWith","fulfillmentHandler","rejectionHandler","setPromiseIsHandledToTrue","queueMicrotask","globalQueueMicrotask","resolvedPromise","fn","reflectCall","V","promiseCall","SimpleQueue","_cursor","_size","_front","_elements","_next","_back","oldBack","newBack","QUEUE_MAX_ARRAY_SIZE","shift","oldFront","newFront","oldCursor","newCursor","elements","callback","peek","front","cursor","ReadableStreamReaderGenericInitialize","reader","_ownerReadableStream","_reader","_state","defaultReaderClosedPromiseInitialize","defaultReaderClosedPromiseResolve","defaultReaderClosedPromiseInitializeAsResolved","defaultReaderClosedPromiseInitializeAsRejected","_storedError","ReadableStreamReaderGenericCancel","ReadableStreamCancel","ReadableStreamReaderGenericRelease","defaultReaderClosedPromiseReject","defaultReaderClosedPromiseResetToRejected","readerLockException","_closedPromise","_closedPromise_resolve","_closedPromise_reject","AbortSteps","ErrorSteps","CancelSteps","PullSteps","NumberIsFinite","Number","isFinite","MathTrunc","trunc","ceil","floor","assertDictionary","context","assertFunction","assertObject","assertRequiredArgument","assertRequiredField","field","convertUnrestrictedDouble","censorNegativeZero","convertUnsignedLongLongWithEnforceRange","upperBound","MAX_SAFE_INTEGER","integerPart","assertReadableStream","IsReadableStream","AcquireReadableStreamDefaultReader","ReadableStreamDefaultReader","ReadableStreamAddReadRequest","readRequest","_readRequests","ReadableStreamFulfillReadRequest","_closeSteps","_chunkSteps","ReadableStreamGetNumReadRequests","ReadableStreamHasDefaultReader","IsReadableStreamDefaultReader","IsReadableStreamLocked","closed","defaultReaderBrandCheckException","cancel","read","resolvePromise","rejectPromise","ReadableStreamDefaultReaderRead","_errorSteps","releaseLock","_disturbed","_readableStreamController","configurable","AsyncIteratorPrototype","getPrototypeOf","ReadableStreamAsyncIteratorImpl","preventCancel","_ongoingPromise","_isFinished","_preventCancel","nextSteps","_nextSteps","returnSteps","_returnSteps","ReadableStreamAsyncIteratorPrototype","IsReadableStreamAsyncIterator","_asyncIteratorImpl","streamAsyncIteratorBrandCheckException","_a","setPrototypeOf","NumberIsNaN","isNaN","CreateArrayFromList","CopyDataBlockBytes","dest","destOffset","src","srcOffset","ArrayBufferSlice","begin","CloneAsUint8Array","O","DequeueValue","container","pair","_queue","_queueTotalSize","EnqueueValueWithSize","Infinity","RangeError","ResetQueue","ReadableStreamBYOBRequest","view","IsReadableStreamBYOBRequest","byobRequestBrandCheckException","_view","respond","bytesWritten","_associatedReadableByteStreamController","ReadableByteStreamControllerRespond","respondWithNewView","ReadableByteStreamControllerRespondWithNewView","ReadableByteStreamController","byobRequest","IsReadableByteStreamController","byteStreamControllerBrandCheckException","ReadableByteStreamControllerGetBYOBRequest","desiredSize","ReadableByteStreamControllerGetDesiredSize","_closeRequested","state","_controlledReadableByteStream","ReadableByteStreamControllerClose","ReadableByteStreamControllerEnqueue","ReadableByteStreamControllerError","ReadableByteStreamControllerClearPendingPullIntos","_cancelAlgorithm","ReadableByteStreamControllerClearAlgorithms","ReadableByteStreamControllerHandleQueueDrain","autoAllocateChunkSize","_autoAllocateChunkSize","bufferE","pullIntoDescriptor","bufferByteLength","bytesFilled","elementSize","viewConstructor","readerType","_pendingPullIntos","ReadableByteStreamControllerCallPullIfNeeded","controller","shouldPull","_started","ReadableStreamHasBYOBReader","ReadableStreamGetNumReadIntoRequests","ReadableByteStreamControllerShouldCallPull","_pulling","_pullAgain","_pullAlgorithm","ReadableByteStreamControllerInvalidateBYOBRequest","ReadableByteStreamControllerCommitPullIntoDescriptor","filledView","ReadableByteStreamControllerConvertPullIntoDescriptor","readIntoRequest","_readIntoRequests","ReadableStreamFulfillReadIntoRequest","ReadableByteStreamControllerEnqueueChunkToQueue","ReadableByteStreamControllerFillPullIntoDescriptorFromQueue","currentAlignedBytes","maxBytesToCopy","maxBytesFilled","maxAlignedBytes","totalBytesToCopyRemaining","ready","queue","headOfQueue","bytesToCopy","destStart","ReadableByteStreamControllerFillHeadPullIntoDescriptor","ReadableStreamClose","_byobRequest","ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue","ReadableByteStreamControllerShiftPendingPullInto","ReadableByteStreamControllerRespondInternal","firstDescriptor","ReadableByteStreamControllerRespondInClosedState","remainderSize","ReadableByteStreamControllerRespondInReadableState","transferredBuffer","firstPendingPullInto","ReadableStreamError","create","request","SetUpReadableStreamBYOBRequest","_strategyHWM","viewByteLength","SetUpReadableByteStreamController","startAlgorithm","pullAlgorithm","cancelAlgorithm","highWaterMark","AcquireReadableStreamBYOBReader","ReadableStreamBYOBReader","ReadableStreamAddReadIntoRequest","IsReadableStreamBYOBReader","byobReaderBrandCheckException","ReadableStreamBYOBReaderRead","DataView","BYTES_PER_ELEMENT","ctor","emptyView","ReadableByteStreamControllerPullInto","ExtractHighWaterMark","strategy","defaultHWM","ExtractSizeAlgorithm","convertQueuingStrategy","init","convertQueuingStrategySize","convertUnderlyingSinkAbortCallback","original","convertUnderlyingSinkCloseCallback","convertUnderlyingSinkStartCallback","convertUnderlyingSinkWriteCallback","assertWritableStream","IsWritableStream","supportsAbortController","AbortController","WritableStream","rawUnderlyingSink","rawStrategy","underlyingSink","abort","write","convertUnderlyingSink","InitializeWritableStream","sizeAlgorithm","WritableStreamDefaultController","writeAlgorithm","closeAlgorithm","abortAlgorithm","SetUpWritableStreamDefaultController","SetUpWritableStreamDefaultControllerFromUnderlyingSink","locked","streamBrandCheckException$2","IsWritableStreamLocked","WritableStreamAbort","WritableStreamCloseQueuedOrInFlight","WritableStreamClose","getWriter","AcquireWritableStreamDefaultWriter","WritableStreamDefaultWriter","_writer","_writableStreamController","_writeRequests","_inFlightWriteRequest","_closeRequest","_inFlightCloseRequest","_pendingAbortRequest","_backpressure","_abortReason","_abortController","_promise","wasAlreadyErroring","_resolve","_reject","_reason","_wasAlreadyErroring","WritableStreamStartErroring","closeRequest","writer","defaultWriterReadyPromiseResolve","closeSentinel","WritableStreamDefaultControllerAdvanceQueueIfNeeded","WritableStreamDealWithRejection","WritableStreamFinishErroring","WritableStreamDefaultWriterEnsureReadyPromiseRejected","WritableStreamHasOperationMarkedInFlight","storedError","writeRequest","WritableStreamRejectCloseAndClosedPromiseIfNeeded","abortRequest","defaultWriterClosedPromiseReject","WritableStreamUpdateBackpressure","backpressure","defaultWriterReadyPromiseInitialize","defaultWriterReadyPromiseReset","_ownerWritableStream","defaultWriterReadyPromiseInitializeAsResolved","defaultWriterClosedPromiseInitialize","defaultWriterReadyPromiseInitializeAsRejected","defaultWriterClosedPromiseResolve","defaultWriterClosedPromiseInitializeAsRejected","IsWritableStreamDefaultWriter","defaultWriterBrandCheckException","defaultWriterLockException","WritableStreamDefaultControllerGetDesiredSize","WritableStreamDefaultWriterGetDesiredSize","_readyPromise","WritableStreamDefaultWriterAbort","WritableStreamDefaultWriterClose","WritableStreamDefaultWriterRelease","WritableStreamDefaultWriterWrite","WritableStreamDefaultWriterEnsureClosedPromiseRejected","_closedPromiseState","defaultWriterClosedPromiseResetToRejected","_readyPromiseState","defaultWriterReadyPromiseReject","defaultWriterReadyPromiseResetToRejected","releasedError","chunkSize","_strategySizeAlgorithm","chunkSizeE","WritableStreamDefaultControllerErrorIfNeeded","WritableStreamDefaultControllerGetChunkSize","WritableStreamAddWriteRequest","enqueueE","_controlledWritableStream","WritableStreamDefaultControllerGetBackpressure","WritableStreamDefaultControllerWrite","abortReason","IsWritableStreamDefaultController","defaultControllerBrandCheckException$2","signal","WritableStreamDefaultControllerError","_abortAlgorithm","WritableStreamDefaultControllerClearAlgorithms","createAbortController","_writeAlgorithm","_closeAlgorithm","WritableStreamMarkCloseRequestInFlight","sinkClosePromise","WritableStreamFinishInFlightClose","WritableStreamFinishInFlightCloseWithError","WritableStreamDefaultControllerProcessClose","WritableStreamMarkFirstWriteRequestInFlight","WritableStreamFinishInFlightWrite","WritableStreamFinishInFlightWriteWithError","WritableStreamDefaultControllerProcessWrite","_readyPromise_resolve","_readyPromise_reject","NativeDOMException","DOMException","DOMException$1","isDOMExceptionConstructor","message","captureStackTrace","writable","createDOMExceptionPolyfill","ReadableStreamPipeTo","source","preventClose","preventAbort","shuttingDown","currentWrite","actions","shutdownWithAction","all","action","aborted","addEventListener","isOrBecomesErrored","shutdown","WritableStreamDefaultWriterCloseWithErrorPropagation","destClosed","waitForWritesToFinish","oldCurrentWrite","originalIsError","originalError","doTheRest","finalize","newError","isError","removeEventListener","resolveLoop","rejectLoop","resolveRead","rejectRead","ReadableStreamDefaultController","IsReadableStreamDefaultController","defaultControllerBrandCheckException$1","ReadableStreamDefaultControllerGetDesiredSize","ReadableStreamDefaultControllerCanCloseOrEnqueue","ReadableStreamDefaultControllerClose","ReadableStreamDefaultControllerEnqueue","ReadableStreamDefaultControllerError","ReadableStreamDefaultControllerClearAlgorithms","_controlledReadableStream","ReadableStreamDefaultControllerCallPullIfNeeded","ReadableStreamDefaultControllerShouldCallPull","SetUpReadableStreamDefaultController","ReadableStreamTee","cloneForBranch2","reason1","reason2","branch1","branch2","resolveCancelPromise","reading","readAgainForBranch1","readAgainForBranch2","canceled1","canceled2","cancelPromise","forwardReaderError","thisReader","pullWithDefaultReader","chunk1","chunk2","cloneE","pull1Algorithm","pull2Algorithm","pullWithBYOBReader","forBranch2","byobBranch","otherBranch","byobCanceled","clonedChunk","otherCanceled","cancel1Algorithm","compositeReason","cancelResult","cancel2Algorithm","CreateReadableByteStream","ReadableByteStreamTee","readAgain","CreateReadableStream","ReadableStreamDefaultTee","convertUnderlyingSourceCancelCallback","convertUnderlyingSourcePullCallback","convertUnderlyingSourceStartCallback","convertReadableStreamType","convertReadableStreamReaderMode","mode","convertPipeOptions","isAbortSignal","assertAbortSignal","Boolean","rawUnderlyingSource","underlyingSource","pull","convertUnderlyingDefaultOrByteSource","InitializeReadableStream","underlyingByteSource","SetUpReadableByteStreamControllerFromUnderlyingSource","SetUpReadableStreamDefaultControllerFromUnderlyingSource","streamBrandCheckException$1","getReader","rawOptions","convertReaderOptions","pipeThrough","rawTransform","transform","readable","convertReadableWritablePair","pipeTo","destination","tee","values","impl","AcquireReadableStreamAsyncIterator","convertIteratorOptions","convertQueuingStrategyInit","asyncIterator","byteLengthSizeFunction","ByteLengthQueuingStrategy","_byteLengthQueuingStrategyHighWaterMark","IsByteLengthQueuingStrategy","byteLengthBrandCheckException","countSizeFunction","CountQueuingStrategy","_countQueuingStrategyHighWaterMark","IsCountQueuingStrategy","countBrandCheckException","convertTransformerFlushCallback","convertTransformerStartCallback","convertTransformerTransformCallback","TransformStream","rawTransformer","rawWritableStrategy","rawReadableStrategy","writableStrategy","readableStrategy","transformer","flush","readableType","writableType","convertTransformer","readableHighWaterMark","readableSizeAlgorithm","writableHighWaterMark","writableSizeAlgorithm","startPromise_resolve","startPromise","_transformStreamController","_backpressureChangePromise","_writable","TransformStreamDefaultControllerPerformTransform","TransformStreamDefaultSinkWriteAlgorithm","TransformStreamError","TransformStreamDefaultSinkAbortAlgorithm","_readable","flushPromise","_flushAlgorithm","TransformStreamDefaultControllerClearAlgorithms","TransformStreamDefaultSinkCloseAlgorithm","TransformStreamSetBackpressure","TransformStreamDefaultSourcePullAlgorithm","TransformStreamErrorWritableAndUnblockWrite","CreateWritableStream","_backpressureChangePromise_resolve","InitializeTransformStream","TransformStreamDefaultController","transformAlgorithm","TransformStreamDefaultControllerEnqueue","transformResultE","flushAlgorithm","_controlledTransformStream","_transformAlgorithm","SetUpTransformStreamDefaultController","SetUpTransformStreamDefaultControllerFromTransformer","IsTransformStream","streamBrandCheckException","IsTransformStreamDefaultController","defaultControllerBrandCheckException","terminate","TransformStreamDefaultControllerTerminate","readableController","ReadableStreamDefaultControllerHasBackpressure","_File","fileBits","fileName","super","lastModified","stat","blobFromSync","fromBlob","statSync","blobFrom","fileFrom","fromFile","fileFromSync","BlobDataItem","mtimeMs","basename","createReadStream","MessageChannel","port","port1","ab","postMessage","baseKeys","getTag","isArrayLike","isBuffer","isPrototype","isTypedArray","nativeKeys","Ctor","overArg","arg","Set","WeakMap","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ctorString","stubFalse","freeExports","nodeType","freeModule","baseIsTypedArray","baseUnary","nodeUtil","nodeIsTypedArray","typedArrayTags","freeProcess","types","binding","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","id","loaded","__webpack_modules__","getter","definition","chunkId","reduce","promises","u","prop","nmd","paths","children","moreModules","modules","chunkIds","ids","runtime","installChunk","sdkInfo","mainConfig","headerName","getGlobalAnalytics","__tomtomAnalyticsInfo_","getHeaderContent","prodInfo","productInfo","getAnalyticsHeader","header","SERVICE_TYPES","isValidNumber","val","isValidValue","numberIsNaN","cloneProperties","clonedObject","property","addNewField","newFields","extend","validateAgainstSetOfValues","arrayOfValues","messageIfNotFound","indexOf","convertFieldStringIntoObject","fieldRegex","parserRecursive","rootLevel","char","charAt","pointRegex","circleRegex","addFields","defaultFields","mappings","routing","ar","defaultValue","search","NGT","incidentV5","keyValidator","isString","numberValidator","numValue","parseFloat","oneOfValueValidator","paramName","connectorNames","plugTypes","facilityTypes","mapsLangCodes","fuelTypes","incidentDetailsAvailableFields","isDateRfc3339","dateString","isNumberInInterval","checkArray","throwTypeErrorWhen","condition","checkLongitude","checkChargingMode","chargingMode","checkChargingCurve","chargingCurve","checkChargingConnections","chargingConnections","checkChargingCurveSupportPoint","chargingCurveSupportPoint","chargeInkWh","MAX_VALUE","timeToChargeInSeconds","checkChargingConnection","chargingConnection","checkPlugType","plugType","checkFacilityType","facilityType","checkLatitude","checkPointObjectOrArray","point","lat","lon","lng","validateField","validators","validator","required","validateNumberInInterval","errorMsg","integerRequired","isNil","isInteger","validateIntInInterval","validateAllowedTypes","allowedTypes","join","checkDateRfc3339","trackingId","bool","naturalInteger","positiveInteger","validateBoundingBox","bbox","hasBoundingBoxFields","minLat","maxLat","minLon","maxLon","checkBBoxNormalized","numberInInterval","integerInInterval","countryCode","languageCode","langCode","searchLanguageCodes","searchLanguageMap","countrySet","stringValue","connectorSet","fuelSet","mapcodes","mapcodesValues","countrySetAlpha3","allowEmpty","isPointValid","fuzzinessLevel","limit","entityType","entityTypeValues","geometryList","geoObject","waitTimeSeconds","clientTime","customEndpoints","customQueries","validCustomEndpointsObject","plainObject","endpointName","includes","validCustomEndpoint","validCustomQuery","PointFacade","convert","_isSinglePoint","_convertPoint","_convertToArrayOfPoints","_covertToDefaultFormat","longitude","latitude","y","isLatLon","_convertStringPoint","customPointConverter","pointFacade","convertResponsePoints","elem","boundingBox","btmRightPoint","topLeftPoint","viewport","summary","geoBias","getFeature","properties","propertyName","setProperty","feature","geometry","coordinates","newFeature","toGeoJson","features","results","convertEntryPoints","entryPoints","entryPoint","searchModel","batchModel","batchItems","batchItem","response","modelResponse","modelCallback","modeledResponseData","modeledResponse","getTrackingId","copyrightsV2Endpoint","captionV2Endpoint","batchSearchEndpoint","batchSyncSearchEndpoint","batchSearchQueryEndpoint","geocodeEndpoint","reverseGeocodeEndpoint","batchReverseGeocodeQueryEndpoint","structuredGeocodeEndpoint","searchEndpoint","batchStructuredGeocodeQueryEndpoint","adpEndpoint","batchAdpQueryEndpoint","nearbySearchEndpoint","batchNearbySearchQueryEndpoint","autocompleteEndpoint","poiCategoriesEndpoint","chargingAvailabilityEndpoint","batchChargingAvailabilityQueryEndpoint","placeByIdEndpoint","routingEndpoint","calculateReachableRangeEndpoint","batchRoutingQueryEndpoint","batchRoutingEndpoint","batchSyncRoutingEndpoint","matrixRoutingEndpoint","matrixSyncRoutingEndpoint","batchReachableRangeQueryEndpoint","longDistanceEVRoutingEndpoint","incidentDetailsV5Endpoint","incidentViewportEndpoint","flowSegmentDataEndpoint","incidentRegionsEndpoint","trafficLayerEndpoint","rasterTrafficFlowTilesLayerEndpoint","vectorTrafficFlowTilesLayerEndpoint","tileLayerEndpoint","staticMapImageEndpoint","Endpoints","additionalOptions","_customEndpoints","customDomain","_customDomain","defaultEndpoint","defaultEndpoints","_changeDomain","endpointUrl","newDomain","ValidationError","errors","consolidatedErrorMessages","dateRegex","Field","converters","deprecationDate","_validateFields","_isArrayOfFunctions","parse","getDefaultValue","getConverters","getValidators","getDeprecationDate","isRequired","log","_isLogPrinted","serviceName","serviceLog","_setLog","_displayWarning","date","isPastCurrentDate","serviceNameMsg","console","warn","checkDeprecation","runValidators","convertToFields","fields","convertedFields","internalValidator","isAppliedForAll","deprecationHandler","validationErrors","serviceType","converted","fieldValue","converter","processBatchItems","batchProperties","batchErrors","param","convertedField","concat","batchMode","validateTrackingId","goPrototype","abortSignal","serviceFactory","handleServiceCall","handleBatchServiceCall","batchFields","serviceCall","opt","serviceFields","template","_","isUndefined","uri","firstComma","meta","substring","charset","base64","typeFull","encoding","FetchBaseError","FetchError","systemError","code","errno","erroredSysCall","syscall","NAME","isURLSearchParameters","sort","isBlob","pipeline","promisify","INTERNALS","Body","body","boundary","disturbed","on","error_","url","bodyUsed","consumeBody","ct","headers","startsWith","formData","parameters","URLSearchParams","text","toFormData","JSON","accum","accumBytes","destroy","readableEnded","_readableState","ended","every","deprecate","json","instance","p1","p2","getBoundary","PassThrough","pipe","getNonSpecFormDataBoundary","extractContentType","validateHeaderName","validateHeaderValue","Headers","raw","method","Proxy","target","receiver","Reflect","thisArg","for","redirectStatus","isRedirect","Response","status","contentType","statusText","counter","ok","redirected","location","stripURLForUseAsAReferrer","originOnly","protocol","username","password","hash","pathname","ReferrerPolicy","isUrlPotentiallyTrustworthy","hostIp","host","hostIPVersion","isIP","endsWith","isOriginPotentiallyTrustworthy","isRequest","doBadDataWarn","Request","input","parsedURL","toUpperCase","inputBody","referrer","parsedReferrer","redirect","follow","compress","agent","insecureHTTPParser","referrerPolicy","format","validateReferrerPolicy","getNodeRequestOptions","contentLengthValue","totalBytes","getLengthSync","hasKnownLength","getTotalBytes","referrerURLCallback","referrerOriginCallback","policy","referrerSource","referrerURL","referrerOrigin","currentURL","determineRequestsReferrer","lastOffset","href","getSearch","AbortError","supportedSchemas","fetch","options_","send","emit","abortAndFinalize","request_","errorCallback","LAST_CHUNK","previousChunk","isChunkedTransfer","properLastChunkReceived","socket","onSocketClose","onData","prependListener","removeListener","fixResponseChunkedTransferBadEnding","s","endedWithEventsCount","_eventsCount","hadError","response_","setTimeout","fromRawHeaders","rawHeaders","statusCode","locationURL","requestOptions","orig","hostname","isDomainOrSubdomain","responseReferrerPolicy","policyTokens","token","parseReferrerPolicyFromHeader","once","responseOptions","statusMessage","codings","zlibOptions","finishFlush","writeToStream","catch","getRequestConfiguration","transformResponse","pathParameters","performRequest","getData","fetchProxy","withQueryParams","_getOriginalResponse","requestType","trackingIdHeader","errorResponse","getResponseText","getResponseJson","detailedError","queryParameters","queryParamValue","createKeyValueString","mapQueryParamToKeyValueString","addObjectBodyParams","bodyParams","stringify","ex","headerValue","setHeader","config","bodyParameters","addBodyParams","useHttp","getProtocol","isQueryParameter","fieldEntry","application","parameterApplications","isPathParam","isPostParam","isOtherParam","isHeaderParam","getFieldEntryNames","fieldName","createParamsNames","paramsFilterFunction","createQueryParamsNames","createPathParamsNames","createPostParamsNames","createOtherParamsNames","createHeaderParamsNames","createParams","createParamNamesFunction","paramValue","cast","createRequestParams","pathParams","queryParams","postParams","otherParams","headerParams","setField","copiedFields","setValue","singleRequestServiceFactory","endpoint","httpOptions","isEmpty","http","urlTemplate","batchRequestStrategy","endpoints","sync","redirectMode","batchRequestServiceFactory","maxNoOfElementsInBatchRequest","batchEndpoints","rawBatchItems","utils","item","query","urlBuilder","single","post","batchSync","batch","mainPostParamsName","getBodyParams","origins","destinations","optionalBodyParams","optionalBodyParamsNames","accumulator","getOptionalBodyParams","validateString","geometries","geometriesZoom","additionalData","singleAdpRequest","batchAdpRequest","normalizeLatitude","numLatitude","normalizeLongitude","numLongitude","castPoint","reverse","isLatLonFunction","latlon","first","second","xy","isLatitudeLongitude","castBoundingBox","sw","ne","isLatLonBBox","isRightLeftTopBottomBBox","left","bottom","right","top","getWest","getEast","getSouth","getNorth","isWestEastNorthSouthBBox","getNorthEast","getSouthWest","trim","languageConverter","mapping","language","synonyms","castAndNormalizePoint","convertPointOrCircle","radius","circleFromString","extractPointsFromPolygon","inputPoints","points","convertPointToLatitudeLongitude","splitPoint","convertBoundingBox","w","normalizeBoundingBox","dateTime","toISOString","figure","figureName","vertices","searchLanguage","arrayOfStrings","constantSpeedConsumption","commaSeparated","castArray","validateKey","maxDetourTime","validateIntegerInInterval","spreadingMode","validateOneOfValue","route","brandSet","categorySet","validateConnectorSet","minPowerKW","validateNumber","maxPowerKW","openingHours","timeZone","sortBy","detourOffset","validateBool","alongRouteSearch","singleRequest","batchRequest","engineType","validateFloat","consumptionPairsValidator","speedsAndConsumptions","sortedKeys","keysLength","validateIfPointsGreaterOrEqual","checkIfCorrectEngineType","vehicleEngineType","validateDependantParameters","paramName1","paramName2","validateTravelMode","travelMode","hasConstantSpeedConsumption","constantSpeedConsumptionInLitersPerHundredkm","constantSpeedConsumptionInkWhPerHundredkm","speedPairs","floatAndEngineType","efficiencyParameter","validateEfficiencyParameters","chargeParameter","budgetInRange","maxBudget","currentBudgetProvided","currentChargeInkWh","energyBudgetInkWh","currentFuelInLiters","fuelBudgetInLiters","requiredWithSpecificEngineType","consumptionInLiters","consumptionInWatts","electricEngine","firstParamCannotBeUsedWithSecond","paramNameUsed","paramNameToAvoid","requiresDependantParameter","parameterName","dependantParameter","notRequiredWithCategoryNorBrandSet","isQueryAbsent","isBrandSetAbsent","isCategorySetAbsent","consumptionRecuperationAltitudeParameter","recuperationInkWhPerkmAltitudeLoss","consumptionInkWhPerkmAltitudeGain","__all","typeahead","validateLimit","validateOffset","validateLanguageCode","convertLanguage","validateCountrySet","validateNaturalInteger","center","convertPoint","validatePoint","bestResult","bestResults","ofs","extendedPostalCodesFor","validateMapcodes","validateFuelSet","relatedPois","topLeft","btmRight","Search","searchParams","_getRestService","construct","service","CategorySearch","visible","categorySearch","chargingAvailability","evChargingStationsAvailability","FuzzySearch","minFuzzyLevel","validateFuzzinessLevel","maxFuzzyLevel","idxSet","entityTypeSet","convertArray","convertCommaSeparated","validateEntityType","sessionId","validateClientTime","fuzzySearch","GeometrySearch","validateGeometryList","convertGeometryList","geometrySearch","NearbySearch","nearbySearch","entityId","placeById","poiCategories","PoiSearch","poiSearch","resultSet","autocomplete","convertPoints","address","northEast","southWest","reverseGeocodeModel","addresses","ReverseGeocodeBase","reverseGeocodeConstructor","TYPE","reverseGeocode","crossStreetLookup","reverseGeocodeType","crossStreetLookupType","geocodeBaseFields","heading","allowFreeformNewline","additionalGeocodeFields","returnSpeedLimit","returnRoadUse","roadUse","roadUseValues","streetNumber","returnMatchType","crossStreetLookupFields","reverseGeocodeParams","ReverseGeocodeBasePrototype","reverseGeocodeBase","ReverseGeocode","geocodeModel","validatePositiveInteger","geocodeParams","geocode","CrossStreetLookup","validateCountryCode","streetName","crossStreet","municipality","municipalitySubdivision","countryTertiarySubdivision","countrySecondarySubdivision","countrySubdivision","postalCode","modifyRequestParams","checkBestResult","structuredGeocode","routeType","traffic","avoid","validateArrayOfValues","convertArrayOfStrings","departAt","convertDateTime","arriveAt","hilliness","windingness","report","vehicleMaxSpeed","vehicleWeight","accelerationEfficiency","decelerationEfficiency","uphillEfficiency","downhillEfficiency","hasEfficiencyParameterSet","vehicleAxleWeight","vehicleLength","vehicleWidth","vehicleHeight","vehicleCommercial","vehicleLoadType","convertConstantSpeedConsumption","auxiliaryPowerInLitersPerHour","fuelEnergyDensityInMJoulesPerLiter","efficiencyParameterRequired","maxChargeInkWh","auxiliaryPowerInkW","avoidAreas","rectangles","area","southWestCorner","northEastCorner","avoidVignette","validateCountrySetAlpha3","allowVignette","vehicleAdrTunnelRestrictionCode","numberOfSetParams","budget","forbiddenAvoid","distanceBudgetInMeters","timeBudgetInSec","commonRoutingParameters","reachableRange","reachableRangeModel","fieldsToSkip","calculateReachableRangeParameters","calculateReachableRange","batchReachableRangeModel","getCoordinates","getRouteFeature","isMultiLineString","legs","sections","segmentSummary","guidance","calculateRouteModel","routes","leg","toRouteSectionsCollection","featureCollection","section","startPointIndex","endPointIndex","lngLat","lineString","sectionType","simpleCategory","effectiveSpeedInKmh","delayInSeconds","tec","batchCalculateRouteModel","routingModel","routingParameters","alternativeType","locations","circle","routingLocation","maxAlternatives","instructionsType","routingGuidanceLanguageValues","routingLanguageMap","computeBestOrder","routeRepresentation","computeTravelTimeFor","vehicleHeading","minDeviationDistance","minDeviationTime","supportingPoints","arrayOfPoints","prepareSupportingPoints","getRoutingParameters","calculateRoute","extendedFields","chargingModes","minChargeAtDestinationInkWh","minChargeAtChargingStopsInkWh","longDistanceEVRouting","matrixRoutingModel","matrix","latLonFieldDescription","validateArrayOf","convertArrayOf","convertObjectOf","matrixRouting","fieldsToSkipProps","validateWaitTimeSeconds","matrixParameters","matrixRequest","matrixEndpoints","requestParams","matrixFactory","incidentViewport","flowSegmentDataModel","flowSegmentData","coordinate","zoom","zoomLevel","style","unit","thickness","openLr","trafficFlowSegmentData","availableFields","testFields","recursiveComparer","objToTest","objToCompare","incidentV5LanguageMap","incidentDetailsV5","SUPPORTED_IMAGE_FORMATS_PER_LAYER","layer","round","width","height","toUrl","baseUrl","segments","propertyValue","splitCenter","lngLatCenter","serializeToStringIfNecessary","encodeURI","staticImage","validateCombineProperties","copyrightsV2","copyrightsCaptionV2","setProductInfo","productId","productVersion","prodVersion","services","searchService","routingService","trafficService","mapDisplayService","_endpoints"],"sourceRoot":""}