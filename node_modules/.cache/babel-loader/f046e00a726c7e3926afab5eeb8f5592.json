{"ast":null,"code":"'use strict';\n\nvar domain = require('domain');\nvar eos = require('end-of-stream');\nvar p = require('process-nextick-args');\nvar once = require('once');\nvar exhaust = require('stream-exhaust');\nvar eosConfig = {\n  error: false\n};\nfunction rethrowAsync(err) {\n  process.nextTick(rethrow);\n  function rethrow() {\n    throw err;\n  }\n}\nfunction tryCatch(fn, args) {\n  try {\n    return fn.apply(null, args);\n  } catch (err) {\n    rethrowAsync(err);\n  }\n}\nfunction asyncDone(fn, cb) {\n  cb = once(cb);\n  var d = domain.create();\n  d.once('error', onError);\n  var domainBoundFn = d.bind(fn);\n  function done() {\n    d.removeListener('error', onError);\n    d.exit();\n    return tryCatch(cb, arguments);\n  }\n  function onSuccess(result) {\n    done(null, result);\n  }\n  function onError(error) {\n    if (!error) {\n      error = new Error('Promise rejected without Error');\n    }\n    done(error);\n  }\n  function asyncRunner() {\n    var result = domainBoundFn(done);\n    function onNext(state) {\n      onNext.state = state;\n    }\n    function onCompleted() {\n      onSuccess(onNext.state);\n    }\n    if (result && typeof result.on === 'function') {\n      // Assume node stream\n      d.add(result);\n      eos(exhaust(result), eosConfig, done);\n      return;\n    }\n    if (result && typeof result.subscribe === 'function') {\n      // Assume RxJS observable\n      result.subscribe(onNext, onError, onCompleted);\n      return;\n    }\n    if (result && typeof result.then === 'function') {\n      // Assume promise\n      result.then(onSuccess, onError);\n      return;\n    }\n  }\n  p.nextTick(asyncRunner);\n}\nmodule.exports = asyncDone;","map":{"version":3,"names":["domain","require","eos","p","once","exhaust","eosConfig","error","rethrowAsync","err","process","nextTick","rethrow","tryCatch","fn","args","apply","asyncDone","cb","d","create","onError","domainBoundFn","bind","done","removeListener","exit","arguments","onSuccess","result","Error","asyncRunner","onNext","state","onCompleted","on","add","subscribe","then","module","exports"],"sources":["/home/krishnansh/Documents/WebDev/PS/notus-react-main/node_modules/async-done/index.js"],"sourcesContent":["'use strict';\n\nvar domain = require('domain');\n\nvar eos = require('end-of-stream');\nvar p = require('process-nextick-args');\nvar once = require('once');\nvar exhaust = require('stream-exhaust');\n\nvar eosConfig = {\n  error: false,\n};\n\nfunction rethrowAsync(err) {\n  process.nextTick(rethrow);\n\n  function rethrow() {\n    throw err;\n  }\n}\n\nfunction tryCatch(fn, args) {\n  try {\n    return fn.apply(null, args);\n  } catch (err) {\n    rethrowAsync(err);\n  }\n}\n\nfunction asyncDone(fn, cb) {\n  cb = once(cb);\n\n  var d = domain.create();\n  d.once('error', onError);\n  var domainBoundFn = d.bind(fn);\n\n  function done() {\n    d.removeListener('error', onError);\n    d.exit();\n    return tryCatch(cb, arguments);\n  }\n\n  function onSuccess(result) {\n    done(null, result);\n  }\n\n  function onError(error) {\n    if (!error) {\n      error = new Error('Promise rejected without Error');\n    }\n    done(error);\n  }\n\n  function asyncRunner() {\n    var result = domainBoundFn(done);\n\n    function onNext(state) {\n      onNext.state = state;\n    }\n\n    function onCompleted() {\n      onSuccess(onNext.state);\n    }\n\n    if (result && typeof result.on === 'function') {\n      // Assume node stream\n      d.add(result);\n      eos(exhaust(result), eosConfig, done);\n      return;\n    }\n\n    if (result && typeof result.subscribe === 'function') {\n      // Assume RxJS observable\n      result.subscribe(onNext, onError, onCompleted);\n      return;\n    }\n\n    if (result && typeof result.then === 'function') {\n      // Assume promise\n      result.then(onSuccess, onError);\n      return;\n    }\n  }\n\n  p.nextTick(asyncRunner);\n}\n\nmodule.exports = asyncDone;\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,MAAM,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAE9B,IAAIC,GAAG,GAAGD,OAAO,CAAC,eAAe,CAAC;AAClC,IAAIE,CAAC,GAAGF,OAAO,CAAC,sBAAsB,CAAC;AACvC,IAAIG,IAAI,GAAGH,OAAO,CAAC,MAAM,CAAC;AAC1B,IAAII,OAAO,GAAGJ,OAAO,CAAC,gBAAgB,CAAC;AAEvC,IAAIK,SAAS,GAAG;EACdC,KAAK,EAAE;AACT,CAAC;AAED,SAASC,YAAY,CAACC,GAAG,EAAE;EACzBC,OAAO,CAACC,QAAQ,CAACC,OAAO,CAAC;EAEzB,SAASA,OAAO,GAAG;IACjB,MAAMH,GAAG;EACX;AACF;AAEA,SAASI,QAAQ,CAACC,EAAE,EAAEC,IAAI,EAAE;EAC1B,IAAI;IACF,OAAOD,EAAE,CAACE,KAAK,CAAC,IAAI,EAAED,IAAI,CAAC;EAC7B,CAAC,CAAC,OAAON,GAAG,EAAE;IACZD,YAAY,CAACC,GAAG,CAAC;EACnB;AACF;AAEA,SAASQ,SAAS,CAACH,EAAE,EAAEI,EAAE,EAAE;EACzBA,EAAE,GAAGd,IAAI,CAACc,EAAE,CAAC;EAEb,IAAIC,CAAC,GAAGnB,MAAM,CAACoB,MAAM,EAAE;EACvBD,CAAC,CAACf,IAAI,CAAC,OAAO,EAAEiB,OAAO,CAAC;EACxB,IAAIC,aAAa,GAAGH,CAAC,CAACI,IAAI,CAACT,EAAE,CAAC;EAE9B,SAASU,IAAI,GAAG;IACdL,CAAC,CAACM,cAAc,CAAC,OAAO,EAAEJ,OAAO,CAAC;IAClCF,CAAC,CAACO,IAAI,EAAE;IACR,OAAOb,QAAQ,CAACK,EAAE,EAAES,SAAS,CAAC;EAChC;EAEA,SAASC,SAAS,CAACC,MAAM,EAAE;IACzBL,IAAI,CAAC,IAAI,EAAEK,MAAM,CAAC;EACpB;EAEA,SAASR,OAAO,CAACd,KAAK,EAAE;IACtB,IAAI,CAACA,KAAK,EAAE;MACVA,KAAK,GAAG,IAAIuB,KAAK,CAAC,gCAAgC,CAAC;IACrD;IACAN,IAAI,CAACjB,KAAK,CAAC;EACb;EAEA,SAASwB,WAAW,GAAG;IACrB,IAAIF,MAAM,GAAGP,aAAa,CAACE,IAAI,CAAC;IAEhC,SAASQ,MAAM,CAACC,KAAK,EAAE;MACrBD,MAAM,CAACC,KAAK,GAAGA,KAAK;IACtB;IAEA,SAASC,WAAW,GAAG;MACrBN,SAAS,CAACI,MAAM,CAACC,KAAK,CAAC;IACzB;IAEA,IAAIJ,MAAM,IAAI,OAAOA,MAAM,CAACM,EAAE,KAAK,UAAU,EAAE;MAC7C;MACAhB,CAAC,CAACiB,GAAG,CAACP,MAAM,CAAC;MACb3B,GAAG,CAACG,OAAO,CAACwB,MAAM,CAAC,EAAEvB,SAAS,EAAEkB,IAAI,CAAC;MACrC;IACF;IAEA,IAAIK,MAAM,IAAI,OAAOA,MAAM,CAACQ,SAAS,KAAK,UAAU,EAAE;MACpD;MACAR,MAAM,CAACQ,SAAS,CAACL,MAAM,EAAEX,OAAO,EAAEa,WAAW,CAAC;MAC9C;IACF;IAEA,IAAIL,MAAM,IAAI,OAAOA,MAAM,CAACS,IAAI,KAAK,UAAU,EAAE;MAC/C;MACAT,MAAM,CAACS,IAAI,CAACV,SAAS,EAAEP,OAAO,CAAC;MAC/B;IACF;EACF;EAEAlB,CAAC,CAACQ,QAAQ,CAACoB,WAAW,CAAC;AACzB;AAEAQ,MAAM,CAACC,OAAO,GAAGvB,SAAS"},"metadata":{},"sourceType":"script"}