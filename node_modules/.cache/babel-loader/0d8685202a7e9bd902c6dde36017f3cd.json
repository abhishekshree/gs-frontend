{"ast":null,"code":"'use strict';\n\nvar through = require('through2');\nvar removeBom = require('remove-bom-buffer');\nvar SafeBuffer = require('safe-buffer').Buffer;\nfunction removeBomStream() {\n  var completed = false;\n  var buffer = SafeBuffer.alloc(0);\n  return through(onChunk, onFlush);\n  function removeAndCleanup(data) {\n    completed = true;\n    buffer = null;\n    return removeBom(data);\n  }\n  function onChunk(data, enc, cb) {\n    if (completed) {\n      return cb(null, data);\n    }\n    if (data.length >= 7) {\n      return cb(null, removeAndCleanup(data));\n    }\n    var bufferLength = buffer.length;\n    var chunkLength = data.length;\n    var totalLength = bufferLength + chunkLength;\n    buffer = SafeBuffer.concat([buffer, data], totalLength);\n    if (totalLength >= 7) {\n      return cb(null, removeAndCleanup(buffer));\n    }\n    cb();\n  }\n  function onFlush(cb) {\n    if (completed || !buffer) {\n      return cb();\n    }\n    cb(null, removeAndCleanup(buffer));\n  }\n}\nmodule.exports = removeBomStream;","map":{"version":3,"names":["through","require","removeBom","SafeBuffer","Buffer","removeBomStream","completed","buffer","alloc","onChunk","onFlush","removeAndCleanup","data","enc","cb","length","bufferLength","chunkLength","totalLength","concat","module","exports"],"sources":["/home/krishnansh/Documents/WebDev/PS/notus-react-main/node_modules/remove-bom-stream/index.js"],"sourcesContent":["'use strict';\n\nvar through = require('through2');\nvar removeBom = require('remove-bom-buffer');\nvar SafeBuffer = require('safe-buffer').Buffer;\n\nfunction removeBomStream() {\n  var completed = false;\n  var buffer = SafeBuffer.alloc(0);\n\n  return through(onChunk, onFlush);\n\n  function removeAndCleanup(data) {\n    completed = true;\n\n    buffer = null;\n\n    return removeBom(data);\n  }\n\n  function onChunk(data, enc, cb) {\n    if (completed) {\n      return cb(null, data);\n    }\n\n    if (data.length >= 7) {\n      return cb(null, removeAndCleanup(data));\n    }\n\n    var bufferLength = buffer.length;\n    var chunkLength = data.length;\n    var totalLength = bufferLength + chunkLength;\n\n    buffer = SafeBuffer.concat([buffer, data], totalLength);\n\n    if (totalLength >= 7) {\n      return cb(null, removeAndCleanup(buffer));\n    }\n    cb();\n  }\n\n  function onFlush(cb) {\n    if (completed || !buffer) {\n      return cb();\n    }\n\n    cb(null, removeAndCleanup(buffer));\n  }\n}\n\nmodule.exports = removeBomStream;\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,OAAO,GAAGC,OAAO,CAAC,UAAU,CAAC;AACjC,IAAIC,SAAS,GAAGD,OAAO,CAAC,mBAAmB,CAAC;AAC5C,IAAIE,UAAU,GAAGF,OAAO,CAAC,aAAa,CAAC,CAACG,MAAM;AAE9C,SAASC,eAAe,GAAG;EACzB,IAAIC,SAAS,GAAG,KAAK;EACrB,IAAIC,MAAM,GAAGJ,UAAU,CAACK,KAAK,CAAC,CAAC,CAAC;EAEhC,OAAOR,OAAO,CAACS,OAAO,EAAEC,OAAO,CAAC;EAEhC,SAASC,gBAAgB,CAACC,IAAI,EAAE;IAC9BN,SAAS,GAAG,IAAI;IAEhBC,MAAM,GAAG,IAAI;IAEb,OAAOL,SAAS,CAACU,IAAI,CAAC;EACxB;EAEA,SAASH,OAAO,CAACG,IAAI,EAAEC,GAAG,EAAEC,EAAE,EAAE;IAC9B,IAAIR,SAAS,EAAE;MACb,OAAOQ,EAAE,CAAC,IAAI,EAAEF,IAAI,CAAC;IACvB;IAEA,IAAIA,IAAI,CAACG,MAAM,IAAI,CAAC,EAAE;MACpB,OAAOD,EAAE,CAAC,IAAI,EAAEH,gBAAgB,CAACC,IAAI,CAAC,CAAC;IACzC;IAEA,IAAII,YAAY,GAAGT,MAAM,CAACQ,MAAM;IAChC,IAAIE,WAAW,GAAGL,IAAI,CAACG,MAAM;IAC7B,IAAIG,WAAW,GAAGF,YAAY,GAAGC,WAAW;IAE5CV,MAAM,GAAGJ,UAAU,CAACgB,MAAM,CAAC,CAACZ,MAAM,EAAEK,IAAI,CAAC,EAAEM,WAAW,CAAC;IAEvD,IAAIA,WAAW,IAAI,CAAC,EAAE;MACpB,OAAOJ,EAAE,CAAC,IAAI,EAAEH,gBAAgB,CAACJ,MAAM,CAAC,CAAC;IAC3C;IACAO,EAAE,EAAE;EACN;EAEA,SAASJ,OAAO,CAACI,EAAE,EAAE;IACnB,IAAIR,SAAS,IAAI,CAACC,MAAM,EAAE;MACxB,OAAOO,EAAE,EAAE;IACb;IAEAA,EAAE,CAAC,IAAI,EAAEH,gBAAgB,CAACJ,MAAM,CAAC,CAAC;EACpC;AACF;AAEAa,MAAM,CAACC,OAAO,GAAGhB,eAAe"},"metadata":{},"sourceType":"script"}